{"dependencies":[{"name":"@babel/runtime/helpers/defineProperty","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"X490zePjq+0IljAc8X0qcBg0iTo=","exportNames":["*"],"imports":1}},{"name":"../../../util/stacks/getStackSeriesIdentifier","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":32,"index":179},"end":{"line":7,"column":88,"index":235}}],"key":"FKJGwAHh/SJkcCe+/FCSx9vwEnE=","exportNames":["*"],"imports":1}},{"name":"../../../util/ChartUtils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":18,"index":255},"end":{"line":8,"column":53,"index":290}}],"key":"oaV3iW9ELHw25uvlge/j+D08C3U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _defineProperty = require(_dependencyMap[0], \"@babel/runtime/helpers/defineProperty\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.combineDisplayedStackedData = combineDisplayedStackedData;\n  var _getStackSeriesIdentifier = require(_dependencyMap[1], \"../../../util/stacks/getStackSeriesIdentifier\");\n  var _ChartUtils = require(_dependencyMap[2], \"../../../util/ChartUtils\");\n  /**\n   * In a stacked chart, each graphical item has its own data. That data could be either:\n   * - defined on the chart root, in which case the item gets a unique dataKey\n   * - or defined on the item itself, in which case multiple items can share the same dataKey\n   *\n   * That means we cannot use the dataKey as a unique identifier for the item.\n   *\n   * This type represents a single data point in a stacked chart, where each key is a series identifier\n   * and the value is the numeric value for that series using the numerical axis dataKey.\n   */\n\n  function combineDisplayedStackedData(stackedGraphicalItems, _ref, tooltipAxisSettings) {\n    var _ref$chartData = _ref.chartData,\n      chartData = _ref$chartData === void 0 ? [] : _ref$chartData;\n    var allowDuplicatedCategory = tooltipAxisSettings.allowDuplicatedCategory,\n      tooltipDataKey = tooltipAxisSettings.dataKey;\n\n    // A map of tooltip data keys to the stacked data points\n    var knownItemsByDataKey = new Map();\n    stackedGraphicalItems.forEach(function (item) {\n      var _item$data;\n      // If there is no data on the individual item then we use the root chart data\n      var resolvedData = (_item$data = item.data) !== null && _item$data !== void 0 ? _item$data : chartData;\n      if (resolvedData == null || resolvedData.length === 0) {\n        // if that doesn't work then we skip this item\n        return;\n      }\n      var stackIdentifier = (0, _getStackSeriesIdentifier.getStackSeriesIdentifier)(item);\n      resolvedData.forEach(function (entry, index) {\n        var tooltipValue = tooltipDataKey == null || allowDuplicatedCategory ? index : String((0, _ChartUtils.getValueByDataKey)(entry, tooltipDataKey, null));\n        var numericValue = (0, _ChartUtils.getValueByDataKey)(entry, item.dataKey, 0);\n        var curr;\n        if (knownItemsByDataKey.has(tooltipValue)) {\n          curr = knownItemsByDataKey.get(tooltipValue);\n        } else {\n          curr = {};\n        }\n        Object.assign(curr, _defineProperty({}, stackIdentifier, numericValue));\n        knownItemsByDataKey.set(tooltipValue, curr);\n      });\n    });\n    return Array.from(knownItemsByDataKey.values());\n  }\n});","lineCount":54,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_defineProperty"],[4,21,1,13],[4,24,1,13,"require"],[4,31,1,13],[4,32,1,13,"_dependencyMap"],[4,46,1,13],[4,92,1,13,"default"],[4,99,1,13],[5,2,3,0,"Object"],[5,8,3,6],[5,9,3,7,"defineProperty"],[5,23,3,21],[5,24,3,22,"exports"],[5,31,3,29],[5,33,3,31],[5,45,3,43],[5,47,3,45],[6,4,4,2,"value"],[6,9,4,7],[6,11,4,9],[7,2,5,0],[7,3,5,1],[7,4,5,2],[8,2,6,0,"exports"],[8,9,6,7],[8,10,6,8,"combineDisplayedStackedData"],[8,37,6,35],[8,40,6,38,"combineDisplayedStackedData"],[8,67,6,65],[9,2,7,0],[9,6,7,4,"_getStackSeriesIdentifier"],[9,31,7,29],[9,34,7,32,"require"],[9,41,7,39],[9,42,7,39,"_dependencyMap"],[9,56,7,39],[9,108,7,87],[9,109,7,88],[10,2,8,0],[10,6,8,4,"_ChartUtils"],[10,17,8,15],[10,20,8,18,"require"],[10,27,8,25],[10,28,8,25,"_dependencyMap"],[10,42,8,25],[10,73,8,52],[10,74,8,53],[11,2,9,0],[12,0,10,0],[13,0,11,0],[14,0,12,0],[15,0,13,0],[16,0,14,0],[17,0,15,0],[18,0,16,0],[19,0,17,0],[20,0,18,0],[22,2,20,0],[22,11,20,9,"combineDisplayedStackedData"],[22,38,20,36,"combineDisplayedStackedData"],[22,39,20,37,"stackedGraphicalItems"],[22,60,20,58],[22,62,20,60,"_ref"],[22,66,20,64],[22,68,20,66,"tooltipAxisSettings"],[22,87,20,85],[22,89,20,87],[23,4,21,2],[23,8,21,2,"_ref$chartData"],[23,22,21,2],[23,25,23,6,"_ref"],[23,29,23,10],[23,30,22,4,"chartData"],[23,39,22,13],[24,6,22,4,"chartData"],[24,15,22,13],[24,18,22,13,"_ref$chartData"],[24,32,22,13],[24,46,22,16],[24,48,22,18],[24,51,22,18,"_ref$chartData"],[24,65,22,18],[25,4,24,2],[25,8,25,4,"allowDuplicatedCategory"],[25,31,25,27],[25,34,27,6,"tooltipAxisSettings"],[25,53,27,25],[25,54,25,4,"allowDuplicatedCategory"],[25,77,25,27],[26,6,26,13,"tooltipDataKey"],[26,20,26,27],[26,23,27,6,"tooltipAxisSettings"],[26,42,27,25],[26,43,26,4,"dataKey"],[26,50,26,11],[28,4,29,2],[29,4,30,2],[29,8,30,6,"knownItemsByDataKey"],[29,27,30,25],[29,30,30,28],[29,34,30,32,"Map"],[29,37,30,35],[29,38,30,36],[29,39,30,37],[30,4,31,2,"stackedGraphicalItems"],[30,25,31,23],[30,26,31,24,"forEach"],[30,33,31,31],[30,34,31,32],[30,44,31,32,"item"],[30,48,31,36],[30,50,31,40],[31,6,32,4],[31,10,32,8,"_item$data"],[31,20,32,18],[32,6,33,4],[33,6,34,4],[33,10,34,8,"resolvedData"],[33,22,34,20],[33,25,34,23],[33,26,34,24,"_item$data"],[33,36,34,34],[33,39,34,37,"item"],[33,43,34,41],[33,44,34,42,"data"],[33,48,34,46],[33,54,34,52],[33,58,34,56],[33,62,34,60,"_item$data"],[33,72,34,70],[33,77,34,75],[33,82,34,80],[33,83,34,81],[33,86,34,84,"_item$data"],[33,96,34,94],[33,99,34,97,"chartData"],[33,108,34,106],[34,6,35,4],[34,10,35,8,"resolvedData"],[34,22,35,20],[34,26,35,24],[34,30,35,28],[34,34,35,32,"resolvedData"],[34,46,35,44],[34,47,35,45,"length"],[34,53,35,51],[34,58,35,56],[34,59,35,57],[34,61,35,59],[35,8,36,6],[36,8,37,6],[37,6,38,4],[38,6,39,4],[38,10,39,8,"stackIdentifier"],[38,25,39,23],[38,28,39,26],[38,29,39,27],[38,30,39,28],[38,32,39,30,"_getStackSeriesIdentifier"],[38,57,39,55],[38,58,39,56,"getStackSeriesIdentifier"],[38,82,39,80],[38,84,39,82,"item"],[38,88,39,86],[38,89,39,87],[39,6,40,4,"resolvedData"],[39,18,40,16],[39,19,40,17,"forEach"],[39,26,40,24],[39,27,40,25],[39,37,40,26,"entry"],[39,42,40,31],[39,44,40,33,"index"],[39,49,40,38],[39,51,40,43],[40,8,41,6],[40,12,41,10,"tooltipValue"],[40,24,41,22],[40,27,41,25,"tooltipDataKey"],[40,41,41,39],[40,45,41,43],[40,49,41,47],[40,53,41,51,"allowDuplicatedCategory"],[40,76,41,74],[40,79,41,77,"index"],[40,84,41,82],[40,87,41,85,"String"],[40,93,41,91],[40,94,41,92],[40,95,41,93],[40,96,41,94],[40,98,41,96,"_ChartUtils"],[40,109,41,107],[40,110,41,108,"getValueByDataKey"],[40,127,41,125],[40,129,41,127,"entry"],[40,134,41,132],[40,136,41,134,"tooltipDataKey"],[40,150,41,148],[40,152,41,150],[40,156,41,154],[40,157,41,155],[40,158,41,156],[41,8,42,6],[41,12,42,10,"numericValue"],[41,24,42,22],[41,27,42,25],[41,28,42,26],[41,29,42,27],[41,31,42,29,"_ChartUtils"],[41,42,42,40],[41,43,42,41,"getValueByDataKey"],[41,60,42,58],[41,62,42,60,"entry"],[41,67,42,65],[41,69,42,67,"item"],[41,73,42,71],[41,74,42,72,"dataKey"],[41,81,42,79],[41,83,42,81],[41,84,42,82],[41,85,42,83],[42,8,43,6],[42,12,43,10,"curr"],[42,16,43,14],[43,8,44,6],[43,12,44,10,"knownItemsByDataKey"],[43,31,44,29],[43,32,44,30,"has"],[43,35,44,33],[43,36,44,34,"tooltipValue"],[43,48,44,46],[43,49,44,47],[43,51,44,49],[44,10,45,8,"curr"],[44,14,45,12],[44,17,45,15,"knownItemsByDataKey"],[44,36,45,34],[44,37,45,35,"get"],[44,40,45,38],[44,41,45,39,"tooltipValue"],[44,53,45,51],[44,54,45,52],[45,8,46,6],[45,9,46,7],[45,15,46,13],[46,10,47,8,"curr"],[46,14,47,12],[46,17,47,15],[46,18,47,16],[46,19,47,17],[47,8,48,6],[48,8,49,6,"Object"],[48,14,49,12],[48,15,49,13,"assign"],[48,21,49,19],[48,22,49,20,"curr"],[48,26,49,24],[48,28,49,24,"_defineProperty"],[48,43,49,24],[48,48,50,9,"stackIdentifier"],[48,63,50,24],[48,65,50,27,"numericValue"],[48,77,50,39],[48,78,51,7],[48,79,51,8],[49,8,52,6,"knownItemsByDataKey"],[49,27,52,25],[49,28,52,26,"set"],[49,31,52,29],[49,32,52,30,"tooltipValue"],[49,44,52,42],[49,46,52,44,"curr"],[49,50,52,48],[49,51,52,49],[50,6,53,4],[50,7,53,5],[50,8,53,6],[51,4,54,2],[51,5,54,3],[51,6,54,4],[52,4,55,2],[52,11,55,9,"Array"],[52,16,55,14],[52,17,55,15,"from"],[52,21,55,19],[52,22,55,20,"knownItemsByDataKey"],[52,41,55,39],[52,42,55,40,"values"],[52,48,55,46],[52,49,55,47],[52,50,55,48],[52,51,55,49],[53,2,56,0],[54,0,56,1],[54,3]],"functionMap":{"names":["<global>","combineDisplayedStackedData","stackedGraphicalItems.forEach$argument_0","resolvedData.forEach$argument_0"],"mappings":"AAA;ACmB;gCCW;yBCS;KDa;GDC"},"hasCjsExports":true},"type":"js/module"}]}