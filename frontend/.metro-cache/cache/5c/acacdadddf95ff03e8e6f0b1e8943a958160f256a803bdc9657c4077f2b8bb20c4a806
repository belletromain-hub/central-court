{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"../../types/StackedGraphicalItem","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":28,"index":145},"end":{"line":7,"column":71,"index":188}}],"key":"06uaj91iRwGAQWaz+AyEIyqOECM=","exportNames":["*"],"imports":1}},{"name":"../../../util/DataUtils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":17,"index":207},"end":{"line":8,"column":51,"index":241}}],"key":"DZiF419YUXF8+UcflZT0gMpHhnw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _slicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.combineBarSizeList = void 0;\n  var _StackedGraphicalItem = require(_dependencyMap[1], \"../../types/StackedGraphicalItem\");\n  var _DataUtils = require(_dependencyMap[2], \"../../../util/DataUtils\");\n  var getBarSize = (globalSize, totalSize, selfSize) => {\n    var barSize = selfSize !== null && selfSize !== void 0 ? selfSize : globalSize;\n    if ((0, _DataUtils.isNullish)(barSize)) {\n      return undefined;\n    }\n    return (0, _DataUtils.getPercentValue)(barSize, totalSize, 0);\n  };\n  var combineBarSizeList = (allBars, globalSize, totalSize) => {\n    var initialValue = {};\n    var stackedBars = allBars.filter(_StackedGraphicalItem.isStacked);\n    var unstackedBars = allBars.filter(b => b.stackId == null);\n    var groupByStack = stackedBars.reduce((acc, bar) => {\n      var s = acc[bar.stackId];\n      if (s == null) {\n        s = [];\n      }\n      s.push(bar);\n      acc[bar.stackId] = s;\n      return acc;\n    }, initialValue);\n    var stackedSizeList = Object.entries(groupByStack).map(_ref => {\n      var _bars$;\n      var _ref2 = _slicedToArray(_ref, 2),\n        stackId = _ref2[0],\n        bars = _ref2[1];\n      var dataKeys = bars.map(b => b.dataKey);\n      var barSize = getBarSize(globalSize, totalSize, (_bars$ = bars[0]) === null || _bars$ === void 0 ? void 0 : _bars$.barSize);\n      return {\n        stackId,\n        dataKeys,\n        barSize\n      };\n    });\n    var unstackedSizeList = unstackedBars.map(b => {\n      var dataKeys = [b.dataKey].filter(dk => dk != null);\n      var barSize = getBarSize(globalSize, totalSize, b.barSize);\n      return {\n        stackId: undefined,\n        dataKeys,\n        barSize\n      };\n    });\n    return [...stackedSizeList, ...unstackedSizeList];\n  };\n  exports.combineBarSizeList = combineBarSizeList;\n});","lineCount":56,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_slicedToArray"],[4,20,1,13],[4,23,1,13,"require"],[4,30,1,13],[4,31,1,13,"_dependencyMap"],[4,45,1,13],[4,90,1,13,"default"],[4,97,1,13],[5,2,3,0,"Object"],[5,8,3,6],[5,9,3,7,"defineProperty"],[5,23,3,21],[5,24,3,22,"exports"],[5,31,3,29],[5,33,3,31],[5,45,3,43],[5,47,3,45],[6,4,4,2,"value"],[6,9,4,7],[6,11,4,9],[7,2,5,0],[7,3,5,1],[7,4,5,2],[8,2,6,0,"exports"],[8,9,6,7],[8,10,6,8,"combineBarSizeList"],[8,28,6,26],[8,31,6,29],[8,36,6,34],[8,37,6,35],[9,2,7,0],[9,6,7,4,"_StackedGraphicalItem"],[9,27,7,25],[9,30,7,28,"require"],[9,37,7,35],[9,38,7,35,"_dependencyMap"],[9,52,7,35],[9,91,7,70],[9,92,7,71],[10,2,8,0],[10,6,8,4,"_DataUtils"],[10,16,8,14],[10,19,8,17,"require"],[10,26,8,24],[10,27,8,24,"_dependencyMap"],[10,41,8,24],[10,71,8,50],[10,72,8,51],[11,2,9,0],[11,6,9,4,"getBarSize"],[11,16,9,14],[11,19,9,17,"getBarSize"],[11,20,9,18,"globalSize"],[11,30,9,28],[11,32,9,30,"totalSize"],[11,41,9,39],[11,43,9,41,"selfSize"],[11,51,9,49],[11,56,9,54],[12,4,10,2],[12,8,10,6,"barSize"],[12,15,10,13],[12,18,10,16,"selfSize"],[12,26,10,24],[12,31,10,29],[12,35,10,33],[12,39,10,37,"selfSize"],[12,47,10,45],[12,52,10,50],[12,57,10,55],[12,58,10,56],[12,61,10,59,"selfSize"],[12,69,10,67],[12,72,10,70,"globalSize"],[12,82,10,80],[13,4,11,2],[13,8,11,6],[13,9,11,7],[13,10,11,8],[13,12,11,10,"_DataUtils"],[13,22,11,20],[13,23,11,21,"isNullish"],[13,32,11,30],[13,34,11,32,"barSize"],[13,41,11,39],[13,42,11,40],[13,44,11,42],[14,6,12,4],[14,13,12,11,"undefined"],[14,22,12,20],[15,4,13,2],[16,4,14,2],[16,11,14,9],[16,12,14,10],[16,13,14,11],[16,15,14,13,"_DataUtils"],[16,25,14,23],[16,26,14,24,"getPercentValue"],[16,41,14,39],[16,43,14,41,"barSize"],[16,50,14,48],[16,52,14,50,"totalSize"],[16,61,14,59],[16,63,14,61],[16,64,14,62],[16,65,14,63],[17,2,15,0],[17,3,15,1],[18,2,16,0],[18,6,16,4,"combineBarSizeList"],[18,24,16,22],[18,27,16,25,"combineBarSizeList"],[18,28,16,26,"allBars"],[18,35,16,33],[18,37,16,35,"globalSize"],[18,47,16,45],[18,49,16,47,"totalSize"],[18,58,16,56],[18,63,16,61],[19,4,17,2],[19,8,17,6,"initialValue"],[19,20,17,18],[19,23,17,21],[19,24,17,22],[19,25,17,23],[20,4,18,2],[20,8,18,6,"stackedBars"],[20,19,18,17],[20,22,18,20,"allBars"],[20,29,18,27],[20,30,18,28,"filter"],[20,36,18,34],[20,37,18,35,"_StackedGraphicalItem"],[20,58,18,56],[20,59,18,57,"isStacked"],[20,68,18,66],[20,69,18,67],[21,4,19,2],[21,8,19,6,"unstackedBars"],[21,21,19,19],[21,24,19,22,"allBars"],[21,31,19,29],[21,32,19,30,"filter"],[21,38,19,36],[21,39,19,37,"b"],[21,40,19,38],[21,44,19,42,"b"],[21,45,19,43],[21,46,19,44,"stackId"],[21,53,19,51],[21,57,19,55],[21,61,19,59],[21,62,19,60],[22,4,20,2],[22,8,20,6,"groupByStack"],[22,20,20,18],[22,23,20,21,"stackedBars"],[22,34,20,32],[22,35,20,33,"reduce"],[22,41,20,39],[22,42,20,40],[22,43,20,41,"acc"],[22,46,20,44],[22,48,20,46,"bar"],[22,51,20,49],[22,56,20,54],[23,6,21,4],[23,10,21,8,"s"],[23,11,21,9],[23,14,21,12,"acc"],[23,17,21,15],[23,18,21,16,"bar"],[23,21,21,19],[23,22,21,20,"stackId"],[23,29,21,27],[23,30,21,28],[24,6,22,4],[24,10,22,8,"s"],[24,11,22,9],[24,15,22,13],[24,19,22,17],[24,21,22,19],[25,8,23,6,"s"],[25,9,23,7],[25,12,23,10],[25,14,23,12],[26,6,24,4],[27,6,25,4,"s"],[27,7,25,5],[27,8,25,6,"push"],[27,12,25,10],[27,13,25,11,"bar"],[27,16,25,14],[27,17,25,15],[28,6,26,4,"acc"],[28,9,26,7],[28,10,26,8,"bar"],[28,13,26,11],[28,14,26,12,"stackId"],[28,21,26,19],[28,22,26,20],[28,25,26,23,"s"],[28,26,26,24],[29,6,27,4],[29,13,27,11,"acc"],[29,16,27,14],[30,4,28,2],[30,5,28,3],[30,7,28,5,"initialValue"],[30,19,28,17],[30,20,28,18],[31,4,29,2],[31,8,29,6,"stackedSizeList"],[31,23,29,21],[31,26,29,24,"Object"],[31,32,29,30],[31,33,29,31,"entries"],[31,40,29,38],[31,41,29,39,"groupByStack"],[31,53,29,51],[31,54,29,52],[31,55,29,53,"map"],[31,58,29,56],[31,59,29,57,"_ref"],[31,63,29,61],[31,67,29,65],[32,6,30,4],[32,10,30,8,"_bars$"],[32,16,30,14],[33,6,31,4],[33,10,31,4,"_ref2"],[33,15,31,4],[33,18,31,4,"_slicedToArray"],[33,32,31,4],[33,33,31,26,"_ref"],[33,37,31,30],[34,8,31,9,"stackId"],[34,15,31,16],[34,18,31,16,"_ref2"],[34,23,31,16],[35,8,31,18,"bars"],[35,12,31,22],[35,15,31,22,"_ref2"],[35,20,31,22],[36,6,32,4],[36,10,32,8,"dataKeys"],[36,18,32,16],[36,21,32,19,"bars"],[36,25,32,23],[36,26,32,24,"map"],[36,29,32,27],[36,30,32,28,"b"],[36,31,32,29],[36,35,32,33,"b"],[36,36,32,34],[36,37,32,35,"dataKey"],[36,44,32,42],[36,45,32,43],[37,6,33,4],[37,10,33,8,"barSize"],[37,17,33,15],[37,20,33,18,"getBarSize"],[37,30,33,28],[37,31,33,29,"globalSize"],[37,41,33,39],[37,43,33,41,"totalSize"],[37,52,33,50],[37,54,33,52],[37,55,33,53,"_bars$"],[37,61,33,59],[37,64,33,62,"bars"],[37,68,33,66],[37,69,33,67],[37,70,33,68],[37,71,33,69],[37,77,33,75],[37,81,33,79],[37,85,33,83,"_bars$"],[37,91,33,89],[37,96,33,94],[37,101,33,99],[37,102,33,100],[37,105,33,103],[37,110,33,108],[37,111,33,109],[37,114,33,112,"_bars$"],[37,120,33,118],[37,121,33,119,"barSize"],[37,128,33,126],[37,129,33,127],[38,6,34,4],[38,13,34,11],[39,8,35,6,"stackId"],[39,15,35,13],[40,8,36,6,"dataKeys"],[40,16,36,14],[41,8,37,6,"barSize"],[42,6,38,4],[42,7,38,5],[43,4,39,2],[43,5,39,3],[43,6,39,4],[44,4,40,2],[44,8,40,6,"unstackedSizeList"],[44,25,40,23],[44,28,40,26,"unstackedBars"],[44,41,40,39],[44,42,40,40,"map"],[44,45,40,43],[44,46,40,44,"b"],[44,47,40,45],[44,51,40,49],[45,6,41,4],[45,10,41,8,"dataKeys"],[45,18,41,16],[45,21,41,19],[45,22,41,20,"b"],[45,23,41,21],[45,24,41,22,"dataKey"],[45,31,41,29],[45,32,41,30],[45,33,41,31,"filter"],[45,39,41,37],[45,40,41,38,"dk"],[45,42,41,40],[45,46,41,44,"dk"],[45,48,41,46],[45,52,41,50],[45,56,41,54],[45,57,41,55],[46,6,42,4],[46,10,42,8,"barSize"],[46,17,42,15],[46,20,42,18,"getBarSize"],[46,30,42,28],[46,31,42,29,"globalSize"],[46,41,42,39],[46,43,42,41,"totalSize"],[46,52,42,50],[46,54,42,52,"b"],[46,55,42,53],[46,56,42,54,"barSize"],[46,63,42,61],[46,64,42,62],[47,6,43,4],[47,13,43,11],[48,8,44,6,"stackId"],[48,15,44,13],[48,17,44,15,"undefined"],[48,26,44,24],[49,8,45,6,"dataKeys"],[49,16,45,14],[50,8,46,6,"barSize"],[51,6,47,4],[51,7,47,5],[52,4,48,2],[52,5,48,3],[52,6,48,4],[53,4,49,2],[53,11,49,9],[53,12,49,10],[53,15,49,13,"stackedSizeList"],[53,30,49,28],[53,32,49,30],[53,35,49,33,"unstackedSizeList"],[53,52,49,50],[53,53,49,51],[54,2,50,0],[54,3,50,1],[55,2,51,0,"exports"],[55,9,51,7],[55,10,51,8,"combineBarSizeList"],[55,28,51,26],[55,31,51,29,"combineBarSizeList"],[55,49,51,47],[56,0,51,48],[56,3]],"functionMap":{"names":["<global>","getBarSize","combineBarSizeList","allBars.filter$argument_0","stackedBars.reduce$argument_0","Object.entries.map$argument_0","bars.map$argument_0","unstackedBars.map$argument_0","filter$argument_0"],"mappings":"AAA;iBCQ;CDM;yBEC;qCCG,sBD;wCEC;GFQ;yDGC;4BCG,cD;GHO;4CKC;sCCC,gBD;GLO;CFE"},"hasCjsExports":true},"type":"js/module"}]}