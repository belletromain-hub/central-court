{"dependencies":[{"name":"../../../lib-vendor/internmap/src/index.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":13,"index":309},"end":{"line":14,"column":66,"index":362}}],"key":"3AgdwXVyzEKuIcC7gD860UZ+d9s=","exportNames":["*"],"imports":1}},{"name":"./identity.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":15,"column":39,"index":403},"end":{"line":15,"column":63,"index":427}}],"key":"QfYvwL4jczS0bcMw+FNF07cKD00=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = group;\n  exports.flatGroup = flatGroup;\n  exports.flatRollup = flatRollup;\n  exports.groups = groups;\n  exports.index = index;\n  exports.indexes = indexes;\n  exports.rollup = rollup;\n  exports.rollups = rollups;\n  var _index = require(_dependencyMap[0], \"../../../lib-vendor/internmap/src/index.js\");\n  var _identity = _interopRequireDefault(require(_dependencyMap[1], \"./identity.js\"));\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n  function group(values, ...keys) {\n    return nest(values, _identity.default, _identity.default, keys);\n  }\n  function groups(values, ...keys) {\n    return nest(values, Array.from, _identity.default, keys);\n  }\n  function flatten(groups, keys) {\n    for (let i = 1, n = keys.length; i < n; ++i) {\n      groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n    }\n    return groups;\n  }\n  function flatGroup(values, ...keys) {\n    return flatten(groups(values, ...keys), keys);\n  }\n  function flatRollup(values, reduce, ...keys) {\n    return flatten(rollups(values, reduce, ...keys), keys);\n  }\n  function rollup(values, reduce, ...keys) {\n    return nest(values, _identity.default, reduce, keys);\n  }\n  function rollups(values, reduce, ...keys) {\n    return nest(values, Array.from, reduce, keys);\n  }\n  function index(values, ...keys) {\n    return nest(values, _identity.default, unique, keys);\n  }\n  function indexes(values, ...keys) {\n    return nest(values, Array.from, unique, keys);\n  }\n  function unique(values) {\n    if (values.length !== 1) throw new Error(\"duplicate key\");\n    return values[0];\n  }\n  function nest(values, map, reduce, keys) {\n    return function regroup(values, i) {\n      if (i >= keys.length) return reduce(values);\n      const groups = new _index.InternMap();\n      const keyof = keys[i++];\n      let index = -1;\n      for (const value of values) {\n        const key = keyof(value, ++index, values);\n        const group = groups.get(key);\n        if (group) group.push(value);else groups.set(key, [value]);\n      }\n      for (const [key, values] of groups) {\n        groups.set(key, regroup(values, i));\n      }\n      return map(groups);\n    }(values, 0);\n  }\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18,"group"],[7,25,6,23],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"flatGroup"],[8,19,7,17],[8,22,7,20,"flatGroup"],[8,31,7,29],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"flatRollup"],[9,20,8,18],[9,23,8,21,"flatRollup"],[9,33,8,31],[10,2,9,0,"exports"],[10,9,9,7],[10,10,9,8,"groups"],[10,16,9,14],[10,19,9,17,"groups"],[10,25,9,23],[11,2,10,0,"exports"],[11,9,10,7],[11,10,10,8,"index"],[11,15,10,13],[11,18,10,16,"index"],[11,23,10,21],[12,2,11,0,"exports"],[12,9,11,7],[12,10,11,8,"indexes"],[12,17,11,15],[12,20,11,18,"indexes"],[12,27,11,25],[13,2,12,0,"exports"],[13,9,12,7],[13,10,12,8,"rollup"],[13,16,12,14],[13,19,12,17,"rollup"],[13,25,12,23],[14,2,13,0,"exports"],[14,9,13,7],[14,10,13,8,"rollups"],[14,17,13,15],[14,20,13,18,"rollups"],[14,27,13,25],[15,2,14,0],[15,6,14,4,"_index"],[15,12,14,10],[15,15,14,13,"require"],[15,22,14,20],[15,23,14,20,"_dependencyMap"],[15,37,14,20],[15,86,14,65],[15,87,14,66],[16,2,15,0],[16,6,15,4,"_identity"],[16,15,15,13],[16,18,15,16,"_interopRequireDefault"],[16,40,15,38],[16,41,15,39,"require"],[16,48,15,46],[16,49,15,46,"_dependencyMap"],[16,63,15,46],[16,83,15,62],[16,84,15,63],[16,85,15,64],[17,2,16,0],[17,11,16,9,"_interopRequireDefault"],[17,33,16,31,"_interopRequireDefault"],[17,34,16,32,"obj"],[17,37,16,35],[17,39,16,37],[18,4,16,39],[18,11,16,46,"obj"],[18,14,16,49],[18,18,16,53,"obj"],[18,21,16,56],[18,22,16,57,"__esModule"],[18,32,16,67],[18,35,16,70,"obj"],[18,38,16,73],[18,41,16,76],[19,6,16,78,"default"],[19,13,16,85],[19,15,16,87,"obj"],[20,4,16,91],[20,5,16,92],[21,2,16,94],[22,2,17,0],[22,11,17,9,"group"],[22,16,17,14,"group"],[22,17,17,15,"values"],[22,23,17,21],[22,25,17,23],[22,28,17,26,"keys"],[22,32,17,30],[22,34,17,32],[23,4,18,2],[23,11,18,9,"nest"],[23,15,18,13],[23,16,18,14,"values"],[23,22,18,20],[23,24,18,22,"_identity"],[23,33,18,31],[23,34,18,32,"default"],[23,41,18,39],[23,43,18,41,"_identity"],[23,52,18,50],[23,53,18,51,"default"],[23,60,18,58],[23,62,18,60,"keys"],[23,66,18,64],[23,67,18,65],[24,2,19,0],[25,2,20,0],[25,11,20,9,"groups"],[25,17,20,15,"groups"],[25,18,20,16,"values"],[25,24,20,22],[25,26,20,24],[25,29,20,27,"keys"],[25,33,20,31],[25,35,20,33],[26,4,21,2],[26,11,21,9,"nest"],[26,15,21,13],[26,16,21,14,"values"],[26,22,21,20],[26,24,21,22,"Array"],[26,29,21,27],[26,30,21,28,"from"],[26,34,21,32],[26,36,21,34,"_identity"],[26,45,21,43],[26,46,21,44,"default"],[26,53,21,51],[26,55,21,53,"keys"],[26,59,21,57],[26,60,21,58],[27,2,22,0],[28,2,23,0],[28,11,23,9,"flatten"],[28,18,23,16,"flatten"],[28,19,23,17,"groups"],[28,25,23,23],[28,27,23,25,"keys"],[28,31,23,29],[28,33,23,31],[29,4,24,2],[29,9,24,7],[29,13,24,11,"i"],[29,14,24,12],[29,17,24,15],[29,18,24,16],[29,20,24,18,"n"],[29,21,24,19],[29,24,24,22,"keys"],[29,28,24,26],[29,29,24,27,"length"],[29,35,24,33],[29,37,24,35,"i"],[29,38,24,36],[29,41,24,39,"n"],[29,42,24,40],[29,44,24,42],[29,46,24,44,"i"],[29,47,24,45],[29,49,24,47],[30,6,25,4,"groups"],[30,12,25,10],[30,15,25,13,"groups"],[30,21,25,19],[30,22,25,20,"flatMap"],[30,29,25,27],[30,30,25,28,"g"],[30,31,25,29],[30,35,25,33,"g"],[30,36,25,34],[30,37,25,35,"pop"],[30,40,25,38],[30,41,25,39],[30,42,25,40],[30,43,25,41,"map"],[30,46,25,44],[30,47,25,45],[30,48,25,46],[30,49,25,47,"key"],[30,52,25,50],[30,54,25,52,"value"],[30,59,25,57],[30,60,25,58],[30,65,25,63],[30,66,25,64],[30,69,25,67,"g"],[30,70,25,68],[30,72,25,70,"key"],[30,75,25,73],[30,77,25,75,"value"],[30,82,25,80],[30,83,25,81],[30,84,25,82],[30,85,25,83],[31,4,26,2],[32,4,27,2],[32,11,27,9,"groups"],[32,17,27,15],[33,2,28,0],[34,2,29,0],[34,11,29,9,"flatGroup"],[34,20,29,18,"flatGroup"],[34,21,29,19,"values"],[34,27,29,25],[34,29,29,27],[34,32,29,30,"keys"],[34,36,29,34],[34,38,29,36],[35,4,30,2],[35,11,30,9,"flatten"],[35,18,30,16],[35,19,30,17,"groups"],[35,25,30,23],[35,26,30,24,"values"],[35,32,30,30],[35,34,30,32],[35,37,30,35,"keys"],[35,41,30,39],[35,42,30,40],[35,44,30,42,"keys"],[35,48,30,46],[35,49,30,47],[36,2,31,0],[37,2,32,0],[37,11,32,9,"flatRollup"],[37,21,32,19,"flatRollup"],[37,22,32,20,"values"],[37,28,32,26],[37,30,32,28,"reduce"],[37,36,32,34],[37,38,32,36],[37,41,32,39,"keys"],[37,45,32,43],[37,47,32,45],[38,4,33,2],[38,11,33,9,"flatten"],[38,18,33,16],[38,19,33,17,"rollups"],[38,26,33,24],[38,27,33,25,"values"],[38,33,33,31],[38,35,33,33,"reduce"],[38,41,33,39],[38,43,33,41],[38,46,33,44,"keys"],[38,50,33,48],[38,51,33,49],[38,53,33,51,"keys"],[38,57,33,55],[38,58,33,56],[39,2,34,0],[40,2,35,0],[40,11,35,9,"rollup"],[40,17,35,15,"rollup"],[40,18,35,16,"values"],[40,24,35,22],[40,26,35,24,"reduce"],[40,32,35,30],[40,34,35,32],[40,37,35,35,"keys"],[40,41,35,39],[40,43,35,41],[41,4,36,2],[41,11,36,9,"nest"],[41,15,36,13],[41,16,36,14,"values"],[41,22,36,20],[41,24,36,22,"_identity"],[41,33,36,31],[41,34,36,32,"default"],[41,41,36,39],[41,43,36,41,"reduce"],[41,49,36,47],[41,51,36,49,"keys"],[41,55,36,53],[41,56,36,54],[42,2,37,0],[43,2,38,0],[43,11,38,9,"rollups"],[43,18,38,16,"rollups"],[43,19,38,17,"values"],[43,25,38,23],[43,27,38,25,"reduce"],[43,33,38,31],[43,35,38,33],[43,38,38,36,"keys"],[43,42,38,40],[43,44,38,42],[44,4,39,2],[44,11,39,9,"nest"],[44,15,39,13],[44,16,39,14,"values"],[44,22,39,20],[44,24,39,22,"Array"],[44,29,39,27],[44,30,39,28,"from"],[44,34,39,32],[44,36,39,34,"reduce"],[44,42,39,40],[44,44,39,42,"keys"],[44,48,39,46],[44,49,39,47],[45,2,40,0],[46,2,41,0],[46,11,41,9,"index"],[46,16,41,14,"index"],[46,17,41,15,"values"],[46,23,41,21],[46,25,41,23],[46,28,41,26,"keys"],[46,32,41,30],[46,34,41,32],[47,4,42,2],[47,11,42,9,"nest"],[47,15,42,13],[47,16,42,14,"values"],[47,22,42,20],[47,24,42,22,"_identity"],[47,33,42,31],[47,34,42,32,"default"],[47,41,42,39],[47,43,42,41,"unique"],[47,49,42,47],[47,51,42,49,"keys"],[47,55,42,53],[47,56,42,54],[48,2,43,0],[49,2,44,0],[49,11,44,9,"indexes"],[49,18,44,16,"indexes"],[49,19,44,17,"values"],[49,25,44,23],[49,27,44,25],[49,30,44,28,"keys"],[49,34,44,32],[49,36,44,34],[50,4,45,2],[50,11,45,9,"nest"],[50,15,45,13],[50,16,45,14,"values"],[50,22,45,20],[50,24,45,22,"Array"],[50,29,45,27],[50,30,45,28,"from"],[50,34,45,32],[50,36,45,34,"unique"],[50,42,45,40],[50,44,45,42,"keys"],[50,48,45,46],[50,49,45,47],[51,2,46,0],[52,2,47,0],[52,11,47,9,"unique"],[52,17,47,15,"unique"],[52,18,47,16,"values"],[52,24,47,22],[52,26,47,24],[53,4,48,2],[53,8,48,6,"values"],[53,14,48,12],[53,15,48,13,"length"],[53,21,48,19],[53,26,48,24],[53,27,48,25],[53,29,48,27],[53,35,48,33],[53,39,48,37,"Error"],[53,44,48,42],[53,45,48,43],[53,60,48,58],[53,61,48,59],[54,4,49,2],[54,11,49,9,"values"],[54,17,49,15],[54,18,49,16],[54,19,49,17],[54,20,49,18],[55,2,50,0],[56,2,51,0],[56,11,51,9,"nest"],[56,15,51,13,"nest"],[56,16,51,14,"values"],[56,22,51,20],[56,24,51,22,"map"],[56,27,51,25],[56,29,51,27,"reduce"],[56,35,51,33],[56,37,51,35,"keys"],[56,41,51,39],[56,43,51,41],[57,4,52,2],[57,11,52,9],[57,20,52,18,"regroup"],[57,27,52,25,"regroup"],[57,28,52,26,"values"],[57,34,52,32],[57,36,52,34,"i"],[57,37,52,35],[57,39,52,37],[58,6,53,4],[58,10,53,8,"i"],[58,11,53,9],[58,15,53,13,"keys"],[58,19,53,17],[58,20,53,18,"length"],[58,26,53,24],[58,28,53,26],[58,35,53,33,"reduce"],[58,41,53,39],[58,42,53,40,"values"],[58,48,53,46],[58,49,53,47],[59,6,54,4],[59,12,54,10,"groups"],[59,18,54,16],[59,21,54,19],[59,25,54,23,"_index"],[59,31,54,29],[59,32,54,30,"InternMap"],[59,41,54,39],[59,42,54,40],[59,43,54,41],[60,6,55,4],[60,12,55,10,"keyof"],[60,17,55,15],[60,20,55,18,"keys"],[60,24,55,22],[60,25,55,23,"i"],[60,26,55,24],[60,28,55,26],[60,29,55,27],[61,6,56,4],[61,10,56,8,"index"],[61,15,56,13],[61,18,56,16],[61,19,56,17],[61,20,56,18],[62,6,57,4],[62,11,57,9],[62,17,57,15,"value"],[62,22,57,20],[62,26,57,24,"values"],[62,32,57,30],[62,34,57,32],[63,8,58,6],[63,14,58,12,"key"],[63,17,58,15],[63,20,58,18,"keyof"],[63,25,58,23],[63,26,58,24,"value"],[63,31,58,29],[63,33,58,31],[63,35,58,33,"index"],[63,40,58,38],[63,42,58,40,"values"],[63,48,58,46],[63,49,58,47],[64,8,59,6],[64,14,59,12,"group"],[64,19,59,17],[64,22,59,20,"groups"],[64,28,59,26],[64,29,59,27,"get"],[64,32,59,30],[64,33,59,31,"key"],[64,36,59,34],[64,37,59,35],[65,8,60,6],[65,12,60,10,"group"],[65,17,60,15],[65,19,60,17,"group"],[65,24,60,22],[65,25,60,23,"push"],[65,29,60,27],[65,30,60,28,"value"],[65,35,60,33],[65,36,60,34],[65,37,60,35],[65,42,60,40,"groups"],[65,48,60,46],[65,49,60,47,"set"],[65,52,60,50],[65,53,60,51,"key"],[65,56,60,54],[65,58,60,56],[65,59,60,57,"value"],[65,64,60,62],[65,65,60,63],[65,66,60,64],[66,6,61,4],[67,6,62,4],[67,11,62,9],[67,17,62,15],[67,18,62,16,"key"],[67,21,62,19],[67,23,62,21,"values"],[67,29,62,27],[67,30,62,28],[67,34,62,32,"groups"],[67,40,62,38],[67,42,62,40],[68,8,63,6,"groups"],[68,14,63,12],[68,15,63,13,"set"],[68,18,63,16],[68,19,63,17,"key"],[68,22,63,20],[68,24,63,22,"regroup"],[68,31,63,29],[68,32,63,30,"values"],[68,38,63,36],[68,40,63,38,"i"],[68,41,63,39],[68,42,63,40],[68,43,63,41],[69,6,64,4],[70,6,65,4],[70,13,65,11,"map"],[70,16,65,14],[70,17,65,15,"groups"],[70,23,65,21],[70,24,65,22],[71,4,66,2],[71,5,66,3],[71,6,66,4,"values"],[71,12,66,10],[71,14,66,12],[71,15,66,13],[71,16,66,14],[72,2,67,0],[73,0,67,1],[73,3]],"functionMap":{"names":["<global>","_interopRequireDefault","group","groups","flatten","groups.flatMap$argument_0","g.pop.map$argument_0","flatGroup","flatRollup","rollup","rollups","index","indexes","unique","nest","regroup"],"mappings":"AAA;ACe,+FD;AEC;CFE;AGC;CHE;AIC;4BCE,iBC,oCD,CD;CJG;AOC;CPE;AQC;CRE;ASC;CTE;AUC;CVE;AWC;CXE;AYC;CZE;AaC;CbG;AcC;SCC;GDc"},"hasCjsExports":true},"type":"js/module"}]}