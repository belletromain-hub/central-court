{"dependencies":[{"name":"reselect","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":16,"index":188},"end":{"line":7,"column":35,"index":207}}],"key":"Niq92G61Rm5gtkhp74r4lYwMdNo=","exportNames":["*"],"imports":1}},{"name":"./axisSelectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":21,"index":230},"end":{"line":8,"column":47,"index":256}}],"key":"KChFYgH/IIoIcX/hp/E4zPtJawk=","exportNames":["*"],"imports":1}},{"name":"./barSelectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":20,"index":278},"end":{"line":9,"column":45,"index":303}}],"key":"+LDBZ0tq7WY9J+p65Cip4JCkQdo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.selectStackRects = exports.selectAllBarsInStack = exports.expandRectangle = void 0;\n  var _reselect = require(_dependencyMap[0], \"reselect\");\n  var _axisSelectors = require(_dependencyMap[1], \"./axisSelectors\");\n  var _barSelectors = require(_dependencyMap[2], \"./barSelectors\");\n  var pickStackId = function pickStackId(state, stackId) {\n    return stackId;\n  };\n  var pickIsPanorama = function pickIsPanorama(state, stackId, isPanorama) {\n    return isPanorama;\n  };\n  var selectAllBarsInStack = exports.selectAllBarsInStack = (0, _reselect.createSelector)([pickStackId, _axisSelectors.selectUnfilteredCartesianItems, pickIsPanorama], function (stackId, allItems, isPanorama) {\n    return allItems.filter(function (i) {\n      return i.type === 'bar';\n    }).filter(function (i) {\n      return i.stackId === stackId;\n    }).filter(function (i) {\n      return i.isPanorama === isPanorama;\n    }).filter(function (i) {\n      return !i.hide;\n    });\n  });\n  var selectAllBarIdsInStack = (0, _reselect.createSelector)([selectAllBarsInStack], function (allBars) {\n    return allBars.map(function (bar) {\n      return bar.id;\n    });\n  });\n  /**\n   * Takes two rectangles and returns a new rectangle that encompasses both.\n   * It takes the minimum x and y, and the maximum width and height.\n   * It handles overlapping rectangles, and rectangles with a gap between them.\n   * @param rect1\n   * @param rect2\n   */\n  var expandRectangle = function expandRectangle(rect1, rect2) {\n    if (!rect1) {\n      return rect2;\n    }\n    if (!rect2) {\n      return rect1;\n    }\n    var x = Math.min(rect1.x, rect1.x + rect1.width, rect2.x, rect2.x + rect2.width);\n    var y = Math.min(rect1.y, rect1.y + rect1.height, rect2.y, rect2.y + rect2.height);\n    var maxX = Math.max(rect1.x, rect1.x + rect1.width, rect2.x, rect2.x + rect2.width);\n    var maxY = Math.max(rect1.y, rect1.y + rect1.height, rect2.y, rect2.y + rect2.height);\n    var width = maxX - x;\n    var height = maxY - y;\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  };\n  exports.expandRectangle = expandRectangle;\n  var combineStackRects = function combineStackRects(state, stackId, isPanorama) {\n    var allBarIds = selectAllBarIdsInStack(state, stackId, isPanorama);\n    var stackRects = [];\n    allBarIds.forEach(function (barId) {\n      var rectangles = (0, _barSelectors.selectBarRectangles)(state, barId, isPanorama, undefined);\n      rectangles === null || rectangles === void 0 || rectangles.forEach(function (rect, index) {\n        stackRects[index] = expandRectangle(stackRects[index], rect);\n      });\n    });\n    return stackRects;\n  };\n  var selectStackRects = exports.selectStackRects = (0, _reselect.createSelector)([function (state) {\n    return state;\n  }, pickStackId, pickIsPanorama], combineStackRects);\n});","lineCount":75,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"selectStackRects"],[7,26,6,24],[7,29,6,27,"exports"],[7,36,6,34],[7,37,6,35,"selectAllBarsInStack"],[7,57,6,55],[7,60,6,58,"exports"],[7,67,6,65],[7,68,6,66,"expandRectangle"],[7,83,6,81],[7,86,6,84],[7,91,6,89],[7,92,6,90],[8,2,7,0],[8,6,7,4,"_reselect"],[8,15,7,13],[8,18,7,16,"require"],[8,25,7,23],[8,26,7,23,"_dependencyMap"],[8,40,7,23],[8,55,7,34],[8,56,7,35],[9,2,8,0],[9,6,8,4,"_axisSelectors"],[9,20,8,18],[9,23,8,21,"require"],[9,30,8,28],[9,31,8,28,"_dependencyMap"],[9,45,8,28],[9,67,8,46],[9,68,8,47],[10,2,9,0],[10,6,9,4,"_barSelectors"],[10,19,9,17],[10,22,9,20,"require"],[10,29,9,27],[10,30,9,27,"_dependencyMap"],[10,44,9,27],[10,65,9,44],[10,66,9,45],[11,2,10,0],[11,6,10,4,"pickStackId"],[11,17,10,15],[11,20,10,18],[11,29,10,4,"pickStackId"],[11,40,10,15,"pickStackId"],[11,41,10,19,"state"],[11,46,10,24],[11,48,10,26,"stackId"],[11,55,10,33],[12,4,10,33],[12,11,10,38,"stackId"],[12,18,10,45],[13,2,10,45],[14,2,11,0],[14,6,11,4,"pickIsPanorama"],[14,20,11,18],[14,23,11,21],[14,32,11,4,"pickIsPanorama"],[14,46,11,18,"pickIsPanorama"],[14,47,11,22,"state"],[14,52,11,27],[14,54,11,29,"stackId"],[14,61,11,36],[14,63,11,38,"isPanorama"],[14,73,11,48],[15,4,11,48],[15,11,11,53,"isPanorama"],[15,21,11,63],[16,2,11,63],[17,2,12,0],[17,6,12,4,"selectAllBarsInStack"],[17,26,12,24],[17,29,12,27,"exports"],[17,36,12,34],[17,37,12,35,"selectAllBarsInStack"],[17,57,12,55],[17,60,12,58],[17,61,12,59],[17,62,12,60],[17,64,12,62,"_reselect"],[17,73,12,71],[17,74,12,72,"createSelector"],[17,88,12,86],[17,90,12,88],[17,91,12,89,"pickStackId"],[17,102,12,100],[17,104,12,102,"_axisSelectors"],[17,118,12,116],[17,119,12,117,"selectUnfilteredCartesianItems"],[17,149,12,147],[17,151,12,149,"pickIsPanorama"],[17,165,12,163],[17,166,12,164],[17,168,12,166],[17,178,12,167,"stackId"],[17,185,12,174],[17,187,12,176,"allItems"],[17,195,12,184],[17,197,12,186,"isPanorama"],[17,207,12,196],[17,209,12,201],[18,4,13,2],[18,11,13,9,"allItems"],[18,19,13,17],[18,20,13,18,"filter"],[18,26,13,24],[18,27,13,25],[18,37,13,25,"i"],[18,38,13,26],[19,6,13,26],[19,13,13,30,"i"],[19,14,13,31],[19,15,13,32,"type"],[19,19,13,36],[19,24,13,41],[19,29,13,46],[20,4,13,46],[20,6,13,47],[20,7,13,48,"filter"],[20,13,13,54],[20,14,13,55],[20,24,13,55,"i"],[20,25,13,56],[21,6,13,56],[21,13,13,60,"i"],[21,14,13,61],[21,15,13,62,"stackId"],[21,22,13,69],[21,27,13,74,"stackId"],[21,34,13,81],[22,4,13,81],[22,6,13,82],[22,7,13,83,"filter"],[22,13,13,89],[22,14,13,90],[22,24,13,90,"i"],[22,25,13,91],[23,6,13,91],[23,13,13,95,"i"],[23,14,13,96],[23,15,13,97,"isPanorama"],[23,25,13,107],[23,30,13,112,"isPanorama"],[23,40,13,122],[24,4,13,122],[24,6,13,123],[24,7,13,124,"filter"],[24,13,13,130],[24,14,13,131],[24,24,13,131,"i"],[24,25,13,132],[25,6,13,132],[25,13,13,136],[25,14,13,137,"i"],[25,15,13,138],[25,16,13,139,"hide"],[25,20,13,143],[26,4,13,143],[26,6,13,144],[27,2,14,0],[27,3,14,1],[27,4,14,2],[28,2,15,0],[28,6,15,4,"selectAllBarIdsInStack"],[28,28,15,26],[28,31,15,29],[28,32,15,30],[28,33,15,31],[28,35,15,33,"_reselect"],[28,44,15,42],[28,45,15,43,"createSelector"],[28,59,15,57],[28,61,15,59],[28,62,15,60,"selectAllBarsInStack"],[28,82,15,80],[28,83,15,81],[28,85,15,83],[28,95,15,83,"allBars"],[28,102,15,90],[28,104,15,94],[29,4,16,2],[29,11,16,9,"allBars"],[29,18,16,16],[29,19,16,17,"map"],[29,22,16,20],[29,23,16,21],[29,33,16,21,"bar"],[29,36,16,24],[30,6,16,24],[30,13,16,28,"bar"],[30,16,16,31],[30,17,16,32,"id"],[30,19,16,34],[31,4,16,34],[31,6,16,35],[32,2,17,0],[32,3,17,1],[32,4,17,2],[33,2,18,0],[34,0,19,0],[35,0,20,0],[36,0,21,0],[37,0,22,0],[38,0,23,0],[39,0,24,0],[40,2,25,0],[40,6,25,4,"expandRectangle"],[40,21,25,19],[40,24,25,22],[40,33,25,4,"expandRectangle"],[40,48,25,19,"expandRectangle"],[40,49,25,23,"rect1"],[40,54,25,28],[40,56,25,30,"rect2"],[40,61,25,35],[40,63,25,40],[41,4,26,2],[41,8,26,6],[41,9,26,7,"rect1"],[41,14,26,12],[41,16,26,14],[42,6,27,4],[42,13,27,11,"rect2"],[42,18,27,16],[43,4,28,2],[44,4,29,2],[44,8,29,6],[44,9,29,7,"rect2"],[44,14,29,12],[44,16,29,14],[45,6,30,4],[45,13,30,11,"rect1"],[45,18,30,16],[46,4,31,2],[47,4,32,2],[47,8,32,6,"x"],[47,9,32,7],[47,12,32,10,"Math"],[47,16,32,14],[47,17,32,15,"min"],[47,20,32,18],[47,21,32,19,"rect1"],[47,26,32,24],[47,27,32,25,"x"],[47,28,32,26],[47,30,32,28,"rect1"],[47,35,32,33],[47,36,32,34,"x"],[47,37,32,35],[47,40,32,38,"rect1"],[47,45,32,43],[47,46,32,44,"width"],[47,51,32,49],[47,53,32,51,"rect2"],[47,58,32,56],[47,59,32,57,"x"],[47,60,32,58],[47,62,32,60,"rect2"],[47,67,32,65],[47,68,32,66,"x"],[47,69,32,67],[47,72,32,70,"rect2"],[47,77,32,75],[47,78,32,76,"width"],[47,83,32,81],[47,84,32,82],[48,4,33,2],[48,8,33,6,"y"],[48,9,33,7],[48,12,33,10,"Math"],[48,16,33,14],[48,17,33,15,"min"],[48,20,33,18],[48,21,33,19,"rect1"],[48,26,33,24],[48,27,33,25,"y"],[48,28,33,26],[48,30,33,28,"rect1"],[48,35,33,33],[48,36,33,34,"y"],[48,37,33,35],[48,40,33,38,"rect1"],[48,45,33,43],[48,46,33,44,"height"],[48,52,33,50],[48,54,33,52,"rect2"],[48,59,33,57],[48,60,33,58,"y"],[48,61,33,59],[48,63,33,61,"rect2"],[48,68,33,66],[48,69,33,67,"y"],[48,70,33,68],[48,73,33,71,"rect2"],[48,78,33,76],[48,79,33,77,"height"],[48,85,33,83],[48,86,33,84],[49,4,34,2],[49,8,34,6,"maxX"],[49,12,34,10],[49,15,34,13,"Math"],[49,19,34,17],[49,20,34,18,"max"],[49,23,34,21],[49,24,34,22,"rect1"],[49,29,34,27],[49,30,34,28,"x"],[49,31,34,29],[49,33,34,31,"rect1"],[49,38,34,36],[49,39,34,37,"x"],[49,40,34,38],[49,43,34,41,"rect1"],[49,48,34,46],[49,49,34,47,"width"],[49,54,34,52],[49,56,34,54,"rect2"],[49,61,34,59],[49,62,34,60,"x"],[49,63,34,61],[49,65,34,63,"rect2"],[49,70,34,68],[49,71,34,69,"x"],[49,72,34,70],[49,75,34,73,"rect2"],[49,80,34,78],[49,81,34,79,"width"],[49,86,34,84],[49,87,34,85],[50,4,35,2],[50,8,35,6,"maxY"],[50,12,35,10],[50,15,35,13,"Math"],[50,19,35,17],[50,20,35,18,"max"],[50,23,35,21],[50,24,35,22,"rect1"],[50,29,35,27],[50,30,35,28,"y"],[50,31,35,29],[50,33,35,31,"rect1"],[50,38,35,36],[50,39,35,37,"y"],[50,40,35,38],[50,43,35,41,"rect1"],[50,48,35,46],[50,49,35,47,"height"],[50,55,35,53],[50,57,35,55,"rect2"],[50,62,35,60],[50,63,35,61,"y"],[50,64,35,62],[50,66,35,64,"rect2"],[50,71,35,69],[50,72,35,70,"y"],[50,73,35,71],[50,76,35,74,"rect2"],[50,81,35,79],[50,82,35,80,"height"],[50,88,35,86],[50,89,35,87],[51,4,36,2],[51,8,36,6,"width"],[51,13,36,11],[51,16,36,14,"maxX"],[51,20,36,18],[51,23,36,21,"x"],[51,24,36,22],[52,4,37,2],[52,8,37,6,"height"],[52,14,37,12],[52,17,37,15,"maxY"],[52,21,37,19],[52,24,37,22,"y"],[52,25,37,23],[53,4,38,2],[53,11,38,9],[54,6,39,4,"x"],[54,7,39,5],[54,9,39,4,"x"],[54,10,39,5],[55,6,40,4,"y"],[55,7,40,5],[55,9,40,4,"y"],[55,10,40,5],[56,6,41,4,"width"],[56,11,41,9],[56,13,41,4,"width"],[56,18,41,9],[57,6,42,4,"height"],[57,12,42,10],[57,14,42,4,"height"],[58,4,43,2],[58,5,43,3],[59,2,44,0],[59,3,44,1],[60,2,45,0,"exports"],[60,9,45,7],[60,10,45,8,"expandRectangle"],[60,25,45,23],[60,28,45,26,"expandRectangle"],[60,43,45,41],[61,2,46,0],[61,6,46,4,"combineStackRects"],[61,23,46,21],[61,26,46,24],[61,35,46,4,"combineStackRects"],[61,52,46,21,"combineStackRects"],[61,53,46,25,"state"],[61,58,46,30],[61,60,46,32,"stackId"],[61,67,46,39],[61,69,46,41,"isPanorama"],[61,79,46,51],[61,81,46,56],[62,4,47,2],[62,8,47,6,"allBarIds"],[62,17,47,15],[62,20,47,18,"selectAllBarIdsInStack"],[62,42,47,40],[62,43,47,41,"state"],[62,48,47,46],[62,50,47,48,"stackId"],[62,57,47,55],[62,59,47,57,"isPanorama"],[62,69,47,67],[62,70,47,68],[63,4,48,2],[63,8,48,6,"stackRects"],[63,18,48,16],[63,21,48,19],[63,23,48,21],[64,4,49,2,"allBarIds"],[64,13,49,11],[64,14,49,12,"forEach"],[64,21,49,19],[64,22,49,20],[64,32,49,20,"barId"],[64,37,49,25],[64,39,49,29],[65,6,50,4],[65,10,50,8,"rectangles"],[65,20,50,18],[65,23,50,21],[65,24,50,22],[65,25,50,23],[65,27,50,25,"_barSelectors"],[65,40,50,38],[65,41,50,39,"selectBarRectangles"],[65,60,50,58],[65,62,50,60,"state"],[65,67,50,65],[65,69,50,67,"barId"],[65,74,50,72],[65,76,50,74,"isPanorama"],[65,86,50,84],[65,88,50,86,"undefined"],[65,97,50,95],[65,98,50,96],[66,6,51,4,"rectangles"],[66,16,51,14],[66,21,51,19],[66,25,51,23],[66,29,51,27,"rectangles"],[66,39,51,37],[66,44,51,42],[66,49,51,47],[66,50,51,48],[66,54,51,52,"rectangles"],[66,64,51,62],[66,65,51,63,"forEach"],[66,72,51,70],[66,73,51,71],[66,83,51,72,"rect"],[66,87,51,76],[66,89,51,78,"index"],[66,94,51,83],[66,96,51,88],[67,8,52,6,"stackRects"],[67,18,52,16],[67,19,52,17,"index"],[67,24,52,22],[67,25,52,23],[67,28,52,26,"expandRectangle"],[67,43,52,41],[67,44,52,42,"stackRects"],[67,54,52,52],[67,55,52,53,"index"],[67,60,52,58],[67,61,52,59],[67,63,52,61,"rect"],[67,67,52,65],[67,68,52,66],[68,6,53,4],[68,7,53,5],[68,8,53,6],[69,4,54,2],[69,5,54,3],[69,6,54,4],[70,4,55,2],[70,11,55,9,"stackRects"],[70,21,55,19],[71,2,56,0],[71,3,56,1],[72,2,57,0],[72,6,57,4,"selectStackRects"],[72,22,57,20],[72,25,57,23,"exports"],[72,32,57,30],[72,33,57,31,"selectStackRects"],[72,49,57,47],[72,52,57,50],[72,53,57,51],[72,54,57,52],[72,56,57,54,"_reselect"],[72,65,57,63],[72,66,57,64,"createSelector"],[72,80,57,78],[72,82,57,80],[72,83,57,81],[72,93,57,81,"state"],[72,98,57,86],[73,4,57,86],[73,11,57,90,"state"],[73,16,57,95],[74,2,57,95],[74,5,57,97,"pickStackId"],[74,16,57,108],[74,18,57,110,"pickIsPanorama"],[74,32,57,124],[74,33,57,125],[74,35,57,127,"combineStackRects"],[74,52,57,144],[74,53,57,145],[75,0,57,146],[75,3]],"functionMap":{"names":["<global>","pickStackId","pickIsPanorama","<anonymous>","allItems.filter$argument_0","allItems.filter.filter$argument_0","allItems.filter.filter.filter$argument_0","allItems.filter.filter.filter.filter$argument_0","allBars.map$argument_0","expandRectangle","combineStackRects","allBarIds.forEach$argument_0","rectangles.forEach$argument_0"],"mappings":"AAA;kBCS,2BD;qBEC,0CF;sKGC;yBCC,qBD,SE,0BF,SG,gCH,SI,YJ;CHC;mFGC;qBKC,aL;CHC;sBSQ;CTmB;wBUE;oBCG;uECE;KDE;GDC;CVE;iFGC,cH"},"hasCjsExports":true},"type":"js/module"}]}