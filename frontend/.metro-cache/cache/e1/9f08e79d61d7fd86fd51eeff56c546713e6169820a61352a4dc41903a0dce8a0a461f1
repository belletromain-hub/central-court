{"dependencies":[{"name":"@reduxjs/toolkit","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":15,"index":184},"end":{"line":7,"column":42,"index":211}}],"key":"+3+hXPU0c7VkDZpFcniYIlEI8Pc=","exportNames":["*"],"imports":1}},{"name":"./tooltipSlice","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":20,"index":233},"end":{"line":8,"column":45,"index":258}}],"key":"DHTlLuVZD4MAbgh+1ZUW03doSOI=","exportNames":["*"],"imports":1}},{"name":"./selectors/tooltipSelectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":24,"index":284},"end":{"line":9,"column":63,"index":323}}],"key":"yllQ/KzwdV2amC5aMNkcuWWg+Ak=","exportNames":["*"],"imports":1}},{"name":"./selectors/selectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":17,"index":342},"end":{"line":10,"column":49,"index":374}}],"key":"5dbSo/zo344SSnNK/CExU4JiQTg=","exportNames":["*"],"imports":1}},{"name":"./selectors/axisSelectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":21,"index":397},"end":{"line":11,"column":57,"index":433}}],"key":"nLgygyOd1dqgOrzCkCwNLmzU658=","exportNames":["*"],"imports":1}},{"name":"./selectors/combiners/combineActiveTooltipIndex","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":33,"index":468},"end":{"line":12,"column":91,"index":526}}],"key":"MPi/L4PS7AjhiWh5QZZ8yrh04Fk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.keyboardEventsMiddleware = exports.keyDownAction = exports.focusAction = void 0;\n  var _toolkit = require(_dependencyMap[0], \"@reduxjs/toolkit\");\n  var _tooltipSlice = require(_dependencyMap[1], \"./tooltipSlice\");\n  var _tooltipSelectors = require(_dependencyMap[2], \"./selectors/tooltipSelectors\");\n  var _selectors = require(_dependencyMap[3], \"./selectors/selectors\");\n  var _axisSelectors = require(_dependencyMap[4], \"./selectors/axisSelectors\");\n  var _combineActiveTooltipIndex = require(_dependencyMap[5], \"./selectors/combiners/combineActiveTooltipIndex\");\n  var keyDownAction = exports.keyDownAction = (0, _toolkit.createAction)('keyDown');\n  var focusAction = exports.focusAction = (0, _toolkit.createAction)('focus');\n  var keyboardEventsMiddleware = exports.keyboardEventsMiddleware = (0, _toolkit.createListenerMiddleware)();\n  keyboardEventsMiddleware.startListening({\n    actionCreator: keyDownAction,\n    effect: (action, listenerApi) => {\n      var state = listenerApi.getState();\n      var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n      if (!accessibilityLayerIsActive) {\n        return;\n      }\n      var keyboardInteraction = state.tooltip.keyboardInteraction;\n      var key = action.payload;\n      if (key !== 'ArrowRight' && key !== 'ArrowLeft' && key !== 'Enter') {\n        return;\n      }\n\n      // TODO this is lacking index for charts that do not support numeric indexes\n      var resolvedIndex = (0, _combineActiveTooltipIndex.combineActiveTooltipIndex)(keyboardInteraction, (0, _tooltipSelectors.selectTooltipDisplayedData)(state), (0, _axisSelectors.selectTooltipAxisDataKey)(state), (0, _tooltipSelectors.selectTooltipAxisDomain)(state));\n      var currentIndex = resolvedIndex == null ? -1 : Number(resolvedIndex);\n      if (!Number.isFinite(currentIndex) || currentIndex < 0) {\n        return;\n      }\n      var tooltipTicks = (0, _tooltipSelectors.selectTooltipAxisTicks)(state);\n      if (key === 'Enter') {\n        var _coordinate = (0, _selectors.selectCoordinateForDefaultIndex)(state, 'axis', 'hover', String(keyboardInteraction.index));\n        listenerApi.dispatch((0, _tooltipSlice.setKeyboardInteraction)({\n          active: !keyboardInteraction.active,\n          activeIndex: keyboardInteraction.index,\n          activeCoordinate: _coordinate\n        }));\n        return;\n      }\n      var direction = (0, _axisSelectors.selectChartDirection)(state);\n      var directionMultiplier = direction === 'left-to-right' ? 1 : -1;\n      var movement = key === 'ArrowRight' ? 1 : -1;\n      var nextIndex = currentIndex + movement * directionMultiplier;\n      if (tooltipTicks == null || nextIndex >= tooltipTicks.length || nextIndex < 0) {\n        return;\n      }\n      var coordinate = (0, _selectors.selectCoordinateForDefaultIndex)(state, 'axis', 'hover', String(nextIndex));\n      listenerApi.dispatch((0, _tooltipSlice.setKeyboardInteraction)({\n        active: true,\n        activeIndex: nextIndex.toString(),\n        activeCoordinate: coordinate\n      }));\n    }\n  });\n  keyboardEventsMiddleware.startListening({\n    actionCreator: focusAction,\n    effect: (_action, listenerApi) => {\n      var state = listenerApi.getState();\n      var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n      if (!accessibilityLayerIsActive) {\n        return;\n      }\n      var keyboardInteraction = state.tooltip.keyboardInteraction;\n      if (keyboardInteraction.active) {\n        return;\n      }\n      if (keyboardInteraction.index == null) {\n        var nextIndex = '0';\n        var coordinate = (0, _selectors.selectCoordinateForDefaultIndex)(state, 'axis', 'hover', String(nextIndex));\n        listenerApi.dispatch((0, _tooltipSlice.setKeyboardInteraction)({\n          active: true,\n          activeIndex: nextIndex,\n          activeCoordinate: coordinate\n        }));\n      }\n    }\n  });\n});","lineCount":85,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"keyboardEventsMiddleware"],[7,34,6,32],[7,37,6,35,"exports"],[7,44,6,42],[7,45,6,43,"keyDownAction"],[7,58,6,56],[7,61,6,59,"exports"],[7,68,6,66],[7,69,6,67,"focusAction"],[7,80,6,78],[7,83,6,81],[7,88,6,86],[7,89,6,87],[8,2,7,0],[8,6,7,4,"_toolkit"],[8,14,7,12],[8,17,7,15,"require"],[8,24,7,22],[8,25,7,22,"_dependencyMap"],[8,39,7,22],[8,62,7,41],[8,63,7,42],[9,2,8,0],[9,6,8,4,"_tooltipSlice"],[9,19,8,17],[9,22,8,20,"require"],[9,29,8,27],[9,30,8,27,"_dependencyMap"],[9,44,8,27],[9,65,8,44],[9,66,8,45],[10,2,9,0],[10,6,9,4,"_tooltipSelectors"],[10,23,9,21],[10,26,9,24,"require"],[10,33,9,31],[10,34,9,31,"_dependencyMap"],[10,48,9,31],[10,83,9,62],[10,84,9,63],[11,2,10,0],[11,6,10,4,"_selectors"],[11,16,10,14],[11,19,10,17,"require"],[11,26,10,24],[11,27,10,24,"_dependencyMap"],[11,41,10,24],[11,69,10,48],[11,70,10,49],[12,2,11,0],[12,6,11,4,"_axisSelectors"],[12,20,11,18],[12,23,11,21,"require"],[12,30,11,28],[12,31,11,28,"_dependencyMap"],[12,45,11,28],[12,77,11,56],[12,78,11,57],[13,2,12,0],[13,6,12,4,"_combineActiveTooltipIndex"],[13,32,12,30],[13,35,12,33,"require"],[13,42,12,40],[13,43,12,40,"_dependencyMap"],[13,57,12,40],[13,111,12,90],[13,112,12,91],[14,2,13,0],[14,6,13,4,"keyDownAction"],[14,19,13,17],[14,22,13,20,"exports"],[14,29,13,27],[14,30,13,28,"keyDownAction"],[14,43,13,41],[14,46,13,44],[14,47,13,45],[14,48,13,46],[14,50,13,48,"_toolkit"],[14,58,13,56],[14,59,13,57,"createAction"],[14,71,13,69],[14,73,13,71],[14,82,13,80],[14,83,13,81],[15,2,14,0],[15,6,14,4,"focusAction"],[15,17,14,15],[15,20,14,18,"exports"],[15,27,14,25],[15,28,14,26,"focusAction"],[15,39,14,37],[15,42,14,40],[15,43,14,41],[15,44,14,42],[15,46,14,44,"_toolkit"],[15,54,14,52],[15,55,14,53,"createAction"],[15,67,14,65],[15,69,14,67],[15,76,14,74],[15,77,14,75],[16,2,15,0],[16,6,15,4,"keyboardEventsMiddleware"],[16,30,15,28],[16,33,15,31,"exports"],[16,40,15,38],[16,41,15,39,"keyboardEventsMiddleware"],[16,65,15,63],[16,68,15,66],[16,69,15,67],[16,70,15,68],[16,72,15,70,"_toolkit"],[16,80,15,78],[16,81,15,79,"createListenerMiddleware"],[16,105,15,103],[16,107,15,105],[16,108,15,106],[17,2,16,0,"keyboardEventsMiddleware"],[17,26,16,24],[17,27,16,25,"startListening"],[17,41,16,39],[17,42,16,40],[18,4,17,2,"actionCreator"],[18,17,17,15],[18,19,17,17,"keyDownAction"],[18,32,17,30],[19,4,18,2,"effect"],[19,10,18,8],[19,12,18,10,"effect"],[19,13,18,11,"action"],[19,19,18,17],[19,21,18,19,"listenerApi"],[19,32,18,30],[19,37,18,35],[20,6,19,4],[20,10,19,8,"state"],[20,15,19,13],[20,18,19,16,"listenerApi"],[20,29,19,27],[20,30,19,28,"getState"],[20,38,19,36],[20,39,19,37],[20,40,19,38],[21,6,20,4],[21,10,20,8,"accessibilityLayerIsActive"],[21,36,20,34],[21,39,20,37,"state"],[21,44,20,42],[21,45,20,43,"rootProps"],[21,54,20,52],[21,55,20,53,"accessibilityLayer"],[21,73,20,71],[21,78,20,76],[21,83,20,81],[22,6,21,4],[22,10,21,8],[22,11,21,9,"accessibilityLayerIsActive"],[22,37,21,35],[22,39,21,37],[23,8,22,6],[24,6,23,4],[25,6,24,4],[25,10,25,6,"keyboardInteraction"],[25,29,25,25],[25,32,26,8,"state"],[25,37,26,13],[25,38,26,14,"tooltip"],[25,45,26,21],[25,46,25,6,"keyboardInteraction"],[25,65,25,25],[26,6,27,4],[26,10,27,8,"key"],[26,13,27,11],[26,16,27,14,"action"],[26,22,27,20],[26,23,27,21,"payload"],[26,30,27,28],[27,6,28,4],[27,10,28,8,"key"],[27,13,28,11],[27,18,28,16],[27,30,28,28],[27,34,28,32,"key"],[27,37,28,35],[27,42,28,40],[27,53,28,51],[27,57,28,55,"key"],[27,60,28,58],[27,65,28,63],[27,72,28,70],[27,74,28,72],[28,8,29,6],[29,6,30,4],[31,6,32,4],[32,6,33,4],[32,10,33,8,"resolvedIndex"],[32,23,33,21],[32,26,33,24],[32,27,33,25],[32,28,33,26],[32,30,33,28,"_combineActiveTooltipIndex"],[32,56,33,54],[32,57,33,55,"combineActiveTooltipIndex"],[32,82,33,80],[32,84,33,82,"keyboardInteraction"],[32,103,33,101],[32,105,33,103],[32,106,33,104],[32,107,33,105],[32,109,33,107,"_tooltipSelectors"],[32,126,33,124],[32,127,33,125,"selectTooltipDisplayedData"],[32,153,33,151],[32,155,33,153,"state"],[32,160,33,158],[32,161,33,159],[32,163,33,161],[32,164,33,162],[32,165,33,163],[32,167,33,165,"_axisSelectors"],[32,181,33,179],[32,182,33,180,"selectTooltipAxisDataKey"],[32,206,33,204],[32,208,33,206,"state"],[32,213,33,211],[32,214,33,212],[32,216,33,214],[32,217,33,215],[32,218,33,216],[32,220,33,218,"_tooltipSelectors"],[32,237,33,235],[32,238,33,236,"selectTooltipAxisDomain"],[32,261,33,259],[32,263,33,261,"state"],[32,268,33,266],[32,269,33,267],[32,270,33,268],[33,6,34,4],[33,10,34,8,"currentIndex"],[33,22,34,20],[33,25,34,23,"resolvedIndex"],[33,38,34,36],[33,42,34,40],[33,46,34,44],[33,49,34,47],[33,50,34,48],[33,51,34,49],[33,54,34,52,"Number"],[33,60,34,58],[33,61,34,59,"resolvedIndex"],[33,74,34,72],[33,75,34,73],[34,6,35,4],[34,10,35,8],[34,11,35,9,"Number"],[34,17,35,15],[34,18,35,16,"isFinite"],[34,26,35,24],[34,27,35,25,"currentIndex"],[34,39,35,37],[34,40,35,38],[34,44,35,42,"currentIndex"],[34,56,35,54],[34,59,35,57],[34,60,35,58],[34,62,35,60],[35,8,36,6],[36,6,37,4],[37,6,38,4],[37,10,38,8,"tooltipTicks"],[37,22,38,20],[37,25,38,23],[37,26,38,24],[37,27,38,25],[37,29,38,27,"_tooltipSelectors"],[37,46,38,44],[37,47,38,45,"selectTooltipAxisTicks"],[37,69,38,67],[37,71,38,69,"state"],[37,76,38,74],[37,77,38,75],[38,6,39,4],[38,10,39,8,"key"],[38,13,39,11],[38,18,39,16],[38,25,39,23],[38,27,39,25],[39,8,40,6],[39,12,40,10,"_coordinate"],[39,23,40,21],[39,26,40,24],[39,27,40,25],[39,28,40,26],[39,30,40,28,"_selectors"],[39,40,40,38],[39,41,40,39,"selectCoordinateForDefaultIndex"],[39,72,40,70],[39,74,40,72,"state"],[39,79,40,77],[39,81,40,79],[39,87,40,85],[39,89,40,87],[39,96,40,94],[39,98,40,96,"String"],[39,104,40,102],[39,105,40,103,"keyboardInteraction"],[39,124,40,122],[39,125,40,123,"index"],[39,130,40,128],[39,131,40,129],[39,132,40,130],[40,8,41,6,"listenerApi"],[40,19,41,17],[40,20,41,18,"dispatch"],[40,28,41,26],[40,29,41,27],[40,30,41,28],[40,31,41,29],[40,33,41,31,"_tooltipSlice"],[40,46,41,44],[40,47,41,45,"setKeyboardInteraction"],[40,69,41,67],[40,71,41,69],[41,10,42,8,"active"],[41,16,42,14],[41,18,42,16],[41,19,42,17,"keyboardInteraction"],[41,38,42,36],[41,39,42,37,"active"],[41,45,42,43],[42,10,43,8,"activeIndex"],[42,21,43,19],[42,23,43,21,"keyboardInteraction"],[42,42,43,40],[42,43,43,41,"index"],[42,48,43,46],[43,10,44,8,"activeCoordinate"],[43,26,44,24],[43,28,44,26,"_coordinate"],[44,8,45,6],[44,9,45,7],[44,10,45,8],[44,11,45,9],[45,8,46,6],[46,6,47,4],[47,6,48,4],[47,10,48,8,"direction"],[47,19,48,17],[47,22,48,20],[47,23,48,21],[47,24,48,22],[47,26,48,24,"_axisSelectors"],[47,40,48,38],[47,41,48,39,"selectChartDirection"],[47,61,48,59],[47,63,48,61,"state"],[47,68,48,66],[47,69,48,67],[48,6,49,4],[48,10,49,8,"directionMultiplier"],[48,29,49,27],[48,32,49,30,"direction"],[48,41,49,39],[48,46,49,44],[48,61,49,59],[48,64,49,62],[48,65,49,63],[48,68,49,66],[48,69,49,67],[48,70,49,68],[49,6,50,4],[49,10,50,8,"movement"],[49,18,50,16],[49,21,50,19,"key"],[49,24,50,22],[49,29,50,27],[49,41,50,39],[49,44,50,42],[49,45,50,43],[49,48,50,46],[49,49,50,47],[49,50,50,48],[50,6,51,4],[50,10,51,8,"nextIndex"],[50,19,51,17],[50,22,51,20,"currentIndex"],[50,34,51,32],[50,37,51,35,"movement"],[50,45,51,43],[50,48,51,46,"directionMultiplier"],[50,67,51,65],[51,6,52,4],[51,10,52,8,"tooltipTicks"],[51,22,52,20],[51,26,52,24],[51,30,52,28],[51,34,52,32,"nextIndex"],[51,43,52,41],[51,47,52,45,"tooltipTicks"],[51,59,52,57],[51,60,52,58,"length"],[51,66,52,64],[51,70,52,68,"nextIndex"],[51,79,52,77],[51,82,52,80],[51,83,52,81],[51,85,52,83],[52,8,53,6],[53,6,54,4],[54,6,55,4],[54,10,55,8,"coordinate"],[54,20,55,18],[54,23,55,21],[54,24,55,22],[54,25,55,23],[54,27,55,25,"_selectors"],[54,37,55,35],[54,38,55,36,"selectCoordinateForDefaultIndex"],[54,69,55,67],[54,71,55,69,"state"],[54,76,55,74],[54,78,55,76],[54,84,55,82],[54,86,55,84],[54,93,55,91],[54,95,55,93,"String"],[54,101,55,99],[54,102,55,100,"nextIndex"],[54,111,55,109],[54,112,55,110],[54,113,55,111],[55,6,56,4,"listenerApi"],[55,17,56,15],[55,18,56,16,"dispatch"],[55,26,56,24],[55,27,56,25],[55,28,56,26],[55,29,56,27],[55,31,56,29,"_tooltipSlice"],[55,44,56,42],[55,45,56,43,"setKeyboardInteraction"],[55,67,56,65],[55,69,56,67],[56,8,57,6,"active"],[56,14,57,12],[56,16,57,14],[56,20,57,18],[57,8,58,6,"activeIndex"],[57,19,58,17],[57,21,58,19,"nextIndex"],[57,30,58,28],[57,31,58,29,"toString"],[57,39,58,37],[57,40,58,38],[57,41,58,39],[58,8,59,6,"activeCoordinate"],[58,24,59,22],[58,26,59,24,"coordinate"],[59,6,60,4],[59,7,60,5],[59,8,60,6],[59,9,60,7],[60,4,61,2],[61,2,62,0],[61,3,62,1],[61,4,62,2],[62,2,63,0,"keyboardEventsMiddleware"],[62,26,63,24],[62,27,63,25,"startListening"],[62,41,63,39],[62,42,63,40],[63,4,64,2,"actionCreator"],[63,17,64,15],[63,19,64,17,"focusAction"],[63,30,64,28],[64,4,65,2,"effect"],[64,10,65,8],[64,12,65,10,"effect"],[64,13,65,11,"_action"],[64,20,65,18],[64,22,65,20,"listenerApi"],[64,33,65,31],[64,38,65,36],[65,6,66,4],[65,10,66,8,"state"],[65,15,66,13],[65,18,66,16,"listenerApi"],[65,29,66,27],[65,30,66,28,"getState"],[65,38,66,36],[65,39,66,37],[65,40,66,38],[66,6,67,4],[66,10,67,8,"accessibilityLayerIsActive"],[66,36,67,34],[66,39,67,37,"state"],[66,44,67,42],[66,45,67,43,"rootProps"],[66,54,67,52],[66,55,67,53,"accessibilityLayer"],[66,73,67,71],[66,78,67,76],[66,83,67,81],[67,6,68,4],[67,10,68,8],[67,11,68,9,"accessibilityLayerIsActive"],[67,37,68,35],[67,39,68,37],[68,8,69,6],[69,6,70,4],[70,6,71,4],[70,10,72,6,"keyboardInteraction"],[70,29,72,25],[70,32,73,8,"state"],[70,37,73,13],[70,38,73,14,"tooltip"],[70,45,73,21],[70,46,72,6,"keyboardInteraction"],[70,65,72,25],[71,6,74,4],[71,10,74,8,"keyboardInteraction"],[71,29,74,27],[71,30,74,28,"active"],[71,36,74,34],[71,38,74,36],[72,8,75,6],[73,6,76,4],[74,6,77,4],[74,10,77,8,"keyboardInteraction"],[74,29,77,27],[74,30,77,28,"index"],[74,35,77,33],[74,39,77,37],[74,43,77,41],[74,45,77,43],[75,8,78,6],[75,12,78,10,"nextIndex"],[75,21,78,19],[75,24,78,22],[75,27,78,25],[76,8,79,6],[76,12,79,10,"coordinate"],[76,22,79,20],[76,25,79,23],[76,26,79,24],[76,27,79,25],[76,29,79,27,"_selectors"],[76,39,79,37],[76,40,79,38,"selectCoordinateForDefaultIndex"],[76,71,79,69],[76,73,79,71,"state"],[76,78,79,76],[76,80,79,78],[76,86,79,84],[76,88,79,86],[76,95,79,93],[76,97,79,95,"String"],[76,103,79,101],[76,104,79,102,"nextIndex"],[76,113,79,111],[76,114,79,112],[76,115,79,113],[77,8,80,6,"listenerApi"],[77,19,80,17],[77,20,80,18,"dispatch"],[77,28,80,26],[77,29,80,27],[77,30,80,28],[77,31,80,29],[77,33,80,31,"_tooltipSlice"],[77,46,80,44],[77,47,80,45,"setKeyboardInteraction"],[77,69,80,67],[77,71,80,69],[78,10,81,8,"active"],[78,16,81,14],[78,18,81,16],[78,22,81,20],[79,10,82,8,"activeIndex"],[79,21,82,19],[79,23,82,21,"nextIndex"],[79,32,82,30],[80,10,83,8,"activeCoordinate"],[80,26,83,24],[80,28,83,26,"coordinate"],[81,8,84,6],[81,9,84,7],[81,10,84,8],[81,11,84,9],[82,6,85,4],[83,4,86,2],[84,2,87,0],[84,3,87,1],[84,4,87,2],[85,0,87,3],[85,3]],"functionMap":{"names":["<global>","startListening$argument_0.effect"],"mappings":"AAA;UCiB;GD2C;UCI;GDqB"},"hasCjsExports":true},"type":"js/module"}]}