{"dependencies":[{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":62},"end":{"line":2,"column":39,"index":101}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"generateQuickReplies\", {\n    enumerable: true,\n    get: function () {\n      return generateQuickReplies;\n    }\n  });\n  var _expoConstants = require(_dependencyMap[0], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  // Service AI pour les r√©ponses rapides avec Emergent LLM Key\n\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  // Generate AI quick reply suggestions\n  const generateQuickReplies = async context => {\n    try {\n      const response = await fetch(`${API_URL}/api/ai/quick-replies`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(context)\n      });\n      if (!response.ok) {\n        throw new Error('Failed to generate replies');\n      }\n      const data = await response.json();\n      return data.replies || [];\n    } catch (error) {\n      console.error('AI reply generation error:', error);\n      // Return fallback suggestions\n      return getFallbackReplies(context);\n    }\n  };\n\n  // Fallback replies when AI is unavailable\n  const getFallbackReplies = context => {\n    const {\n      channelType,\n      lastMessages\n    } = context;\n    const lastMessage = lastMessages[lastMessages.length - 1]?.toLowerCase() || '';\n\n    // Context-aware fallbacks\n    if (lastMessage.includes('rdv') || lastMessage.includes('rendez-vous') || lastMessage.includes('confirm√©')) {\n      return [{\n        id: 'f1',\n        text: 'Parfait, merci pour la confirmation !',\n        tone: 'friendly'\n      }, {\n        id: 'f2',\n        text: 'Bien not√©, j\\'y serai.',\n        tone: 'brief'\n      }, {\n        id: 'f3',\n        text: 'Excellent, je confirme ma pr√©sence.',\n        tone: 'formal'\n      }];\n    }\n    if (lastMessage.includes('question') || lastMessage.includes('?')) {\n      return [{\n        id: 'f1',\n        text: 'Je te r√©ponds d√®s que possible.',\n        tone: 'friendly'\n      }, {\n        id: 'f2',\n        text: 'Bonne question, laisse-moi v√©rifier.',\n        tone: 'friendly'\n      }, {\n        id: 'f3',\n        text: 'Je reviens vers vous rapidement.',\n        tone: 'formal'\n      }];\n    }\n\n    // Channel-specific defaults\n    if (channelType === 'medical') {\n      return [{\n        id: 'f1',\n        text: 'Merci, je serai l√†.',\n        tone: 'brief'\n      }, {\n        id: 'f2',\n        text: 'Bien not√©, √† demain.',\n        tone: 'friendly'\n      }, {\n        id: 'f3',\n        text: 'Parfait, merci pour l\\'info.',\n        tone: 'friendly'\n      }];\n    }\n    if (channelType === 'technical' || channelType === 'training') {\n      return [{\n        id: 'f1',\n        text: 'Super, on fait comme √ßa !',\n        tone: 'friendly'\n      }, {\n        id: 'f2',\n        text: 'Merci Coach üí™',\n        tone: 'friendly'\n      }, {\n        id: 'f3',\n        text: 'Bien re√ßu, pr√™t pour la session.',\n        tone: 'formal'\n      }];\n    }\n    if (channelType === 'agent') {\n      return [{\n        id: 'f1',\n        text: 'Merci pour le suivi !',\n        tone: 'friendly'\n      }, {\n        id: 'f2',\n        text: 'Parfait, on en reparle.',\n        tone: 'friendly'\n      }, {\n        id: 'f3',\n        text: 'Bien not√©, merci.',\n        tone: 'brief'\n      }];\n    }\n\n    // Generic fallbacks\n    return [{\n      id: 'f1',\n      text: 'Merci !',\n      tone: 'brief'\n    }, {\n      id: 'f2',\n      text: 'Parfait, merci pour l\\'info.',\n      tone: 'friendly'\n    }, {\n      id: 'f3',\n      text: 'Bien re√ßu, je reviens vers vous.',\n      tone: 'formal'\n    }];\n  };\n  var _default = {\n    generateQuickReplies\n  };\n});","lineCount":156,"map":[[12,2,99,0,"Object"],[12,8,99,0],[12,9,99,0,"defineProperty"],[12,23,99,0],[12,24,99,0,"exports"],[12,31,99,0],[13,4,99,0,"enumerable"],[13,14,99,0],[14,4,99,0,"get"],[14,7,99,0],[14,18,99,0,"get"],[14,19,99,0],[15,6,99,0],[15,13,99,0,"_default"],[15,21,99,0],[16,4,99,0],[17,2,99,0],[18,2,21,0,"Object"],[18,8,21,0],[18,9,21,0,"defineProperty"],[18,23,21,0],[18,24,21,0,"exports"],[18,31,21,0],[19,4,21,0,"enumerable"],[19,14,21,0],[20,4,21,0,"get"],[20,7,21,0],[20,18,21,0,"get"],[20,19,21,0],[21,6,21,0],[21,13,21,0,"generateQuickReplies"],[21,33,21,0],[22,4,21,0],[23,2,21,0],[24,2,2,0],[24,6,2,0,"_expoConstants"],[24,20,2,0],[24,23,2,0,"require"],[24,30,2,0],[24,31,2,0,"_dependencyMap"],[24,45,2,0],[25,2,2,0],[25,6,2,0,"Constants"],[25,15,2,0],[25,18,2,0,"_interopDefault"],[25,33,2,0],[25,34,2,0,"_expoConstants"],[25,48,2,0],[26,2,1,0],[28,2,4,0],[28,8,4,6,"API_URL"],[28,15,4,13],[28,18,4,16,"Constants"],[28,27,4,25],[28,28,4,25,"default"],[28,35,4,25],[28,36,4,26,"expoConfig"],[28,46,4,36],[28,48,4,38,"extra"],[28,53,4,43],[28,55,4,45,"EXPO_PUBLIC_BACKEND_URL"],[28,78,4,68],[28,82,5,16,"process"],[28,89,5,23],[28,90,5,24,"env"],[28,93,5,27],[28,94,5,28,"EXPO_PUBLIC_BACKEND_URL"],[28,117,5,51],[28,121,6,16],[28,123,6,18],[29,2,20,0],[30,2,21,7],[30,8,21,13,"generateQuickReplies"],[30,28,21,33],[30,31,21,36],[30,37,21,43,"context"],[30,44,21,66],[30,48,21,94],[31,4,22,2],[31,8,22,6],[32,6,23,4],[32,12,23,10,"response"],[32,20,23,18],[32,23,23,21],[32,29,23,27,"fetch"],[32,34,23,32],[32,35,23,33],[32,38,23,36,"API_URL"],[32,45,23,43],[32,68,23,66],[32,70,23,68],[33,8,24,6,"method"],[33,14,24,12],[33,16,24,14],[33,22,24,20],[34,8,25,6,"headers"],[34,15,25,13],[34,17,25,15],[35,10,26,8],[35,24,26,22],[35,26,26,24],[36,8,27,6],[36,9,27,7],[37,8,28,6,"body"],[37,12,28,10],[37,14,28,12,"JSON"],[37,18,28,16],[37,19,28,17,"stringify"],[37,28,28,26],[37,29,28,27,"context"],[37,36,28,34],[38,6,29,4],[38,7,29,5],[38,8,29,6],[39,6,31,4],[39,10,31,8],[39,11,31,9,"response"],[39,19,31,17],[39,20,31,18,"ok"],[39,22,31,20],[39,24,31,22],[40,8,32,6],[40,14,32,12],[40,18,32,16,"Error"],[40,23,32,21],[40,24,32,22],[40,52,32,50],[40,53,32,51],[41,6,33,4],[42,6,35,4],[42,12,35,10,"data"],[42,16,35,14],[42,19,35,17],[42,25,35,23,"response"],[42,33,35,31],[42,34,35,32,"json"],[42,38,35,36],[42,39,35,37],[42,40,35,38],[43,6,36,4],[43,13,36,11,"data"],[43,17,36,15],[43,18,36,16,"replies"],[43,25,36,23],[43,29,36,27],[43,31,36,29],[44,4,37,2],[44,5,37,3],[44,6,37,4],[44,13,37,11,"error"],[44,18,37,16],[44,20,37,18],[45,6,38,4,"console"],[45,13,38,11],[45,14,38,12,"error"],[45,19,38,17],[45,20,38,18],[45,48,38,46],[45,50,38,48,"error"],[45,55,38,53],[45,56,38,54],[46,6,39,4],[47,6,40,4],[47,13,40,11,"getFallbackReplies"],[47,31,40,29],[47,32,40,30,"context"],[47,39,40,37],[47,40,40,38],[48,4,41,2],[49,2,42,0],[49,3,42,1],[51,2,44,0],[52,2,45,0],[52,8,45,6,"getFallbackReplies"],[52,26,45,24],[52,29,45,28,"context"],[52,36,45,51],[52,40,45,70],[53,4,46,2],[53,10,46,8],[54,6,46,10,"channelType"],[54,17,46,21],[55,6,46,23,"lastMessages"],[56,4,46,36],[56,5,46,37],[56,8,46,40,"context"],[56,15,46,47],[57,4,47,2],[57,10,47,8,"lastMessage"],[57,21,47,19],[57,24,47,22,"lastMessages"],[57,36,47,34],[57,37,47,35,"lastMessages"],[57,49,47,47],[57,50,47,48,"length"],[57,56,47,54],[57,59,47,57],[57,60,47,58],[57,61,47,59],[57,63,47,61,"toLowerCase"],[57,74,47,72],[57,75,47,73],[57,76,47,74],[57,80,47,78],[57,82,47,80],[59,4,49,2],[60,4,50,2],[60,8,50,6,"lastMessage"],[60,19,50,17],[60,20,50,18,"includes"],[60,28,50,26],[60,29,50,27],[60,34,50,32],[60,35,50,33],[60,39,50,37,"lastMessage"],[60,50,50,48],[60,51,50,49,"includes"],[60,59,50,57],[60,60,50,58],[60,73,50,71],[60,74,50,72],[60,78,50,76,"lastMessage"],[60,89,50,87],[60,90,50,88,"includes"],[60,98,50,96],[60,99,50,97],[60,109,50,107],[60,110,50,108],[60,112,50,110],[61,6,51,4],[61,13,51,11],[61,14,52,6],[62,8,52,8,"id"],[62,10,52,10],[62,12,52,12],[62,16,52,16],[63,8,52,18,"text"],[63,12,52,22],[63,14,52,24],[63,53,52,63],[64,8,52,65,"tone"],[64,12,52,69],[64,14,52,71],[65,6,52,82],[65,7,52,83],[65,9,53,6],[66,8,53,8,"id"],[66,10,53,10],[66,12,53,12],[66,16,53,16],[67,8,53,18,"text"],[67,12,53,22],[67,14,53,24],[67,38,53,48],[68,8,53,50,"tone"],[68,12,53,54],[68,14,53,56],[69,6,53,64],[69,7,53,65],[69,9,54,6],[70,8,54,8,"id"],[70,10,54,10],[70,12,54,12],[70,16,54,16],[71,8,54,18,"text"],[71,12,54,22],[71,14,54,24],[71,51,54,61],[72,8,54,63,"tone"],[72,12,54,67],[72,14,54,69],[73,6,54,78],[73,7,54,79],[73,8,55,5],[74,4,56,2],[75,4,58,2],[75,8,58,6,"lastMessage"],[75,19,58,17],[75,20,58,18,"includes"],[75,28,58,26],[75,29,58,27],[75,39,58,37],[75,40,58,38],[75,44,58,42,"lastMessage"],[75,55,58,53],[75,56,58,54,"includes"],[75,64,58,62],[75,65,58,63],[75,68,58,66],[75,69,58,67],[75,71,58,69],[76,6,59,4],[76,13,59,11],[76,14,60,6],[77,8,60,8,"id"],[77,10,60,10],[77,12,60,12],[77,16,60,16],[78,8,60,18,"text"],[78,12,60,22],[78,14,60,24],[78,47,60,57],[79,8,60,59,"tone"],[79,12,60,63],[79,14,60,65],[80,6,60,76],[80,7,60,77],[80,9,61,6],[81,8,61,8,"id"],[81,10,61,10],[81,12,61,12],[81,16,61,16],[82,8,61,18,"text"],[82,12,61,22],[82,14,61,24],[82,52,61,62],[83,8,61,64,"tone"],[83,12,61,68],[83,14,61,70],[84,6,61,81],[84,7,61,82],[84,9,62,6],[85,8,62,8,"id"],[85,10,62,10],[85,12,62,12],[85,16,62,16],[86,8,62,18,"text"],[86,12,62,22],[86,14,62,24],[86,48,62,58],[87,8,62,60,"tone"],[87,12,62,64],[87,14,62,66],[88,6,62,75],[88,7,62,76],[88,8,63,5],[89,4,64,2],[91,4,66,2],[92,4,67,2],[92,8,67,6,"channelType"],[92,19,67,17],[92,24,67,22],[92,33,67,31],[92,35,67,33],[93,6,68,4],[93,13,68,11],[93,14,69,6],[94,8,69,8,"id"],[94,10,69,10],[94,12,69,12],[94,16,69,16],[95,8,69,18,"text"],[95,12,69,22],[95,14,69,24],[95,35,69,45],[96,8,69,47,"tone"],[96,12,69,51],[96,14,69,53],[97,6,69,61],[97,7,69,62],[97,9,70,6],[98,8,70,8,"id"],[98,10,70,10],[98,12,70,12],[98,16,70,16],[99,8,70,18,"text"],[99,12,70,22],[99,14,70,24],[99,36,70,46],[100,8,70,48,"tone"],[100,12,70,52],[100,14,70,54],[101,6,70,65],[101,7,70,66],[101,9,71,6],[102,8,71,8,"id"],[102,10,71,10],[102,12,71,12],[102,16,71,16],[103,8,71,18,"text"],[103,12,71,22],[103,14,71,24],[103,44,71,54],[104,8,71,56,"tone"],[104,12,71,60],[104,14,71,62],[105,6,71,73],[105,7,71,74],[105,8,72,5],[106,4,73,2],[107,4,75,2],[107,8,75,6,"channelType"],[107,19,75,17],[107,24,75,22],[107,35,75,33],[107,39,75,37,"channelType"],[107,50,75,48],[107,55,75,53],[107,65,75,63],[107,67,75,65],[108,6,76,4],[108,13,76,11],[108,14,77,6],[109,8,77,8,"id"],[109,10,77,10],[109,12,77,12],[109,16,77,16],[110,8,77,18,"text"],[110,12,77,22],[110,14,77,24],[110,41,77,51],[111,8,77,53,"tone"],[111,12,77,57],[111,14,77,59],[112,6,77,70],[112,7,77,71],[112,9,78,6],[113,8,78,8,"id"],[113,10,78,10],[113,12,78,12],[113,16,78,16],[114,8,78,18,"text"],[114,12,78,22],[114,14,78,24],[114,30,78,40],[115,8,78,42,"tone"],[115,12,78,46],[115,14,78,48],[116,6,78,59],[116,7,78,60],[116,9,79,6],[117,8,79,8,"id"],[117,10,79,10],[117,12,79,12],[117,16,79,16],[118,8,79,18,"text"],[118,12,79,22],[118,14,79,24],[118,48,79,58],[119,8,79,60,"tone"],[119,12,79,64],[119,14,79,66],[120,6,79,75],[120,7,79,76],[120,8,80,5],[121,4,81,2],[122,4,83,2],[122,8,83,6,"channelType"],[122,19,83,17],[122,24,83,22],[122,31,83,29],[122,33,83,31],[123,6,84,4],[123,13,84,11],[123,14,85,6],[124,8,85,8,"id"],[124,10,85,10],[124,12,85,12],[124,16,85,16],[125,8,85,18,"text"],[125,12,85,22],[125,14,85,24],[125,37,85,47],[126,8,85,49,"tone"],[126,12,85,53],[126,14,85,55],[127,6,85,66],[127,7,85,67],[127,9,86,6],[128,8,86,8,"id"],[128,10,86,10],[128,12,86,12],[128,16,86,16],[129,8,86,18,"text"],[129,12,86,22],[129,14,86,24],[129,39,86,49],[130,8,86,51,"tone"],[130,12,86,55],[130,14,86,57],[131,6,86,68],[131,7,86,69],[131,9,87,6],[132,8,87,8,"id"],[132,10,87,10],[132,12,87,12],[132,16,87,16],[133,8,87,18,"text"],[133,12,87,22],[133,14,87,24],[133,33,87,43],[134,8,87,45,"tone"],[134,12,87,49],[134,14,87,51],[135,6,87,59],[135,7,87,60],[135,8,88,5],[136,4,89,2],[138,4,91,2],[139,4,92,2],[139,11,92,9],[139,12,93,4],[140,6,93,6,"id"],[140,8,93,8],[140,10,93,10],[140,14,93,14],[141,6,93,16,"text"],[141,10,93,20],[141,12,93,22],[141,21,93,31],[142,6,93,33,"tone"],[142,10,93,37],[142,12,93,39],[143,4,93,47],[143,5,93,48],[143,7,94,4],[144,6,94,6,"id"],[144,8,94,8],[144,10,94,10],[144,14,94,14],[145,6,94,16,"text"],[145,10,94,20],[145,12,94,22],[145,42,94,52],[146,6,94,54,"tone"],[146,10,94,58],[146,12,94,60],[147,4,94,71],[147,5,94,72],[147,7,95,4],[148,6,95,6,"id"],[148,8,95,8],[148,10,95,10],[148,14,95,14],[149,6,95,16,"text"],[149,10,95,20],[149,12,95,22],[149,46,95,56],[150,6,95,58,"tone"],[150,10,95,62],[150,12,95,64],[151,4,95,73],[151,5,95,74],[151,6,96,3],[152,2,97,0],[152,3,97,1],[153,2,99,0],[153,6,99,0,"_default"],[153,14,99,0],[153,17,99,15],[154,4,100,2,"generateQuickReplies"],[155,2,101,0],[155,3,101,1],[156,0,101,2],[156,3]],"functionMap":{"names":["<global>","generateQuickReplies","getFallbackReplies"],"mappings":"AAA;oCCoB;CDqB;2BEG;CFoD"},"hasCjsExports":false},"type":"js/module"}]}