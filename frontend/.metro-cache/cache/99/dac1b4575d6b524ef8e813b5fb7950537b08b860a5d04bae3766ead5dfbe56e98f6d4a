{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Adder = void 0;\n  exports.fcumsum = fcumsum;\n  exports.fsum = fsum;\n  // https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\n  class Adder {\n    constructor() {\n      this._partials = new Float64Array(32);\n      this._n = 0;\n    }\n    add(x) {\n      const p = this._partials;\n      let i = 0;\n      for (let j = 0; j < this._n && j < 32; j++) {\n        const y = p[j],\n          hi = x + y,\n          lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n        if (lo) p[i++] = lo;\n        x = hi;\n      }\n      p[i] = x;\n      this._n = i + 1;\n      return this;\n    }\n    valueOf() {\n      const p = this._partials;\n      let n = this._n,\n        x,\n        y,\n        lo,\n        hi = 0;\n      if (n > 0) {\n        hi = p[--n];\n        while (n > 0) {\n          x = hi;\n          y = p[--n];\n          hi = x + y;\n          lo = y - (hi - x);\n          if (lo) break;\n        }\n        if (n > 0 && (lo < 0 && p[n - 1] < 0 || lo > 0 && p[n - 1] > 0)) {\n          y = lo * 2;\n          x = hi + y;\n          if (y == x - hi) hi = x;\n        }\n      }\n      return hi;\n    }\n  }\n  exports.Adder = Adder;\n  function fsum(values, valueof) {\n    const adder = new Adder();\n    if (valueof === undefined) {\n      for (let value of values) {\n        if (value = +value) {\n          adder.add(value);\n        }\n      }\n    } else {\n      let index = -1;\n      for (let value of values) {\n        if (value = +valueof(value, ++index, values)) {\n          adder.add(value);\n        }\n      }\n    }\n    return +adder;\n  }\n  function fcumsum(values, valueof) {\n    const adder = new Adder();\n    let index = -1;\n    return Float64Array.from(values, valueof === undefined ? v => adder.add(+v || 0) : v => adder.add(+valueof(v, ++index, values) || 0));\n  }\n});","lineCount":79,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"Adder"],[7,15,6,13],[7,18,6,16],[7,23,6,21],[7,24,6,22],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"fcumsum"],[8,17,7,15],[8,20,7,18,"fcumsum"],[8,27,7,25],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"fsum"],[9,14,8,12],[9,17,8,15,"fsum"],[9,21,8,19],[10,2,9,0],[11,2,10,0],[11,8,10,6,"Adder"],[11,13,10,11],[11,14,10,12],[12,4,11,2,"constructor"],[12,15,11,13,"constructor"],[12,16,11,13],[12,18,11,16],[13,6,12,4],[13,10,12,8],[13,11,12,9,"_partials"],[13,20,12,18],[13,23,12,21],[13,27,12,25,"Float64Array"],[13,39,12,37],[13,40,12,38],[13,42,12,40],[13,43,12,41],[14,6,13,4],[14,10,13,8],[14,11,13,9,"_n"],[14,13,13,11],[14,16,13,14],[14,17,13,15],[15,4,14,2],[16,4,15,2,"add"],[16,7,15,5,"add"],[16,8,15,6,"x"],[16,9,15,7],[16,11,15,9],[17,6,16,4],[17,12,16,10,"p"],[17,13,16,11],[17,16,16,14],[17,20,16,18],[17,21,16,19,"_partials"],[17,30,16,28],[18,6,17,4],[18,10,17,8,"i"],[18,11,17,9],[18,14,17,12],[18,15,17,13],[19,6,18,4],[19,11,18,9],[19,15,18,13,"j"],[19,16,18,14],[19,19,18,17],[19,20,18,18],[19,22,18,20,"j"],[19,23,18,21],[19,26,18,24],[19,30,18,28],[19,31,18,29,"_n"],[19,33,18,31],[19,37,18,35,"j"],[19,38,18,36],[19,41,18,39],[19,43,18,41],[19,45,18,43,"j"],[19,46,18,44],[19,48,18,46],[19,50,18,48],[20,8,19,6],[20,14,19,12,"y"],[20,15,19,13],[20,18,19,16,"p"],[20,19,19,17],[20,20,19,18,"j"],[20,21,19,19],[20,22,19,20],[21,10,20,8,"hi"],[21,12,20,10],[21,15,20,13,"x"],[21,16,20,14],[21,19,20,17,"y"],[21,20,20,18],[22,10,21,8,"lo"],[22,12,21,10],[22,15,21,13,"Math"],[22,19,21,17],[22,20,21,18,"abs"],[22,23,21,21],[22,24,21,22,"x"],[22,25,21,23],[22,26,21,24],[22,29,21,27,"Math"],[22,33,21,31],[22,34,21,32,"abs"],[22,37,21,35],[22,38,21,36,"y"],[22,39,21,37],[22,40,21,38],[22,43,21,41,"x"],[22,44,21,42],[22,48,21,46,"hi"],[22,50,21,48],[22,53,21,51,"y"],[22,54,21,52],[22,55,21,53],[22,58,21,56,"y"],[22,59,21,57],[22,63,21,61,"hi"],[22,65,21,63],[22,68,21,66,"x"],[22,69,21,67],[22,70,21,68],[23,8,22,6],[23,12,22,10,"lo"],[23,14,22,12],[23,16,22,14,"p"],[23,17,22,15],[23,18,22,16,"i"],[23,19,22,17],[23,21,22,19],[23,22,22,20],[23,25,22,23,"lo"],[23,27,22,25],[24,8,23,6,"x"],[24,9,23,7],[24,12,23,10,"hi"],[24,14,23,12],[25,6,24,4],[26,6,25,4,"p"],[26,7,25,5],[26,8,25,6,"i"],[26,9,25,7],[26,10,25,8],[26,13,25,11,"x"],[26,14,25,12],[27,6,26,4],[27,10,26,8],[27,11,26,9,"_n"],[27,13,26,11],[27,16,26,14,"i"],[27,17,26,15],[27,20,26,18],[27,21,26,19],[28,6,27,4],[28,13,27,11],[28,17,27,15],[29,4,28,2],[30,4,29,2,"valueOf"],[30,11,29,9,"valueOf"],[30,12,29,9],[30,14,29,12],[31,6,30,4],[31,12,30,10,"p"],[31,13,30,11],[31,16,30,14],[31,20,30,18],[31,21,30,19,"_partials"],[31,30,30,28],[32,6,31,4],[32,10,31,8,"n"],[32,11,31,9],[32,14,31,12],[32,18,31,16],[32,19,31,17,"_n"],[32,21,31,19],[33,8,32,6,"x"],[33,9,32,7],[34,8,33,6,"y"],[34,9,33,7],[35,8,34,6,"lo"],[35,10,34,8],[36,8,35,6,"hi"],[36,10,35,8],[36,13,35,11],[36,14,35,12],[37,6,36,4],[37,10,36,8,"n"],[37,11,36,9],[37,14,36,12],[37,15,36,13],[37,17,36,15],[38,8,37,6,"hi"],[38,10,37,8],[38,13,37,11,"p"],[38,14,37,12],[38,15,37,13],[38,17,37,15,"n"],[38,18,37,16],[38,19,37,17],[39,8,38,6],[39,15,38,13,"n"],[39,16,38,14],[39,19,38,17],[39,20,38,18],[39,22,38,20],[40,10,39,8,"x"],[40,11,39,9],[40,14,39,12,"hi"],[40,16,39,14],[41,10,40,8,"y"],[41,11,40,9],[41,14,40,12,"p"],[41,15,40,13],[41,16,40,14],[41,18,40,16,"n"],[41,19,40,17],[41,20,40,18],[42,10,41,8,"hi"],[42,12,41,10],[42,15,41,13,"x"],[42,16,41,14],[42,19,41,17,"y"],[42,20,41,18],[43,10,42,8,"lo"],[43,12,42,10],[43,15,42,13,"y"],[43,16,42,14],[43,20,42,18,"hi"],[43,22,42,20],[43,25,42,23,"x"],[43,26,42,24],[43,27,42,25],[44,10,43,8],[44,14,43,12,"lo"],[44,16,43,14],[44,18,43,16],[45,8,44,6],[46,8,45,6],[46,12,45,10,"n"],[46,13,45,11],[46,16,45,14],[46,17,45,15],[46,22,45,20,"lo"],[46,24,45,22],[46,27,45,25],[46,28,45,26],[46,32,45,30,"p"],[46,33,45,31],[46,34,45,32,"n"],[46,35,45,33],[46,38,45,36],[46,39,45,37],[46,40,45,38],[46,43,45,41],[46,44,45,42],[46,48,45,46,"lo"],[46,50,45,48],[46,53,45,51],[46,54,45,52],[46,58,45,56,"p"],[46,59,45,57],[46,60,45,58,"n"],[46,61,45,59],[46,64,45,62],[46,65,45,63],[46,66,45,64],[46,69,45,67],[46,70,45,68],[46,71,45,69],[46,73,45,71],[47,10,46,8,"y"],[47,11,46,9],[47,14,46,12,"lo"],[47,16,46,14],[47,19,46,17],[47,20,46,18],[48,10,47,8,"x"],[48,11,47,9],[48,14,47,12,"hi"],[48,16,47,14],[48,19,47,17,"y"],[48,20,47,18],[49,10,48,8],[49,14,48,12,"y"],[49,15,48,13],[49,19,48,17,"x"],[49,20,48,18],[49,23,48,21,"hi"],[49,25,48,23],[49,27,48,25,"hi"],[49,29,48,27],[49,32,48,30,"x"],[49,33,48,31],[50,8,49,6],[51,6,50,4],[52,6,51,4],[52,13,51,11,"hi"],[52,15,51,13],[53,4,52,2],[54,2,53,0],[55,2,54,0,"exports"],[55,9,54,7],[55,10,54,8,"Adder"],[55,15,54,13],[55,18,54,16,"Adder"],[55,23,54,21],[56,2,55,0],[56,11,55,9,"fsum"],[56,15,55,13,"fsum"],[56,16,55,14,"values"],[56,22,55,20],[56,24,55,22,"valueof"],[56,31,55,29],[56,33,55,31],[57,4,56,2],[57,10,56,8,"adder"],[57,15,56,13],[57,18,56,16],[57,22,56,20,"Adder"],[57,27,56,25],[57,28,56,26],[57,29,56,27],[58,4,57,2],[58,8,57,6,"valueof"],[58,15,57,13],[58,20,57,18,"undefined"],[58,29,57,27],[58,31,57,29],[59,6,58,4],[59,11,58,9],[59,15,58,13,"value"],[59,20,58,18],[59,24,58,22,"values"],[59,30,58,28],[59,32,58,30],[60,8,59,6],[60,12,59,10,"value"],[60,17,59,15],[60,20,59,18],[60,21,59,19,"value"],[60,26,59,24],[60,28,59,26],[61,10,60,8,"adder"],[61,15,60,13],[61,16,60,14,"add"],[61,19,60,17],[61,20,60,18,"value"],[61,25,60,23],[61,26,60,24],[62,8,61,6],[63,6,62,4],[64,4,63,2],[64,5,63,3],[64,11,63,9],[65,6,64,4],[65,10,64,8,"index"],[65,15,64,13],[65,18,64,16],[65,19,64,17],[65,20,64,18],[66,6,65,4],[66,11,65,9],[66,15,65,13,"value"],[66,20,65,18],[66,24,65,22,"values"],[66,30,65,28],[66,32,65,30],[67,8,66,6],[67,12,66,10,"value"],[67,17,66,15],[67,20,66,18],[67,21,66,19,"valueof"],[67,28,66,26],[67,29,66,27,"value"],[67,34,66,32],[67,36,66,34],[67,38,66,36,"index"],[67,43,66,41],[67,45,66,43,"values"],[67,51,66,49],[67,52,66,50],[67,54,66,52],[68,10,67,8,"adder"],[68,15,67,13],[68,16,67,14,"add"],[68,19,67,17],[68,20,67,18,"value"],[68,25,67,23],[68,26,67,24],[69,8,68,6],[70,6,69,4],[71,4,70,2],[72,4,71,2],[72,11,71,9],[72,12,71,10,"adder"],[72,17,71,15],[73,2,72,0],[74,2,73,0],[74,11,73,9,"fcumsum"],[74,18,73,16,"fcumsum"],[74,19,73,17,"values"],[74,25,73,23],[74,27,73,25,"valueof"],[74,34,73,32],[74,36,73,34],[75,4,74,2],[75,10,74,8,"adder"],[75,15,74,13],[75,18,74,16],[75,22,74,20,"Adder"],[75,27,74,25],[75,28,74,26],[75,29,74,27],[76,4,75,2],[76,8,75,6,"index"],[76,13,75,11],[76,16,75,14],[76,17,75,15],[76,18,75,16],[77,4,76,2],[77,11,76,9,"Float64Array"],[77,23,76,21],[77,24,76,22,"from"],[77,28,76,26],[77,29,76,27,"values"],[77,35,76,33],[77,37,76,35,"valueof"],[77,44,76,42],[77,49,76,47,"undefined"],[77,58,76,56],[77,61,76,59,"v"],[77,62,76,60],[77,66,76,64,"adder"],[77,71,76,69],[77,72,76,70,"add"],[77,75,76,73],[77,76,76,74],[77,77,76,75,"v"],[77,78,76,76],[77,82,76,80],[77,83,76,81],[77,84,76,82],[77,87,76,85,"v"],[77,88,76,86],[77,92,76,90,"adder"],[77,97,76,95],[77,98,76,96,"add"],[77,101,76,99],[77,102,76,100],[77,103,76,101,"valueof"],[77,110,76,108],[77,111,76,109,"v"],[77,112,76,110],[77,114,76,112],[77,116,76,114,"index"],[77,121,76,119],[77,123,76,121,"values"],[77,129,76,127],[77,130,76,128],[77,134,76,132],[77,135,76,133],[77,136,76,134],[77,137,76,135],[78,2,77,0],[79,0,77,1],[79,3]],"functionMap":{"names":["<global>","Adder","Adder#constructor","Adder#add","Adder#valueOf","fsum","fcumsum","<anonymous>"],"mappings":"AAA;ACS;ECC;GDG;EEC;GFa;EGC;GHuB;CDC;AKE;CLiB;AMC;2DCG,uBD,GC,iDD"},"hasCjsExports":true},"type":"js/module"}]}