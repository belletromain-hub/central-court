{"dependencies":[{"name":"reselect","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"yMD8RBnUuc2+tPcluXev2X0lcxY=","exportNames":["*"],"imports":1}},{"name":"./axisSelectors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":65,"index":108}}],"key":"vEbUpi3gEMA5hmXBv7dORlIbUnU=","exportNames":["*"],"imports":1}},{"name":"./barSelectors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":109},"end":{"line":3,"column":53,"index":162}}],"key":"1FRsmkXqtVPhawGggCEBiUtCDYc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"selectAllBarsInStack\", {\n    enumerable: true,\n    get: function () {\n      return selectAllBarsInStack;\n    }\n  });\n  Object.defineProperty(exports, \"expandRectangle\", {\n    enumerable: true,\n    get: function () {\n      return expandRectangle;\n    }\n  });\n  Object.defineProperty(exports, \"selectStackRects\", {\n    enumerable: true,\n    get: function () {\n      return selectStackRects;\n    }\n  });\n  var _reselect = require(_dependencyMap[0], \"reselect\");\n  var _axisSelectors = require(_dependencyMap[1], \"./axisSelectors\");\n  var _barSelectors = require(_dependencyMap[2], \"./barSelectors\");\n  var pickStackId = (state, stackId) => stackId;\n  var pickIsPanorama = (state, stackId, isPanorama) => isPanorama;\n  var selectAllBarsInStack = (0, _reselect.createSelector)([pickStackId, _axisSelectors.selectUnfilteredCartesianItems, pickIsPanorama], (stackId, allItems, isPanorama) => {\n    return allItems.filter(i => i.type === 'bar').filter(i => i.stackId === stackId).filter(i => i.isPanorama === isPanorama).filter(i => !i.hide);\n  });\n  var selectAllBarIdsInStack = (0, _reselect.createSelector)([selectAllBarsInStack], allBars => {\n    return allBars.map(bar => bar.id);\n  });\n  /**\n   * Takes two rectangles and returns a new rectangle that encompasses both.\n   * It takes the minimum x and y, and the maximum width and height.\n   * It handles overlapping rectangles, and rectangles with a gap between them.\n   * @param rect1\n   * @param rect2\n   */\n  var expandRectangle = (rect1, rect2) => {\n    if (!rect1) {\n      return rect2;\n    }\n    if (!rect2) {\n      return rect1;\n    }\n    var x = Math.min(rect1.x, rect1.x + rect1.width, rect2.x, rect2.x + rect2.width);\n    var y = Math.min(rect1.y, rect1.y + rect1.height, rect2.y, rect2.y + rect2.height);\n    var maxX = Math.max(rect1.x, rect1.x + rect1.width, rect2.x, rect2.x + rect2.width);\n    var maxY = Math.max(rect1.y, rect1.y + rect1.height, rect2.y, rect2.y + rect2.height);\n    var width = maxX - x;\n    var height = maxY - y;\n    return {\n      x,\n      y,\n      width,\n      height\n    };\n  };\n  var combineStackRects = (state, stackId, isPanorama) => {\n    var allBarIds = selectAllBarIdsInStack(state, stackId, isPanorama);\n    var stackRects = [];\n    allBarIds.forEach(barId => {\n      var rectangles = (0, _barSelectors.selectBarRectangles)(state, barId, isPanorama, undefined);\n      rectangles === null || rectangles === void 0 || rectangles.forEach((rect, index) => {\n        stackRects[index] = expandRectangle(stackRects[index], rect);\n      });\n    });\n    return stackRects;\n  };\n  var selectStackRects = (0, _reselect.createSelector)([state => state, pickStackId, pickIsPanorama], combineStackRects);\n});","lineCount":75,"map":[[7,2,6,0,"Object"],[7,8,6,0],[7,9,6,0,"defineProperty"],[7,23,6,0],[7,24,6,0,"exports"],[7,31,6,0],[8,4,6,0,"enumerable"],[8,14,6,0],[9,4,6,0,"get"],[9,7,6,0],[9,18,6,0,"get"],[9,19,6,0],[10,6,6,0],[10,13,6,0,"selectAllBarsInStack"],[10,33,6,0],[11,4,6,0],[12,2,6,0],[13,2,19,0,"Object"],[13,8,19,0],[13,9,19,0,"defineProperty"],[13,23,19,0],[13,24,19,0,"exports"],[13,31,19,0],[14,4,19,0,"enumerable"],[14,14,19,0],[15,4,19,0,"get"],[15,7,19,0],[15,18,19,0,"get"],[15,19,19,0],[16,6,19,0],[16,13,19,0,"expandRectangle"],[16,28,19,0],[17,4,19,0],[18,2,19,0],[19,2,50,0,"Object"],[19,8,50,0],[19,9,50,0,"defineProperty"],[19,23,50,0],[19,24,50,0,"exports"],[19,31,50,0],[20,4,50,0,"enumerable"],[20,14,50,0],[21,4,50,0,"get"],[21,7,50,0],[21,18,50,0,"get"],[21,19,50,0],[22,6,50,0],[22,13,50,0,"selectStackRects"],[22,29,50,0],[23,4,50,0],[24,2,50,0],[25,2,1,0],[25,6,1,0,"_reselect"],[25,15,1,0],[25,18,1,0,"require"],[25,25,1,0],[25,26,1,0,"_dependencyMap"],[25,40,1,0],[26,2,2,0],[26,6,2,0,"_axisSelectors"],[26,20,2,0],[26,23,2,0,"require"],[26,30,2,0],[26,31,2,0,"_dependencyMap"],[26,45,2,0],[27,2,3,0],[27,6,3,0,"_barSelectors"],[27,19,3,0],[27,22,3,0,"require"],[27,29,3,0],[27,30,3,0,"_dependencyMap"],[27,44,3,0],[28,2,4,0],[28,6,4,4,"pickStackId"],[28,17,4,15],[28,20,4,18,"pickStackId"],[28,21,4,19,"state"],[28,26,4,24],[28,28,4,26,"stackId"],[28,35,4,33],[28,40,4,38,"stackId"],[28,47,4,45],[29,2,5,0],[29,6,5,4,"pickIsPanorama"],[29,20,5,18],[29,23,5,21,"pickIsPanorama"],[29,24,5,22,"state"],[29,29,5,27],[29,31,5,29,"stackId"],[29,38,5,36],[29,40,5,38,"isPanorama"],[29,50,5,48],[29,55,5,53,"isPanorama"],[29,65,5,63],[30,2,6,7],[30,6,6,11,"selectAllBarsInStack"],[30,26,6,31],[30,29,6,34],[30,33,6,34,"createSelector"],[30,42,6,48],[30,43,6,48,"createSelector"],[30,57,6,48],[30,59,6,49],[30,60,6,50,"pickStackId"],[30,71,6,61],[30,73,6,63,"selectUnfilteredCartesianItems"],[30,87,6,93],[30,88,6,93,"selectUnfilteredCartesianItems"],[30,118,6,93],[30,120,6,95,"pickIsPanorama"],[30,134,6,109],[30,135,6,110],[30,137,6,112],[30,138,6,113,"stackId"],[30,145,6,120],[30,147,6,122,"allItems"],[30,155,6,130],[30,157,6,132,"isPanorama"],[30,167,6,142],[30,172,6,147],[31,4,7,2],[31,11,7,9,"allItems"],[31,19,7,17],[31,20,7,18,"filter"],[31,26,7,24],[31,27,7,25,"i"],[31,28,7,26],[31,32,7,30,"i"],[31,33,7,31],[31,34,7,32,"type"],[31,38,7,36],[31,43,7,41],[31,48,7,46],[31,49,7,47],[31,50,7,48,"filter"],[31,56,7,54],[31,57,7,55,"i"],[31,58,7,56],[31,62,7,60,"i"],[31,63,7,61],[31,64,7,62,"stackId"],[31,71,7,69],[31,76,7,74,"stackId"],[31,83,7,81],[31,84,7,82],[31,85,7,83,"filter"],[31,91,7,89],[31,92,7,90,"i"],[31,93,7,91],[31,97,7,95,"i"],[31,98,7,96],[31,99,7,97,"isPanorama"],[31,109,7,107],[31,114,7,112,"isPanorama"],[31,124,7,122],[31,125,7,123],[31,126,7,124,"filter"],[31,132,7,130],[31,133,7,131,"i"],[31,134,7,132],[31,138,7,136],[31,139,7,137,"i"],[31,140,7,138],[31,141,7,139,"hide"],[31,145,7,143],[31,146,7,144],[32,2,8,0],[32,3,8,1],[32,4,8,2],[33,2,9,0],[33,6,9,4,"selectAllBarIdsInStack"],[33,28,9,26],[33,31,9,29],[33,35,9,29,"createSelector"],[33,44,9,43],[33,45,9,43,"createSelector"],[33,59,9,43],[33,61,9,44],[33,62,9,45,"selectAllBarsInStack"],[33,82,9,65],[33,83,9,66],[33,85,9,68,"allBars"],[33,92,9,75],[33,96,9,79],[34,4,10,2],[34,11,10,9,"allBars"],[34,18,10,16],[34,19,10,17,"map"],[34,22,10,20],[34,23,10,21,"bar"],[34,26,10,24],[34,30,10,28,"bar"],[34,33,10,31],[34,34,10,32,"id"],[34,36,10,34],[34,37,10,35],[35,2,11,0],[35,3,11,1],[35,4,11,2],[36,2,12,0],[37,0,13,0],[38,0,14,0],[39,0,15,0],[40,0,16,0],[41,0,17,0],[42,0,18,0],[43,2,19,7],[43,6,19,11,"expandRectangle"],[43,21,19,26],[43,24,19,29,"expandRectangle"],[43,25,19,30,"rect1"],[43,30,19,35],[43,32,19,37,"rect2"],[43,37,19,42],[43,42,19,47],[44,4,20,2],[44,8,20,6],[44,9,20,7,"rect1"],[44,14,20,12],[44,16,20,14],[45,6,21,4],[45,13,21,11,"rect2"],[45,18,21,16],[46,4,22,2],[47,4,23,2],[47,8,23,6],[47,9,23,7,"rect2"],[47,14,23,12],[47,16,23,14],[48,6,24,4],[48,13,24,11,"rect1"],[48,18,24,16],[49,4,25,2],[50,4,26,2],[50,8,26,6,"x"],[50,9,26,7],[50,12,26,10,"Math"],[50,16,26,14],[50,17,26,15,"min"],[50,20,26,18],[50,21,26,19,"rect1"],[50,26,26,24],[50,27,26,25,"x"],[50,28,26,26],[50,30,26,28,"rect1"],[50,35,26,33],[50,36,26,34,"x"],[50,37,26,35],[50,40,26,38,"rect1"],[50,45,26,43],[50,46,26,44,"width"],[50,51,26,49],[50,53,26,51,"rect2"],[50,58,26,56],[50,59,26,57,"x"],[50,60,26,58],[50,62,26,60,"rect2"],[50,67,26,65],[50,68,26,66,"x"],[50,69,26,67],[50,72,26,70,"rect2"],[50,77,26,75],[50,78,26,76,"width"],[50,83,26,81],[50,84,26,82],[51,4,27,2],[51,8,27,6,"y"],[51,9,27,7],[51,12,27,10,"Math"],[51,16,27,14],[51,17,27,15,"min"],[51,20,27,18],[51,21,27,19,"rect1"],[51,26,27,24],[51,27,27,25,"y"],[51,28,27,26],[51,30,27,28,"rect1"],[51,35,27,33],[51,36,27,34,"y"],[51,37,27,35],[51,40,27,38,"rect1"],[51,45,27,43],[51,46,27,44,"height"],[51,52,27,50],[51,54,27,52,"rect2"],[51,59,27,57],[51,60,27,58,"y"],[51,61,27,59],[51,63,27,61,"rect2"],[51,68,27,66],[51,69,27,67,"y"],[51,70,27,68],[51,73,27,71,"rect2"],[51,78,27,76],[51,79,27,77,"height"],[51,85,27,83],[51,86,27,84],[52,4,28,2],[52,8,28,6,"maxX"],[52,12,28,10],[52,15,28,13,"Math"],[52,19,28,17],[52,20,28,18,"max"],[52,23,28,21],[52,24,28,22,"rect1"],[52,29,28,27],[52,30,28,28,"x"],[52,31,28,29],[52,33,28,31,"rect1"],[52,38,28,36],[52,39,28,37,"x"],[52,40,28,38],[52,43,28,41,"rect1"],[52,48,28,46],[52,49,28,47,"width"],[52,54,28,52],[52,56,28,54,"rect2"],[52,61,28,59],[52,62,28,60,"x"],[52,63,28,61],[52,65,28,63,"rect2"],[52,70,28,68],[52,71,28,69,"x"],[52,72,28,70],[52,75,28,73,"rect2"],[52,80,28,78],[52,81,28,79,"width"],[52,86,28,84],[52,87,28,85],[53,4,29,2],[53,8,29,6,"maxY"],[53,12,29,10],[53,15,29,13,"Math"],[53,19,29,17],[53,20,29,18,"max"],[53,23,29,21],[53,24,29,22,"rect1"],[53,29,29,27],[53,30,29,28,"y"],[53,31,29,29],[53,33,29,31,"rect1"],[53,38,29,36],[53,39,29,37,"y"],[53,40,29,38],[53,43,29,41,"rect1"],[53,48,29,46],[53,49,29,47,"height"],[53,55,29,53],[53,57,29,55,"rect2"],[53,62,29,60],[53,63,29,61,"y"],[53,64,29,62],[53,66,29,64,"rect2"],[53,71,29,69],[53,72,29,70,"y"],[53,73,29,71],[53,76,29,74,"rect2"],[53,81,29,79],[53,82,29,80,"height"],[53,88,29,86],[53,89,29,87],[54,4,30,2],[54,8,30,6,"width"],[54,13,30,11],[54,16,30,14,"maxX"],[54,20,30,18],[54,23,30,21,"x"],[54,24,30,22],[55,4,31,2],[55,8,31,6,"height"],[55,14,31,12],[55,17,31,15,"maxY"],[55,21,31,19],[55,24,31,22,"y"],[55,25,31,23],[56,4,32,2],[56,11,32,9],[57,6,33,4,"x"],[57,7,33,5],[58,6,34,4,"y"],[58,7,34,5],[59,6,35,4,"width"],[59,11,35,9],[60,6,36,4,"height"],[61,4,37,2],[61,5,37,3],[62,2,38,0],[62,3,38,1],[63,2,39,0],[63,6,39,4,"combineStackRects"],[63,23,39,21],[63,26,39,24,"combineStackRects"],[63,27,39,25,"state"],[63,32,39,30],[63,34,39,32,"stackId"],[63,41,39,39],[63,43,39,41,"isPanorama"],[63,53,39,51],[63,58,39,56],[64,4,40,2],[64,8,40,6,"allBarIds"],[64,17,40,15],[64,20,40,18,"selectAllBarIdsInStack"],[64,42,40,40],[64,43,40,41,"state"],[64,48,40,46],[64,50,40,48,"stackId"],[64,57,40,55],[64,59,40,57,"isPanorama"],[64,69,40,67],[64,70,40,68],[65,4,41,2],[65,8,41,6,"stackRects"],[65,18,41,16],[65,21,41,19],[65,23,41,21],[66,4,42,2,"allBarIds"],[66,13,42,11],[66,14,42,12,"forEach"],[66,21,42,19],[66,22,42,20,"barId"],[66,27,42,25],[66,31,42,29],[67,6,43,4],[67,10,43,8,"rectangles"],[67,20,43,18],[67,23,43,21],[67,27,43,21,"selectBarRectangles"],[67,40,43,40],[67,41,43,40,"selectBarRectangles"],[67,60,43,40],[67,62,43,41,"state"],[67,67,43,46],[67,69,43,48,"barId"],[67,74,43,53],[67,76,43,55,"isPanorama"],[67,86,43,65],[67,88,43,67,"undefined"],[67,97,43,76],[67,98,43,77],[68,6,44,4,"rectangles"],[68,16,44,14],[68,21,44,19],[68,25,44,23],[68,29,44,27,"rectangles"],[68,39,44,37],[68,44,44,42],[68,49,44,47],[68,50,44,48],[68,54,44,52,"rectangles"],[68,64,44,62],[68,65,44,63,"forEach"],[68,72,44,70],[68,73,44,71],[68,74,44,72,"rect"],[68,78,44,76],[68,80,44,78,"index"],[68,85,44,83],[68,90,44,88],[69,8,45,6,"stackRects"],[69,18,45,16],[69,19,45,17,"index"],[69,24,45,22],[69,25,45,23],[69,28,45,26,"expandRectangle"],[69,43,45,41],[69,44,45,42,"stackRects"],[69,54,45,52],[69,55,45,53,"index"],[69,60,45,58],[69,61,45,59],[69,63,45,61,"rect"],[69,67,45,65],[69,68,45,66],[70,6,46,4],[70,7,46,5],[70,8,46,6],[71,4,47,2],[71,5,47,3],[71,6,47,4],[72,4,48,2],[72,11,48,9,"stackRects"],[72,21,48,19],[73,2,49,0],[73,3,49,1],[74,2,50,7],[74,6,50,11,"selectStackRects"],[74,22,50,27],[74,25,50,30],[74,29,50,30,"createSelector"],[74,38,50,44],[74,39,50,44,"createSelector"],[74,53,50,44],[74,55,50,45],[74,56,50,46,"state"],[74,61,50,51],[74,65,50,55,"state"],[74,70,50,60],[74,72,50,62,"pickStackId"],[74,83,50,73],[74,85,50,75,"pickIsPanorama"],[74,99,50,89],[74,100,50,90],[74,102,50,92,"combineStackRects"],[74,119,50,109],[74,120,50,110],[75,0,50,111],[75,3]],"functionMap":{"names":["<global>","pickStackId","pickIsPanorama","createSelector$argument_1","allItems.filter$argument_0","allItems.filter.filter$argument_0","allItems.filter.filter.filter$argument_0","allItems.filter.filter.filter.filter$argument_0","allBars.map$argument_0","expandRectangle","combineStackRects","allBarIds.forEach$argument_0","rectangles.forEach$argument_0","<anonymous>"],"mappings":"AAA;kBCG,2BD;qBEC,0CF;gHGC;yBCC,qBD,SE,0BF,SG,gCH,SI,YJ;CHC;oEGC;qBKC,aL;CHC;6BSQ;CTmB;wBUC;oBCG;uECE;KDE;GDC;CVE;8CaC,cb"},"hasCjsExports":false},"type":"js/module"}]}