{"dependencies":[{"name":"reselect","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":16,"index":188},"end":{"line":7,"column":35,"index":207}}],"key":"Niq92G61Rm5gtkhp74r4lYwMdNo=","exportNames":["*"],"imports":1}},{"name":"./axisSelectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":21,"index":230},"end":{"line":8,"column":47,"index":256}}],"key":"KChFYgH/IIoIcX/hp/E4zPtJawk=","exportNames":["*"],"imports":1}},{"name":"./barSelectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":20,"index":278},"end":{"line":9,"column":45,"index":303}}],"key":"+LDBZ0tq7WY9J+p65Cip4JCkQdo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.selectStackRects = exports.selectAllBarsInStack = exports.expandRectangle = void 0;\n  var _reselect = require(_dependencyMap[0], \"reselect\");\n  var _axisSelectors = require(_dependencyMap[1], \"./axisSelectors\");\n  var _barSelectors = require(_dependencyMap[2], \"./barSelectors\");\n  var pickStackId = (state, stackId) => stackId;\n  var pickIsPanorama = (state, stackId, isPanorama) => isPanorama;\n  var selectAllBarsInStack = exports.selectAllBarsInStack = (0, _reselect.createSelector)([pickStackId, _axisSelectors.selectUnfilteredCartesianItems, pickIsPanorama], (stackId, allItems, isPanorama) => {\n    return allItems.filter(i => i.type === 'bar').filter(i => i.stackId === stackId).filter(i => i.isPanorama === isPanorama).filter(i => !i.hide);\n  });\n  var selectAllBarIdsInStack = (0, _reselect.createSelector)([selectAllBarsInStack], allBars => {\n    return allBars.map(bar => bar.id);\n  });\n  /**\n   * Takes two rectangles and returns a new rectangle that encompasses both.\n   * It takes the minimum x and y, and the maximum width and height.\n   * It handles overlapping rectangles, and rectangles with a gap between them.\n   * @param rect1\n   * @param rect2\n   */\n  var expandRectangle = (rect1, rect2) => {\n    if (!rect1) {\n      return rect2;\n    }\n    if (!rect2) {\n      return rect1;\n    }\n    var x = Math.min(rect1.x, rect1.x + rect1.width, rect2.x, rect2.x + rect2.width);\n    var y = Math.min(rect1.y, rect1.y + rect1.height, rect2.y, rect2.y + rect2.height);\n    var maxX = Math.max(rect1.x, rect1.x + rect1.width, rect2.x, rect2.x + rect2.width);\n    var maxY = Math.max(rect1.y, rect1.y + rect1.height, rect2.y, rect2.y + rect2.height);\n    var width = maxX - x;\n    var height = maxY - y;\n    return {\n      x,\n      y,\n      width,\n      height\n    };\n  };\n  exports.expandRectangle = expandRectangle;\n  var combineStackRects = (state, stackId, isPanorama) => {\n    var allBarIds = selectAllBarIdsInStack(state, stackId, isPanorama);\n    var stackRects = [];\n    allBarIds.forEach(barId => {\n      var rectangles = (0, _barSelectors.selectBarRectangles)(state, barId, isPanorama, undefined);\n      rectangles === null || rectangles === void 0 || rectangles.forEach((rect, index) => {\n        stackRects[index] = expandRectangle(stackRects[index], rect);\n      });\n    });\n    return stackRects;\n  };\n  var selectStackRects = exports.selectStackRects = (0, _reselect.createSelector)([state => state, pickStackId, pickIsPanorama], combineStackRects);\n});","lineCount":59,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"selectStackRects"],[7,26,6,24],[7,29,6,27,"exports"],[7,36,6,34],[7,37,6,35,"selectAllBarsInStack"],[7,57,6,55],[7,60,6,58,"exports"],[7,67,6,65],[7,68,6,66,"expandRectangle"],[7,83,6,81],[7,86,6,84],[7,91,6,89],[7,92,6,90],[8,2,7,0],[8,6,7,4,"_reselect"],[8,15,7,13],[8,18,7,16,"require"],[8,25,7,23],[8,26,7,23,"_dependencyMap"],[8,40,7,23],[8,55,7,34],[8,56,7,35],[9,2,8,0],[9,6,8,4,"_axisSelectors"],[9,20,8,18],[9,23,8,21,"require"],[9,30,8,28],[9,31,8,28,"_dependencyMap"],[9,45,8,28],[9,67,8,46],[9,68,8,47],[10,2,9,0],[10,6,9,4,"_barSelectors"],[10,19,9,17],[10,22,9,20,"require"],[10,29,9,27],[10,30,9,27,"_dependencyMap"],[10,44,9,27],[10,65,9,44],[10,66,9,45],[11,2,10,0],[11,6,10,4,"pickStackId"],[11,17,10,15],[11,20,10,18,"pickStackId"],[11,21,10,19,"state"],[11,26,10,24],[11,28,10,26,"stackId"],[11,35,10,33],[11,40,10,38,"stackId"],[11,47,10,45],[12,2,11,0],[12,6,11,4,"pickIsPanorama"],[12,20,11,18],[12,23,11,21,"pickIsPanorama"],[12,24,11,22,"state"],[12,29,11,27],[12,31,11,29,"stackId"],[12,38,11,36],[12,40,11,38,"isPanorama"],[12,50,11,48],[12,55,11,53,"isPanorama"],[12,65,11,63],[13,2,12,0],[13,6,12,4,"selectAllBarsInStack"],[13,26,12,24],[13,29,12,27,"exports"],[13,36,12,34],[13,37,12,35,"selectAllBarsInStack"],[13,57,12,55],[13,60,12,58],[13,61,12,59],[13,62,12,60],[13,64,12,62,"_reselect"],[13,73,12,71],[13,74,12,72,"createSelector"],[13,88,12,86],[13,90,12,88],[13,91,12,89,"pickStackId"],[13,102,12,100],[13,104,12,102,"_axisSelectors"],[13,118,12,116],[13,119,12,117,"selectUnfilteredCartesianItems"],[13,149,12,147],[13,151,12,149,"pickIsPanorama"],[13,165,12,163],[13,166,12,164],[13,168,12,166],[13,169,12,167,"stackId"],[13,176,12,174],[13,178,12,176,"allItems"],[13,186,12,184],[13,188,12,186,"isPanorama"],[13,198,12,196],[13,203,12,201],[14,4,13,2],[14,11,13,9,"allItems"],[14,19,13,17],[14,20,13,18,"filter"],[14,26,13,24],[14,27,13,25,"i"],[14,28,13,26],[14,32,13,30,"i"],[14,33,13,31],[14,34,13,32,"type"],[14,38,13,36],[14,43,13,41],[14,48,13,46],[14,49,13,47],[14,50,13,48,"filter"],[14,56,13,54],[14,57,13,55,"i"],[14,58,13,56],[14,62,13,60,"i"],[14,63,13,61],[14,64,13,62,"stackId"],[14,71,13,69],[14,76,13,74,"stackId"],[14,83,13,81],[14,84,13,82],[14,85,13,83,"filter"],[14,91,13,89],[14,92,13,90,"i"],[14,93,13,91],[14,97,13,95,"i"],[14,98,13,96],[14,99,13,97,"isPanorama"],[14,109,13,107],[14,114,13,112,"isPanorama"],[14,124,13,122],[14,125,13,123],[14,126,13,124,"filter"],[14,132,13,130],[14,133,13,131,"i"],[14,134,13,132],[14,138,13,136],[14,139,13,137,"i"],[14,140,13,138],[14,141,13,139,"hide"],[14,145,13,143],[14,146,13,144],[15,2,14,0],[15,3,14,1],[15,4,14,2],[16,2,15,0],[16,6,15,4,"selectAllBarIdsInStack"],[16,28,15,26],[16,31,15,29],[16,32,15,30],[16,33,15,31],[16,35,15,33,"_reselect"],[16,44,15,42],[16,45,15,43,"createSelector"],[16,59,15,57],[16,61,15,59],[16,62,15,60,"selectAllBarsInStack"],[16,82,15,80],[16,83,15,81],[16,85,15,83,"allBars"],[16,92,15,90],[16,96,15,94],[17,4,16,2],[17,11,16,9,"allBars"],[17,18,16,16],[17,19,16,17,"map"],[17,22,16,20],[17,23,16,21,"bar"],[17,26,16,24],[17,30,16,28,"bar"],[17,33,16,31],[17,34,16,32,"id"],[17,36,16,34],[17,37,16,35],[18,2,17,0],[18,3,17,1],[18,4,17,2],[19,2,18,0],[20,0,19,0],[21,0,20,0],[22,0,21,0],[23,0,22,0],[24,0,23,0],[25,0,24,0],[26,2,25,0],[26,6,25,4,"expandRectangle"],[26,21,25,19],[26,24,25,22,"expandRectangle"],[26,25,25,23,"rect1"],[26,30,25,28],[26,32,25,30,"rect2"],[26,37,25,35],[26,42,25,40],[27,4,26,2],[27,8,26,6],[27,9,26,7,"rect1"],[27,14,26,12],[27,16,26,14],[28,6,27,4],[28,13,27,11,"rect2"],[28,18,27,16],[29,4,28,2],[30,4,29,2],[30,8,29,6],[30,9,29,7,"rect2"],[30,14,29,12],[30,16,29,14],[31,6,30,4],[31,13,30,11,"rect1"],[31,18,30,16],[32,4,31,2],[33,4,32,2],[33,8,32,6,"x"],[33,9,32,7],[33,12,32,10,"Math"],[33,16,32,14],[33,17,32,15,"min"],[33,20,32,18],[33,21,32,19,"rect1"],[33,26,32,24],[33,27,32,25,"x"],[33,28,32,26],[33,30,32,28,"rect1"],[33,35,32,33],[33,36,32,34,"x"],[33,37,32,35],[33,40,32,38,"rect1"],[33,45,32,43],[33,46,32,44,"width"],[33,51,32,49],[33,53,32,51,"rect2"],[33,58,32,56],[33,59,32,57,"x"],[33,60,32,58],[33,62,32,60,"rect2"],[33,67,32,65],[33,68,32,66,"x"],[33,69,32,67],[33,72,32,70,"rect2"],[33,77,32,75],[33,78,32,76,"width"],[33,83,32,81],[33,84,32,82],[34,4,33,2],[34,8,33,6,"y"],[34,9,33,7],[34,12,33,10,"Math"],[34,16,33,14],[34,17,33,15,"min"],[34,20,33,18],[34,21,33,19,"rect1"],[34,26,33,24],[34,27,33,25,"y"],[34,28,33,26],[34,30,33,28,"rect1"],[34,35,33,33],[34,36,33,34,"y"],[34,37,33,35],[34,40,33,38,"rect1"],[34,45,33,43],[34,46,33,44,"height"],[34,52,33,50],[34,54,33,52,"rect2"],[34,59,33,57],[34,60,33,58,"y"],[34,61,33,59],[34,63,33,61,"rect2"],[34,68,33,66],[34,69,33,67,"y"],[34,70,33,68],[34,73,33,71,"rect2"],[34,78,33,76],[34,79,33,77,"height"],[34,85,33,83],[34,86,33,84],[35,4,34,2],[35,8,34,6,"maxX"],[35,12,34,10],[35,15,34,13,"Math"],[35,19,34,17],[35,20,34,18,"max"],[35,23,34,21],[35,24,34,22,"rect1"],[35,29,34,27],[35,30,34,28,"x"],[35,31,34,29],[35,33,34,31,"rect1"],[35,38,34,36],[35,39,34,37,"x"],[35,40,34,38],[35,43,34,41,"rect1"],[35,48,34,46],[35,49,34,47,"width"],[35,54,34,52],[35,56,34,54,"rect2"],[35,61,34,59],[35,62,34,60,"x"],[35,63,34,61],[35,65,34,63,"rect2"],[35,70,34,68],[35,71,34,69,"x"],[35,72,34,70],[35,75,34,73,"rect2"],[35,80,34,78],[35,81,34,79,"width"],[35,86,34,84],[35,87,34,85],[36,4,35,2],[36,8,35,6,"maxY"],[36,12,35,10],[36,15,35,13,"Math"],[36,19,35,17],[36,20,35,18,"max"],[36,23,35,21],[36,24,35,22,"rect1"],[36,29,35,27],[36,30,35,28,"y"],[36,31,35,29],[36,33,35,31,"rect1"],[36,38,35,36],[36,39,35,37,"y"],[36,40,35,38],[36,43,35,41,"rect1"],[36,48,35,46],[36,49,35,47,"height"],[36,55,35,53],[36,57,35,55,"rect2"],[36,62,35,60],[36,63,35,61,"y"],[36,64,35,62],[36,66,35,64,"rect2"],[36,71,35,69],[36,72,35,70,"y"],[36,73,35,71],[36,76,35,74,"rect2"],[36,81,35,79],[36,82,35,80,"height"],[36,88,35,86],[36,89,35,87],[37,4,36,2],[37,8,36,6,"width"],[37,13,36,11],[37,16,36,14,"maxX"],[37,20,36,18],[37,23,36,21,"x"],[37,24,36,22],[38,4,37,2],[38,8,37,6,"height"],[38,14,37,12],[38,17,37,15,"maxY"],[38,21,37,19],[38,24,37,22,"y"],[38,25,37,23],[39,4,38,2],[39,11,38,9],[40,6,39,4,"x"],[40,7,39,5],[41,6,40,4,"y"],[41,7,40,5],[42,6,41,4,"width"],[42,11,41,9],[43,6,42,4,"height"],[44,4,43,2],[44,5,43,3],[45,2,44,0],[45,3,44,1],[46,2,45,0,"exports"],[46,9,45,7],[46,10,45,8,"expandRectangle"],[46,25,45,23],[46,28,45,26,"expandRectangle"],[46,43,45,41],[47,2,46,0],[47,6,46,4,"combineStackRects"],[47,23,46,21],[47,26,46,24,"combineStackRects"],[47,27,46,25,"state"],[47,32,46,30],[47,34,46,32,"stackId"],[47,41,46,39],[47,43,46,41,"isPanorama"],[47,53,46,51],[47,58,46,56],[48,4,47,2],[48,8,47,6,"allBarIds"],[48,17,47,15],[48,20,47,18,"selectAllBarIdsInStack"],[48,42,47,40],[48,43,47,41,"state"],[48,48,47,46],[48,50,47,48,"stackId"],[48,57,47,55],[48,59,47,57,"isPanorama"],[48,69,47,67],[48,70,47,68],[49,4,48,2],[49,8,48,6,"stackRects"],[49,18,48,16],[49,21,48,19],[49,23,48,21],[50,4,49,2,"allBarIds"],[50,13,49,11],[50,14,49,12,"forEach"],[50,21,49,19],[50,22,49,20,"barId"],[50,27,49,25],[50,31,49,29],[51,6,50,4],[51,10,50,8,"rectangles"],[51,20,50,18],[51,23,50,21],[51,24,50,22],[51,25,50,23],[51,27,50,25,"_barSelectors"],[51,40,50,38],[51,41,50,39,"selectBarRectangles"],[51,60,50,58],[51,62,50,60,"state"],[51,67,50,65],[51,69,50,67,"barId"],[51,74,50,72],[51,76,50,74,"isPanorama"],[51,86,50,84],[51,88,50,86,"undefined"],[51,97,50,95],[51,98,50,96],[52,6,51,4,"rectangles"],[52,16,51,14],[52,21,51,19],[52,25,51,23],[52,29,51,27,"rectangles"],[52,39,51,37],[52,44,51,42],[52,49,51,47],[52,50,51,48],[52,54,51,52,"rectangles"],[52,64,51,62],[52,65,51,63,"forEach"],[52,72,51,70],[52,73,51,71],[52,74,51,72,"rect"],[52,78,51,76],[52,80,51,78,"index"],[52,85,51,83],[52,90,51,88],[53,8,52,6,"stackRects"],[53,18,52,16],[53,19,52,17,"index"],[53,24,52,22],[53,25,52,23],[53,28,52,26,"expandRectangle"],[53,43,52,41],[53,44,52,42,"stackRects"],[53,54,52,52],[53,55,52,53,"index"],[53,60,52,58],[53,61,52,59],[53,63,52,61,"rect"],[53,67,52,65],[53,68,52,66],[54,6,53,4],[54,7,53,5],[54,8,53,6],[55,4,54,2],[55,5,54,3],[55,6,54,4],[56,4,55,2],[56,11,55,9,"stackRects"],[56,21,55,19],[57,2,56,0],[57,3,56,1],[58,2,57,0],[58,6,57,4,"selectStackRects"],[58,22,57,20],[58,25,57,23,"exports"],[58,32,57,30],[58,33,57,31,"selectStackRects"],[58,49,57,47],[58,52,57,50],[58,53,57,51],[58,54,57,52],[58,56,57,54,"_reselect"],[58,65,57,63],[58,66,57,64,"createSelector"],[58,80,57,78],[58,82,57,80],[58,83,57,81,"state"],[58,88,57,86],[58,92,57,90,"state"],[58,97,57,95],[58,99,57,97,"pickStackId"],[58,110,57,108],[58,112,57,110,"pickIsPanorama"],[58,126,57,124],[58,127,57,125],[58,129,57,127,"combineStackRects"],[58,146,57,144],[58,147,57,145],[59,0,57,146],[59,3]],"functionMap":{"names":["<global>","pickStackId","pickIsPanorama","<anonymous>","allItems.filter$argument_0","allItems.filter.filter$argument_0","allItems.filter.filter.filter$argument_0","allItems.filter.filter.filter.filter$argument_0","allBars.map$argument_0","expandRectangle","combineStackRects","allBarIds.forEach$argument_0","rectangles.forEach$argument_0"],"mappings":"AAA;kBCS,2BD;qBEC,0CF;sKGC;yBCC,qBD,SE,0BF,SG,gCH,SI,YJ;CHC;mFGC;qBKC,aL;CHC;sBSQ;CTmB;wBUE;oBCG;uECE;KDE;GDC;CVE;iFGC,cH"},"hasCjsExports":true},"type":"js/module"}]}