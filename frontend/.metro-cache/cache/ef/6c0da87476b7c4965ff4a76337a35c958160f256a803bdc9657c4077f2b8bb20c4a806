{"dependencies":[{"name":"@babel/runtime/helpers/toConsumableArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kiCFfIx1MWoD4noR0gEoyrFAUKE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"../../types/StackedGraphicalItem","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":28,"index":145},"end":{"line":7,"column":71,"index":188}}],"key":"06uaj91iRwGAQWaz+AyEIyqOECM=","exportNames":["*"],"imports":1}},{"name":"../../../util/DataUtils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":17,"index":207},"end":{"line":8,"column":51,"index":241}}],"key":"DZiF419YUXF8+UcflZT0gMpHhnw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _toConsumableArray = require(_dependencyMap[0], \"@babel/runtime/helpers/toConsumableArray\").default;\n  var _slicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.combineBarSizeList = void 0;\n  var _StackedGraphicalItem = require(_dependencyMap[2], \"../../types/StackedGraphicalItem\");\n  var _DataUtils = require(_dependencyMap[3], \"../../../util/DataUtils\");\n  var getBarSize = function getBarSize(globalSize, totalSize, selfSize) {\n    var barSize = selfSize !== null && selfSize !== void 0 ? selfSize : globalSize;\n    if ((0, _DataUtils.isNullish)(barSize)) {\n      return undefined;\n    }\n    return (0, _DataUtils.getPercentValue)(barSize, totalSize, 0);\n  };\n  var combineBarSizeList = function combineBarSizeList(allBars, globalSize, totalSize) {\n    var initialValue = {};\n    var stackedBars = allBars.filter(_StackedGraphicalItem.isStacked);\n    var unstackedBars = allBars.filter(function (b) {\n      return b.stackId == null;\n    });\n    var groupByStack = stackedBars.reduce(function (acc, bar) {\n      var s = acc[bar.stackId];\n      if (s == null) {\n        s = [];\n      }\n      s.push(bar);\n      acc[bar.stackId] = s;\n      return acc;\n    }, initialValue);\n    var stackedSizeList = Object.entries(groupByStack).map(function (_ref) {\n      var _bars$;\n      var _ref2 = _slicedToArray(_ref, 2),\n        stackId = _ref2[0],\n        bars = _ref2[1];\n      var dataKeys = bars.map(function (b) {\n        return b.dataKey;\n      });\n      var barSize = getBarSize(globalSize, totalSize, (_bars$ = bars[0]) === null || _bars$ === void 0 ? void 0 : _bars$.barSize);\n      return {\n        stackId: stackId,\n        dataKeys: dataKeys,\n        barSize: barSize\n      };\n    });\n    var unstackedSizeList = unstackedBars.map(function (b) {\n      var dataKeys = [b.dataKey].filter(function (dk) {\n        return dk != null;\n      });\n      var barSize = getBarSize(globalSize, totalSize, b.barSize);\n      return {\n        stackId: undefined,\n        dataKeys: dataKeys,\n        barSize: barSize\n      };\n    });\n    return [].concat(_toConsumableArray(stackedSizeList), _toConsumableArray(unstackedSizeList));\n  };\n  exports.combineBarSizeList = combineBarSizeList;\n});","lineCount":63,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_toConsumableArray"],[4,24,1,13],[4,27,1,13,"require"],[4,34,1,13],[4,35,1,13,"_dependencyMap"],[4,49,1,13],[4,98,1,13,"default"],[4,105,1,13],[5,2,1,13],[5,6,1,13,"_slicedToArray"],[5,20,1,13],[5,23,1,13,"require"],[5,30,1,13],[5,31,1,13,"_dependencyMap"],[5,45,1,13],[5,90,1,13,"default"],[5,97,1,13],[6,2,3,0,"Object"],[6,8,3,6],[6,9,3,7,"defineProperty"],[6,23,3,21],[6,24,3,22,"exports"],[6,31,3,29],[6,33,3,31],[6,45,3,43],[6,47,3,45],[7,4,4,2,"value"],[7,9,4,7],[7,11,4,9],[8,2,5,0],[8,3,5,1],[8,4,5,2],[9,2,6,0,"exports"],[9,9,6,7],[9,10,6,8,"combineBarSizeList"],[9,28,6,26],[9,31,6,29],[9,36,6,34],[9,37,6,35],[10,2,7,0],[10,6,7,4,"_StackedGraphicalItem"],[10,27,7,25],[10,30,7,28,"require"],[10,37,7,35],[10,38,7,35,"_dependencyMap"],[10,52,7,35],[10,91,7,70],[10,92,7,71],[11,2,8,0],[11,6,8,4,"_DataUtils"],[11,16,8,14],[11,19,8,17,"require"],[11,26,8,24],[11,27,8,24,"_dependencyMap"],[11,41,8,24],[11,71,8,50],[11,72,8,51],[12,2,9,0],[12,6,9,4,"getBarSize"],[12,16,9,14],[12,19,9,17],[12,28,9,4,"getBarSize"],[12,38,9,14,"getBarSize"],[12,39,9,18,"globalSize"],[12,49,9,28],[12,51,9,30,"totalSize"],[12,60,9,39],[12,62,9,41,"selfSize"],[12,70,9,49],[12,72,9,54],[13,4,10,2],[13,8,10,6,"barSize"],[13,15,10,13],[13,18,10,16,"selfSize"],[13,26,10,24],[13,31,10,29],[13,35,10,33],[13,39,10,37,"selfSize"],[13,47,10,45],[13,52,10,50],[13,57,10,55],[13,58,10,56],[13,61,10,59,"selfSize"],[13,69,10,67],[13,72,10,70,"globalSize"],[13,82,10,80],[14,4,11,2],[14,8,11,6],[14,9,11,7],[14,10,11,8],[14,12,11,10,"_DataUtils"],[14,22,11,20],[14,23,11,21,"isNullish"],[14,32,11,30],[14,34,11,32,"barSize"],[14,41,11,39],[14,42,11,40],[14,44,11,42],[15,6,12,4],[15,13,12,11,"undefined"],[15,22,12,20],[16,4,13,2],[17,4,14,2],[17,11,14,9],[17,12,14,10],[17,13,14,11],[17,15,14,13,"_DataUtils"],[17,25,14,23],[17,26,14,24,"getPercentValue"],[17,41,14,39],[17,43,14,41,"barSize"],[17,50,14,48],[17,52,14,50,"totalSize"],[17,61,14,59],[17,63,14,61],[17,64,14,62],[17,65,14,63],[18,2,15,0],[18,3,15,1],[19,2,16,0],[19,6,16,4,"combineBarSizeList"],[19,24,16,22],[19,27,16,25],[19,36,16,4,"combineBarSizeList"],[19,54,16,22,"combineBarSizeList"],[19,55,16,26,"allBars"],[19,62,16,33],[19,64,16,35,"globalSize"],[19,74,16,45],[19,76,16,47,"totalSize"],[19,85,16,56],[19,87,16,61],[20,4,17,2],[20,8,17,6,"initialValue"],[20,20,17,18],[20,23,17,21],[20,24,17,22],[20,25,17,23],[21,4,18,2],[21,8,18,6,"stackedBars"],[21,19,18,17],[21,22,18,20,"allBars"],[21,29,18,27],[21,30,18,28,"filter"],[21,36,18,34],[21,37,18,35,"_StackedGraphicalItem"],[21,58,18,56],[21,59,18,57,"isStacked"],[21,68,18,66],[21,69,18,67],[22,4,19,2],[22,8,19,6,"unstackedBars"],[22,21,19,19],[22,24,19,22,"allBars"],[22,31,19,29],[22,32,19,30,"filter"],[22,38,19,36],[22,39,19,37],[22,49,19,37,"b"],[22,50,19,38],[23,6,19,38],[23,13,19,42,"b"],[23,14,19,43],[23,15,19,44,"stackId"],[23,22,19,51],[23,26,19,55],[23,30,19,59],[24,4,19,59],[24,6,19,60],[25,4,20,2],[25,8,20,6,"groupByStack"],[25,20,20,18],[25,23,20,21,"stackedBars"],[25,34,20,32],[25,35,20,33,"reduce"],[25,41,20,39],[25,42,20,40],[25,52,20,41,"acc"],[25,55,20,44],[25,57,20,46,"bar"],[25,60,20,49],[25,62,20,54],[26,6,21,4],[26,10,21,8,"s"],[26,11,21,9],[26,14,21,12,"acc"],[26,17,21,15],[26,18,21,16,"bar"],[26,21,21,19],[26,22,21,20,"stackId"],[26,29,21,27],[26,30,21,28],[27,6,22,4],[27,10,22,8,"s"],[27,11,22,9],[27,15,22,13],[27,19,22,17],[27,21,22,19],[28,8,23,6,"s"],[28,9,23,7],[28,12,23,10],[28,14,23,12],[29,6,24,4],[30,6,25,4,"s"],[30,7,25,5],[30,8,25,6,"push"],[30,12,25,10],[30,13,25,11,"bar"],[30,16,25,14],[30,17,25,15],[31,6,26,4,"acc"],[31,9,26,7],[31,10,26,8,"bar"],[31,13,26,11],[31,14,26,12,"stackId"],[31,21,26,19],[31,22,26,20],[31,25,26,23,"s"],[31,26,26,24],[32,6,27,4],[32,13,27,11,"acc"],[32,16,27,14],[33,4,28,2],[33,5,28,3],[33,7,28,5,"initialValue"],[33,19,28,17],[33,20,28,18],[34,4,29,2],[34,8,29,6,"stackedSizeList"],[34,23,29,21],[34,26,29,24,"Object"],[34,32,29,30],[34,33,29,31,"entries"],[34,40,29,38],[34,41,29,39,"groupByStack"],[34,53,29,51],[34,54,29,52],[34,55,29,53,"map"],[34,58,29,56],[34,59,29,57],[34,69,29,57,"_ref"],[34,73,29,61],[34,75,29,65],[35,6,30,4],[35,10,30,8,"_bars$"],[35,16,30,14],[36,6,31,4],[36,10,31,4,"_ref2"],[36,15,31,4],[36,18,31,4,"_slicedToArray"],[36,32,31,4],[36,33,31,26,"_ref"],[36,37,31,30],[37,8,31,9,"stackId"],[37,15,31,16],[37,18,31,16,"_ref2"],[37,23,31,16],[38,8,31,18,"bars"],[38,12,31,22],[38,15,31,22,"_ref2"],[38,20,31,22],[39,6,32,4],[39,10,32,8,"dataKeys"],[39,18,32,16],[39,21,32,19,"bars"],[39,25,32,23],[39,26,32,24,"map"],[39,29,32,27],[39,30,32,28],[39,40,32,28,"b"],[39,41,32,29],[40,8,32,29],[40,15,32,33,"b"],[40,16,32,34],[40,17,32,35,"dataKey"],[40,24,32,42],[41,6,32,42],[41,8,32,43],[42,6,33,4],[42,10,33,8,"barSize"],[42,17,33,15],[42,20,33,18,"getBarSize"],[42,30,33,28],[42,31,33,29,"globalSize"],[42,41,33,39],[42,43,33,41,"totalSize"],[42,52,33,50],[42,54,33,52],[42,55,33,53,"_bars$"],[42,61,33,59],[42,64,33,62,"bars"],[42,68,33,66],[42,69,33,67],[42,70,33,68],[42,71,33,69],[42,77,33,75],[42,81,33,79],[42,85,33,83,"_bars$"],[42,91,33,89],[42,96,33,94],[42,101,33,99],[42,102,33,100],[42,105,33,103],[42,110,33,108],[42,111,33,109],[42,114,33,112,"_bars$"],[42,120,33,118],[42,121,33,119,"barSize"],[42,128,33,126],[42,129,33,127],[43,6,34,4],[43,13,34,11],[44,8,35,6,"stackId"],[44,15,35,13],[44,17,35,6,"stackId"],[44,24,35,13],[45,8,36,6,"dataKeys"],[45,16,36,14],[45,18,36,6,"dataKeys"],[45,26,36,14],[46,8,37,6,"barSize"],[46,15,37,13],[46,17,37,6,"barSize"],[47,6,38,4],[47,7,38,5],[48,4,39,2],[48,5,39,3],[48,6,39,4],[49,4,40,2],[49,8,40,6,"unstackedSizeList"],[49,25,40,23],[49,28,40,26,"unstackedBars"],[49,41,40,39],[49,42,40,40,"map"],[49,45,40,43],[49,46,40,44],[49,56,40,44,"b"],[49,57,40,45],[49,59,40,49],[50,6,41,4],[50,10,41,8,"dataKeys"],[50,18,41,16],[50,21,41,19],[50,22,41,20,"b"],[50,23,41,21],[50,24,41,22,"dataKey"],[50,31,41,29],[50,32,41,30],[50,33,41,31,"filter"],[50,39,41,37],[50,40,41,38],[50,50,41,38,"dk"],[50,52,41,40],[51,8,41,40],[51,15,41,44,"dk"],[51,17,41,46],[51,21,41,50],[51,25,41,54],[52,6,41,54],[52,8,41,55],[53,6,42,4],[53,10,42,8,"barSize"],[53,17,42,15],[53,20,42,18,"getBarSize"],[53,30,42,28],[53,31,42,29,"globalSize"],[53,41,42,39],[53,43,42,41,"totalSize"],[53,52,42,50],[53,54,42,52,"b"],[53,55,42,53],[53,56,42,54,"barSize"],[53,63,42,61],[53,64,42,62],[54,6,43,4],[54,13,43,11],[55,8,44,6,"stackId"],[55,15,44,13],[55,17,44,15,"undefined"],[55,26,44,24],[56,8,45,6,"dataKeys"],[56,16,45,14],[56,18,45,6,"dataKeys"],[56,26,45,14],[57,8,46,6,"barSize"],[57,15,46,13],[57,17,46,6,"barSize"],[58,6,47,4],[58,7,47,5],[59,4,48,2],[59,5,48,3],[59,6,48,4],[60,4,49,2],[60,14,49,2,"concat"],[60,20,49,2],[60,21,49,2,"_toConsumableArray"],[60,39,49,2],[60,40,49,13,"stackedSizeList"],[60,55,49,28],[60,58,49,28,"_toConsumableArray"],[60,76,49,28],[60,77,49,33,"unstackedSizeList"],[60,94,49,50],[61,2,50,0],[61,3,50,1],[62,2,51,0,"exports"],[62,9,51,7],[62,10,51,8,"combineBarSizeList"],[62,28,51,26],[62,31,51,29,"combineBarSizeList"],[62,49,51,47],[63,0,51,48],[63,3]],"functionMap":{"names":["<global>","getBarSize","combineBarSizeList","allBars.filter$argument_0","stackedBars.reduce$argument_0","Object.entries.map$argument_0","bars.map$argument_0","unstackedBars.map$argument_0","filter$argument_0"],"mappings":"AAA;iBCQ;CDM;yBEC;qCCG,sBD;wCEC;GFQ;yDGC;4BCG,cD;GHO;4CKC;sCCC,gBD;GLO;CFE"},"hasCjsExports":true},"type":"js/module"}]}