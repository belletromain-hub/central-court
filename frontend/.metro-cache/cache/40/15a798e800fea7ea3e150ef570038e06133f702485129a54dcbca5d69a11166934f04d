{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"VelocityTracker\", {\n    enumerable: true,\n    get: function () {\n      return VelocityTracker;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var VelocityTracker = /*#__PURE__*/function () {\n    function VelocityTracker() {\n      (0, _classCallCheck.default)(this, VelocityTracker);\n      this.history = [];\n      this.lastPosition = undefined;\n      this.lastTimestamp = undefined;\n    }\n    return (0, _createClass.default)(VelocityTracker, [{\n      key: \"add\",\n      value: function add(position) {\n        var timestamp = new Date().valueOf();\n        if (this.lastPosition && this.lastTimestamp && timestamp > this.lastTimestamp) {\n          var diff = position - this.lastPosition;\n          if (diff > 0.001 || diff < -0.001) {\n            this.history.push(diff / (timestamp - this.lastTimestamp));\n          }\n        }\n        this.lastPosition = position;\n        this.lastTimestamp = timestamp;\n      }\n    }, {\n      key: \"estimateSpeed\",\n      value: function estimateSpeed() {\n        var finalTrend = this.history.slice(-3);\n        var sum = finalTrend.reduce(function (r, v) {\n          return r + v;\n        }, 0);\n        return sum / finalTrend.length;\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.history = [];\n        this.lastPosition = undefined;\n        this.lastTimestamp = undefined;\n      }\n    }]);\n  }();\n});","lineCount":60,"map":[[12,2,1,0,"Object"],[12,8,1,0],[12,9,1,0,"defineProperty"],[12,23,1,0],[12,24,1,0,"exports"],[12,31,1,0],[13,4,1,0,"enumerable"],[13,14,1,0],[14,4,1,0,"get"],[14,7,1,0],[14,18,1,0,"get"],[14,19,1,0],[15,6,1,0],[15,13,1,0,"VelocityTracker"],[15,28,1,0],[16,4,1,0],[17,2,1,0],[18,2,31,1],[18,6,31,1,"_babelRuntimeHelpersClassCallCheck"],[18,40,31,1],[18,43,31,1,"require"],[18,50,31,1],[18,51,31,1,"_dependencyMap"],[18,65,31,1],[19,2,31,1],[19,6,31,1,"_classCallCheck"],[19,21,31,1],[19,24,31,1,"_interopDefault"],[19,39,31,1],[19,40,31,1,"_babelRuntimeHelpersClassCallCheck"],[19,74,31,1],[20,2,31,1],[20,6,31,1,"_babelRuntimeHelpersCreateClass"],[20,37,31,1],[20,40,31,1,"require"],[20,47,31,1],[20,48,31,1,"_dependencyMap"],[20,62,31,1],[21,2,31,1],[21,6,31,1,"_createClass"],[21,18,31,1],[21,21,31,1,"_interopDefault"],[21,36,31,1],[21,37,31,1,"_babelRuntimeHelpersCreateClass"],[21,68,31,1],[22,2,31,1],[22,6,1,13,"VelocityTracker"],[22,21,1,28],[23,4,5,4],[23,13,5,4,"VelocityTracker"],[23,29,5,4],[23,31,5,18],[24,6,5,18],[24,10,5,18,"_classCallCheck"],[24,25,5,18],[24,26,5,18,"default"],[24,33,5,18],[24,41,5,18,"VelocityTracker"],[24,56,5,18],[25,6,6,8],[25,10,6,12],[25,11,6,13,"history"],[25,18,6,20],[25,21,6,23],[25,23,6,25],[26,6,7,8],[26,10,7,12],[26,11,7,13,"lastPosition"],[26,23,7,25],[26,26,7,28,"undefined"],[26,35,7,37],[27,6,8,8],[27,10,8,12],[27,11,8,13,"lastTimestamp"],[27,24,8,26],[27,27,8,29,"undefined"],[27,36,8,38],[28,4,9,4],[29,4,9,5],[29,15,9,5,"_createClass"],[29,27,9,5],[29,28,9,5,"default"],[29,35,9,5],[29,37,9,5,"VelocityTracker"],[29,52,9,5],[30,6,9,5,"key"],[30,9,9,5],[31,6,9,5,"value"],[31,11,9,5],[31,13,10,4],[31,22,10,4,"add"],[31,25,10,7,"add"],[31,26,10,8,"position"],[31,34,10,16],[31,36,10,18],[32,8,11,8],[32,12,11,14,"timestamp"],[32,21,11,23],[32,24,11,26],[32,28,11,30,"Date"],[32,32,11,34],[32,33,11,35],[32,34,11,36],[32,35,11,37,"valueOf"],[32,42,11,44],[32,43,11,45],[32,44,11,46],[33,8,12,8],[33,12,12,12],[33,16,12,16],[33,17,12,17,"lastPosition"],[33,29,12,29],[33,33,12,33],[33,37,12,37],[33,38,12,38,"lastTimestamp"],[33,51,12,51],[33,55,12,55,"timestamp"],[33,64,12,64],[33,67,12,67],[33,71,12,71],[33,72,12,72,"lastTimestamp"],[33,85,12,85],[33,87,12,87],[34,10,13,12],[34,14,13,18,"diff"],[34,18,13,22],[34,21,13,25,"position"],[34,29,13,33],[34,32,13,36],[34,36,13,40],[34,37,13,41,"lastPosition"],[34,49,13,53],[35,10,14,12],[35,14,14,16,"diff"],[35,18,14,20],[35,21,14,23],[35,26,14,28],[35,30,14,32,"diff"],[35,34,14,36],[35,37,14,39],[35,38,14,40],[35,43,14,45],[35,45,14,47],[36,12,15,16],[36,16,15,20],[36,17,15,21,"history"],[36,24,15,28],[36,25,15,29,"push"],[36,29,15,33],[36,30,15,34,"diff"],[36,34,15,38],[36,38,15,42,"timestamp"],[36,47,15,51],[36,50,15,54],[36,54,15,58],[36,55,15,59,"lastTimestamp"],[36,68,15,72],[36,69,15,73],[36,70,15,74],[37,10,16,12],[38,8,17,8],[39,8,18,8],[39,12,18,12],[39,13,18,13,"lastPosition"],[39,25,18,25],[39,28,18,28,"position"],[39,36,18,36],[40,8,19,8],[40,12,19,12],[40,13,19,13,"lastTimestamp"],[40,26,19,26],[40,29,19,29,"timestamp"],[40,38,19,38],[41,6,20,4],[42,4,20,5],[43,6,20,5,"key"],[43,9,20,5],[44,6,20,5,"value"],[44,11,20,5],[44,13,21,4],[44,22,21,4,"estimateSpeed"],[44,35,21,17,"estimateSpeed"],[44,36,21,17],[44,38,21,20],[45,8,22,8],[45,12,22,14,"finalTrend"],[45,22,22,24],[45,25,22,27],[45,29,22,31],[45,30,22,32,"history"],[45,37,22,39],[45,38,22,40,"slice"],[45,43,22,45],[45,44,22,46],[45,45,22,47],[45,46,22,48],[45,47,22,49],[46,8,23,8],[46,12,23,14,"sum"],[46,15,23,17],[46,18,23,20,"finalTrend"],[46,28,23,30],[46,29,23,31,"reduce"],[46,35,23,37],[46,36,23,38],[46,46,23,39,"r"],[46,47,23,40],[46,49,23,42,"v"],[46,50,23,43],[47,10,23,43],[47,17,23,48,"r"],[47,18,23,49],[47,21,23,52,"v"],[47,22,23,53],[48,8,23,53],[48,11,23,55],[48,12,23,56],[48,13,23,57],[49,8,24,8],[49,15,24,15,"sum"],[49,18,24,18],[49,21,24,21,"finalTrend"],[49,31,24,31],[49,32,24,32,"length"],[49,38,24,38],[50,6,25,4],[51,4,25,5],[52,6,25,5,"key"],[52,9,25,5],[53,6,25,5,"value"],[53,11,25,5],[53,13,26,4],[53,22,26,4,"reset"],[53,27,26,9,"reset"],[53,28,26,9],[53,30,26,12],[54,8,27,8],[54,12,27,12],[54,13,27,13,"history"],[54,20,27,20],[54,23,27,23],[54,25,27,25],[55,8,28,8],[55,12,28,12],[55,13,28,13,"lastPosition"],[55,25,28,25],[55,28,28,28,"undefined"],[55,37,28,37],[56,8,29,8],[56,12,29,12],[56,13,29,13,"lastTimestamp"],[56,26,29,26],[56,29,29,29,"undefined"],[56,38,29,38],[57,6,30,4],[58,4,30,5],[59,2,30,5],[60,0,30,5],[60,3]],"functionMap":{"names":["<global>","VelocityTracker","VelocityTracker#constructor","VelocityTracker#add","VelocityTracker#estimateSpeed","finalTrend.reduce$argument_0","VelocityTracker#reset"],"mappings":"AAA,OC;ICI;KDI;IEC;KFU;IGC;sCCE,eD;KHE;IKC;KLI;CDC"},"hasCjsExports":false},"type":"js/module"}]}