{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-dom","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":41},"end":{"line":2,"column":41,"index":82}}],"key":"Sde30rf5/ZbiV+hjpiIq3mPfpto=","exportNames":["*"],"imports":1}},{"name":"../util/DataUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":83},"end":{"line":3,"column":41,"index":124}}],"key":"romFDMgOU029xzWkC2J71ek3LYY=","exportNames":["*"],"imports":1}},{"name":"../state/hooks","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":125},"end":{"line":4,"column":64,"index":189}}],"key":"WP9bc4StEDWSk4eYmCJjDIjZDXM=","exportNames":["*"],"imports":1}},{"name":"./zIndexSelectors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":190},"end":{"line":5,"column":62,"index":252}}],"key":"IbqzfFJSUiQJLykaAK13qYUXCQQ=","exportNames":["*"],"imports":1}},{"name":"../state/zIndexSlice","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":253},"end":{"line":6,"column":84,"index":337}}],"key":"g+4q7wwHCPGZQhOdIA8yZoiKAms=","exportNames":["*"],"imports":1}},{"name":"../context/chartLayoutContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":338},"end":{"line":7,"column":68,"index":406}}],"key":"+CAXpgyea19nNPEIrwc38Ri3YCA=","exportNames":["*"],"imports":1}},{"name":"../context/PanoramaContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":407},"end":{"line":8,"column":59,"index":466}}],"key":"sAV858A0QmMdS98iPGd6lAO/ycA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.ZIndexLayer = ZIndexLayer;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactDom = require(_dependencyMap[1], \"react-dom\");\n  var _utilDataUtils = require(_dependencyMap[2], \"../util/DataUtils\");\n  var _stateHooks = require(_dependencyMap[3], \"../state/hooks\");\n  var _zIndexSelectors = require(_dependencyMap[4], \"./zIndexSelectors\");\n  var _stateZIndexSlice = require(_dependencyMap[5], \"../state/zIndexSlice\");\n  var _contextChartLayoutContext = require(_dependencyMap[6], \"../context/chartLayoutContext\");\n  var _contextPanoramaContext = require(_dependencyMap[7], \"../context/PanoramaContext\");\n  /**\n   * @since 3.4\n   */\n\n  /**\n   * A layer that renders its children into a portal corresponding to the given zIndex.\n   * We can't use regular CSS `z-index` because SVG does not support it.\n   * So instead, we create separate DOM nodes for each zIndex layer\n   * and render the children into the corresponding DOM node using React portals.\n   *\n   * This component must be used inside a Chart component.\n   *\n   * @param zIndex numeric zIndex value, higher values are rendered on top of lower values\n   * @param children the content to render inside this zIndex layer\n   *\n   * @since 3.4\n   */\n  function ZIndexLayer(_ref) {\n    var {\n      zIndex,\n      children\n    } = _ref;\n    /*\n     * If we are outside of chart, then we can't rely on the zIndex portal state,\n     * so we just render normally.\n     */\n    var isInChartContext = (0, _contextChartLayoutContext.useIsInChartContext)();\n    /*\n     * If zIndex is undefined then we render normally without portals.\n     * Also, if zIndex is 0, we render normally without portals,\n     * because 0 is the default layer that does not need a portal.\n     */\n    var shouldRenderInPortal = isInChartContext && zIndex !== undefined && zIndex !== 0;\n    var isPanorama = (0, _contextPanoramaContext.useIsPanorama)();\n    var dispatch = (0, _stateHooks.useAppDispatch)();\n    (0, _react.useLayoutEffect)(() => {\n      if (!shouldRenderInPortal) {\n        // Nothing to do. We have to call the hook because of the rules of hooks.\n        return _utilDataUtils.noop;\n      }\n      /*\n       * Because zIndexes are dynamic (meaning, we're not working with a predefined set of layers,\n       * but we allow users to define any zIndex at any time), we need to register\n       * the requested zIndex in the global store. This way, the ZIndexPortals component\n       * can render the corresponding portals and only the requested ones.\n       */\n      dispatch((0, _stateZIndexSlice.registerZIndexPortal)({\n        zIndex\n      }));\n      return () => {\n        dispatch((0, _stateZIndexSlice.unregisterZIndexPortal)({\n          zIndex\n        }));\n      };\n    }, [dispatch, zIndex, shouldRenderInPortal]);\n    var portalElement = (0, _stateHooks.useAppSelector)(state => (0, _zIndexSelectors.selectZIndexPortalElement)(state, zIndex, isPanorama));\n    if (!shouldRenderInPortal) {\n      // If no zIndex is provided or zIndex is 0, render normally without portals\n      return children;\n    }\n    if (!portalElement) {\n      /*\n       * If we don't have a portal element yet, this means that the registration\n       * has not been processed yet by the ZIndexPortals component.\n       * So here we render null and wait for the next render cycle.\n       */\n      return null;\n    }\n    return /*#__PURE__*/(0, _reactDom.createPortal)(children, portalElement);\n  }\n});","lineCount":86,"map":[[7,2,27,0,"exports"],[7,9,27,0],[7,10,27,0,"ZIndexLayer"],[7,21,27,0],[7,24,27,0,"ZIndexLayer"],[7,35,27,0],[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,2,0],[9,6,2,0,"_reactDom"],[9,15,2,0],[9,18,2,0,"require"],[9,25,2,0],[9,26,2,0,"_dependencyMap"],[9,40,2,0],[10,2,3,0],[10,6,3,0,"_utilDataUtils"],[10,20,3,0],[10,23,3,0,"require"],[10,30,3,0],[10,31,3,0,"_dependencyMap"],[10,45,3,0],[11,2,4,0],[11,6,4,0,"_stateHooks"],[11,17,4,0],[11,20,4,0,"require"],[11,27,4,0],[11,28,4,0,"_dependencyMap"],[11,42,4,0],[12,2,5,0],[12,6,5,0,"_zIndexSelectors"],[12,22,5,0],[12,25,5,0,"require"],[12,32,5,0],[12,33,5,0,"_dependencyMap"],[12,47,5,0],[13,2,6,0],[13,6,6,0,"_stateZIndexSlice"],[13,23,6,0],[13,26,6,0,"require"],[13,33,6,0],[13,34,6,0,"_dependencyMap"],[13,48,6,0],[14,2,7,0],[14,6,7,0,"_contextChartLayoutContext"],[14,32,7,0],[14,35,7,0,"require"],[14,42,7,0],[14,43,7,0,"_dependencyMap"],[14,57,7,0],[15,2,8,0],[15,6,8,0,"_contextPanoramaContext"],[15,29,8,0],[15,32,8,0,"require"],[15,39,8,0],[15,40,8,0,"_dependencyMap"],[15,54,8,0],[16,2,10,0],[17,0,11,0],[18,0,12,0],[20,2,14,0],[21,0,15,0],[22,0,16,0],[23,0,17,0],[24,0,18,0],[25,0,19,0],[26,0,20,0],[27,0,21,0],[28,0,22,0],[29,0,23,0],[30,0,24,0],[31,0,25,0],[32,0,26,0],[33,2,27,7],[33,11,27,16,"ZIndexLayer"],[33,22,27,27,"ZIndexLayer"],[33,23,27,28,"_ref"],[33,27,27,32],[33,29,27,34],[34,4,28,2],[34,8,28,6],[35,6,29,4,"zIndex"],[35,12,29,10],[36,6,30,4,"children"],[37,4,31,2],[37,5,31,3],[37,8,31,6,"_ref"],[37,12,31,10],[38,4,32,2],[39,0,33,0],[40,0,34,0],[41,0,35,0],[42,4,36,2],[42,8,36,6,"isInChartContext"],[42,24,36,22],[42,27,36,25],[42,31,36,25,"useIsInChartContext"],[42,57,36,44],[42,58,36,44,"useIsInChartContext"],[42,77,36,44],[42,79,36,45],[42,80,36,46],[43,4,37,2],[44,0,38,0],[45,0,39,0],[46,0,40,0],[47,0,41,0],[48,4,42,2],[48,8,42,6,"shouldRenderInPortal"],[48,28,42,26],[48,31,42,29,"isInChartContext"],[48,47,42,45],[48,51,42,49,"zIndex"],[48,57,42,55],[48,62,42,60,"undefined"],[48,71,42,69],[48,75,42,73,"zIndex"],[48,81,42,79],[48,86,42,84],[48,87,42,85],[49,4,43,2],[49,8,43,6,"isPanorama"],[49,18,43,16],[49,21,43,19],[49,25,43,19,"useIsPanorama"],[49,48,43,32],[49,49,43,32,"useIsPanorama"],[49,62,43,32],[49,64,43,33],[49,65,43,34],[50,4,44,2],[50,8,44,6,"dispatch"],[50,16,44,14],[50,19,44,17],[50,23,44,17,"useAppDispatch"],[50,34,44,31],[50,35,44,31,"useAppDispatch"],[50,49,44,31],[50,51,44,32],[50,52,44,33],[51,4,45,2],[51,8,45,2,"useLayoutEffect"],[51,14,45,17],[51,15,45,17,"useLayoutEffect"],[51,30,45,17],[51,32,45,18],[51,38,45,24],[52,6,46,4],[52,10,46,8],[52,11,46,9,"shouldRenderInPortal"],[52,31,46,29],[52,33,46,31],[53,8,47,6],[54,8,48,6],[54,15,48,13,"noop"],[54,29,48,17],[54,30,48,17,"noop"],[54,34,48,17],[55,6,49,4],[56,6,50,4],[57,0,51,0],[58,0,52,0],[59,0,53,0],[60,0,54,0],[61,0,55,0],[62,6,56,4,"dispatch"],[62,14,56,12],[62,15,56,13],[62,19,56,13,"registerZIndexPortal"],[62,36,56,33],[62,37,56,33,"registerZIndexPortal"],[62,57,56,33],[62,59,56,34],[63,8,57,6,"zIndex"],[64,6,58,4],[64,7,58,5],[64,8,58,6],[64,9,58,7],[65,6,59,4],[65,13,59,11],[65,19,59,17],[66,8,60,6,"dispatch"],[66,16,60,14],[66,17,60,15],[66,21,60,15,"unregisterZIndexPortal"],[66,38,60,37],[66,39,60,37,"unregisterZIndexPortal"],[66,61,60,37],[66,63,60,38],[67,10,61,8,"zIndex"],[68,8,62,6],[68,9,62,7],[68,10,62,8],[68,11,62,9],[69,6,63,4],[69,7,63,5],[70,4,64,2],[70,5,64,3],[70,7,64,5],[70,8,64,6,"dispatch"],[70,16,64,14],[70,18,64,16,"zIndex"],[70,24,64,22],[70,26,64,24,"shouldRenderInPortal"],[70,46,64,44],[70,47,64,45],[70,48,64,46],[71,4,65,2],[71,8,65,6,"portalElement"],[71,21,65,19],[71,24,65,22],[71,28,65,22,"useAppSelector"],[71,39,65,36],[71,40,65,36,"useAppSelector"],[71,54,65,36],[71,56,65,37,"state"],[71,61,65,42],[71,65,65,46],[71,69,65,46,"selectZIndexPortalElement"],[71,85,65,71],[71,86,65,71,"selectZIndexPortalElement"],[71,111,65,71],[71,113,65,72,"state"],[71,118,65,77],[71,120,65,79,"zIndex"],[71,126,65,85],[71,128,65,87,"isPanorama"],[71,138,65,97],[71,139,65,98],[71,140,65,99],[72,4,66,2],[72,8,66,6],[72,9,66,7,"shouldRenderInPortal"],[72,29,66,27],[72,31,66,29],[73,6,67,4],[74,6,68,4],[74,13,68,11,"children"],[74,21,68,19],[75,4,69,2],[76,4,70,2],[76,8,70,6],[76,9,70,7,"portalElement"],[76,22,70,20],[76,24,70,22],[77,6,71,4],[78,0,72,0],[79,0,73,0],[80,0,74,0],[81,0,75,0],[82,6,76,4],[82,13,76,11],[82,17,76,15],[83,4,77,2],[84,4,78,2],[84,11,78,9],[84,24,78,22],[84,28,78,22,"createPortal"],[84,37,78,34],[84,38,78,34,"createPortal"],[84,50,78,34],[84,52,78,35,"children"],[84,60,78,43],[84,62,78,45,"portalElement"],[84,75,78,58],[84,76,78,59],[85,2,79,0],[86,0,79,1],[86,3]],"functionMap":{"names":["<global>","ZIndexLayer","useLayoutEffect$argument_0","<anonymous>","useAppSelector$argument_0"],"mappings":"AAA;OC0B;kBCkB;WCc;KDI;GDC;qCGC,6DH"},"hasCjsExports":false},"type":"js/module"}]}