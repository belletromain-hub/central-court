{"dependencies":[{"name":"@reduxjs/toolkit","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":15,"index":217},"end":{"line":7,"column":42,"index":244}}],"key":"+3+hXPU0c7VkDZpFcniYIlEI8Pc=","exportNames":["*"],"imports":1}},{"name":"./tooltipSlice","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":20,"index":266},"end":{"line":8,"column":45,"index":291}}],"key":"DHTlLuVZD4MAbgh+1ZUW03doSOI=","exportNames":["*"],"imports":1}},{"name":"./selectors/selectActivePropsFromChartPointer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":41,"index":334},"end":{"line":9,"column":97,"index":390}}],"key":"jvSSrdsQPpZ//r/zsJimrz0IZPg=","exportNames":["*"],"imports":1}},{"name":"./selectors/selectTooltipEventType","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":30,"index":422},"end":{"line":10,"column":75,"index":467}}],"key":"s6OCfFqzuoX2AOHtfmGkXHELC18=","exportNames":["*"],"imports":1}},{"name":"../util/getChartPointer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":23,"index":492},"end":{"line":11,"column":57,"index":526}}],"key":"plOMY1/yXcD+KdQqdWWmk1ZFxYU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.mouseMoveMiddleware = exports.mouseMoveAction = exports.mouseClickMiddleware = exports.mouseClickAction = void 0;\n  var _toolkit = require(_dependencyMap[0], \"@reduxjs/toolkit\");\n  var _tooltipSlice = require(_dependencyMap[1], \"./tooltipSlice\");\n  var _selectActivePropsFromChartPointer = require(_dependencyMap[2], \"./selectors/selectActivePropsFromChartPointer\");\n  var _selectTooltipEventType = require(_dependencyMap[3], \"./selectors/selectTooltipEventType\");\n  var _getChartPointer = require(_dependencyMap[4], \"../util/getChartPointer\");\n  var mouseClickAction = exports.mouseClickAction = (0, _toolkit.createAction)('mouseClick');\n  var mouseClickMiddleware = exports.mouseClickMiddleware = (0, _toolkit.createListenerMiddleware)();\n\n  // TODO: there's a bug here when you click the chart the activeIndex resets to zero\n  mouseClickMiddleware.startListening({\n    actionCreator: mouseClickAction,\n    effect: function effect(action, listenerApi) {\n      var mousePointer = action.payload;\n      var activeProps = (0, _selectActivePropsFromChartPointer.selectActivePropsFromChartPointer)(listenerApi.getState(), (0, _getChartPointer.getChartPointer)(mousePointer));\n      if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n        listenerApi.dispatch((0, _tooltipSlice.setMouseClickAxisIndex)({\n          activeIndex: activeProps.activeIndex,\n          activeDataKey: undefined,\n          activeCoordinate: activeProps.activeCoordinate\n        }));\n      }\n    }\n  });\n  var mouseMoveAction = exports.mouseMoveAction = (0, _toolkit.createAction)('mouseMove');\n  var mouseMoveMiddleware = exports.mouseMoveMiddleware = (0, _toolkit.createListenerMiddleware)();\n\n  /*\n   * This single rafId is safe because:\n   * 1. Each chart has its own Redux store instance with its own middleware\n   * 2. mouseMoveAction only fires from one DOM element (the chart wrapper)\n   * 3. Rapid mousemove events from the same element SHOULD debounce - we only care about the latest position\n   * This is different from externalEventsMiddleware which handles multiple event types\n   * (click, mouseenter, mouseleave, etc.) that should NOT cancel each other.\n   */\n  var rafId = null;\n  mouseMoveMiddleware.startListening({\n    actionCreator: mouseMoveAction,\n    effect: function effect(action, listenerApi) {\n      var mousePointer = action.payload;\n\n      // Cancel any pending animation frame\n      if (rafId !== null) {\n        cancelAnimationFrame(rafId);\n      }\n      var chartPointer = (0, _getChartPointer.getChartPointer)(mousePointer);\n\n      // Schedule the dispatch for the next animation frame\n      rafId = requestAnimationFrame(function () {\n        var state = listenerApi.getState();\n        var tooltipEventType = (0, _selectTooltipEventType.selectTooltipEventType)(state, state.tooltip.settings.shared);\n        // this functionality only applies to charts that have axes\n        if (tooltipEventType === 'axis') {\n          var activeProps = (0, _selectActivePropsFromChartPointer.selectActivePropsFromChartPointer)(state, chartPointer);\n          if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n            listenerApi.dispatch((0, _tooltipSlice.setMouseOverAxisIndex)({\n              activeIndex: activeProps.activeIndex,\n              activeDataKey: undefined,\n              activeCoordinate: activeProps.activeCoordinate\n            }));\n          } else {\n            // this is needed to clear tooltip state when the mouse moves out of the inRange (svg - offset) function, but not yet out of the svg\n            listenerApi.dispatch((0, _tooltipSlice.mouseLeaveChart)());\n          }\n        }\n        rafId = null;\n      });\n    }\n  });\n});","lineCount":76,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"mouseMoveMiddleware"],[7,29,6,27],[7,32,6,30,"exports"],[7,39,6,37],[7,40,6,38,"mouseMoveAction"],[7,55,6,53],[7,58,6,56,"exports"],[7,65,6,63],[7,66,6,64,"mouseClickMiddleware"],[7,86,6,84],[7,89,6,87,"exports"],[7,96,6,94],[7,97,6,95,"mouseClickAction"],[7,113,6,111],[7,116,6,114],[7,121,6,119],[7,122,6,120],[8,2,7,0],[8,6,7,4,"_toolkit"],[8,14,7,12],[8,17,7,15,"require"],[8,24,7,22],[8,25,7,22,"_dependencyMap"],[8,39,7,22],[8,62,7,41],[8,63,7,42],[9,2,8,0],[9,6,8,4,"_tooltipSlice"],[9,19,8,17],[9,22,8,20,"require"],[9,29,8,27],[9,30,8,27,"_dependencyMap"],[9,44,8,27],[9,65,8,44],[9,66,8,45],[10,2,9,0],[10,6,9,4,"_selectActivePropsFromChartPointer"],[10,40,9,38],[10,43,9,41,"require"],[10,50,9,48],[10,51,9,48,"_dependencyMap"],[10,65,9,48],[10,117,9,96],[10,118,9,97],[11,2,10,0],[11,6,10,4,"_selectTooltipEventType"],[11,29,10,27],[11,32,10,30,"require"],[11,39,10,37],[11,40,10,37,"_dependencyMap"],[11,54,10,37],[11,95,10,74],[11,96,10,75],[12,2,11,0],[12,6,11,4,"_getChartPointer"],[12,22,11,20],[12,25,11,23,"require"],[12,32,11,30],[12,33,11,30,"_dependencyMap"],[12,47,11,30],[12,77,11,56],[12,78,11,57],[13,2,12,0],[13,6,12,4,"mouseClickAction"],[13,22,12,20],[13,25,12,23,"exports"],[13,32,12,30],[13,33,12,31,"mouseClickAction"],[13,49,12,47],[13,52,12,50],[13,53,12,51],[13,54,12,52],[13,56,12,54,"_toolkit"],[13,64,12,62],[13,65,12,63,"createAction"],[13,77,12,75],[13,79,12,77],[13,91,12,89],[13,92,12,90],[14,2,13,0],[14,6,13,4,"mouseClickMiddleware"],[14,26,13,24],[14,29,13,27,"exports"],[14,36,13,34],[14,37,13,35,"mouseClickMiddleware"],[14,57,13,55],[14,60,13,58],[14,61,13,59],[14,62,13,60],[14,64,13,62,"_toolkit"],[14,72,13,70],[14,73,13,71,"createListenerMiddleware"],[14,97,13,95],[14,99,13,97],[14,100,13,98],[16,2,15,0],[17,2,16,0,"mouseClickMiddleware"],[17,22,16,20],[17,23,16,21,"startListening"],[17,37,16,35],[17,38,16,36],[18,4,17,2,"actionCreator"],[18,17,17,15],[18,19,17,17,"mouseClickAction"],[18,35,17,33],[19,4,18,2,"effect"],[19,10,18,8],[19,12,18,10],[19,21,18,2,"effect"],[19,27,18,8,"effect"],[19,28,18,11,"action"],[19,34,18,17],[19,36,18,19,"listenerApi"],[19,47,18,30],[19,49,18,35],[20,6,19,4],[20,10,19,8,"mousePointer"],[20,22,19,20],[20,25,19,23,"action"],[20,31,19,29],[20,32,19,30,"payload"],[20,39,19,37],[21,6,20,4],[21,10,20,8,"activeProps"],[21,21,20,19],[21,24,20,22],[21,25,20,23],[21,26,20,24],[21,28,20,26,"_selectActivePropsFromChartPointer"],[21,62,20,60],[21,63,20,61,"selectActivePropsFromChartPointer"],[21,96,20,94],[21,98,20,96,"listenerApi"],[21,109,20,107],[21,110,20,108,"getState"],[21,118,20,116],[21,119,20,117],[21,120,20,118],[21,122,20,120],[21,123,20,121],[21,124,20,122],[21,126,20,124,"_getChartPointer"],[21,142,20,140],[21,143,20,141,"getChartPointer"],[21,158,20,156],[21,160,20,158,"mousePointer"],[21,172,20,170],[21,173,20,171],[21,174,20,172],[22,6,21,4],[22,10,21,8],[22,11,21,9,"activeProps"],[22,22,21,20],[22,27,21,25],[22,31,21,29],[22,35,21,33,"activeProps"],[22,46,21,44],[22,51,21,49],[22,56,21,54],[22,57,21,55],[22,60,21,58],[22,65,21,63],[22,66,21,64],[22,69,21,67,"activeProps"],[22,80,21,78],[22,81,21,79,"activeIndex"],[22,92,21,90],[22,97,21,95],[22,101,21,99],[22,103,21,101],[23,8,22,6,"listenerApi"],[23,19,22,17],[23,20,22,18,"dispatch"],[23,28,22,26],[23,29,22,27],[23,30,22,28],[23,31,22,29],[23,33,22,31,"_tooltipSlice"],[23,46,22,44],[23,47,22,45,"setMouseClickAxisIndex"],[23,69,22,67],[23,71,22,69],[24,10,23,8,"activeIndex"],[24,21,23,19],[24,23,23,21,"activeProps"],[24,34,23,32],[24,35,23,33,"activeIndex"],[24,46,23,44],[25,10,24,8,"activeDataKey"],[25,23,24,21],[25,25,24,23,"undefined"],[25,34,24,32],[26,10,25,8,"activeCoordinate"],[26,26,25,24],[26,28,25,26,"activeProps"],[26,39,25,37],[26,40,25,38,"activeCoordinate"],[27,8,26,6],[27,9,26,7],[27,10,26,8],[27,11,26,9],[28,6,27,4],[29,4,28,2],[30,2,29,0],[30,3,29,1],[30,4,29,2],[31,2,30,0],[31,6,30,4,"mouseMoveAction"],[31,21,30,19],[31,24,30,22,"exports"],[31,31,30,29],[31,32,30,30,"mouseMoveAction"],[31,47,30,45],[31,50,30,48],[31,51,30,49],[31,52,30,50],[31,54,30,52,"_toolkit"],[31,62,30,60],[31,63,30,61,"createAction"],[31,75,30,73],[31,77,30,75],[31,88,30,86],[31,89,30,87],[32,2,31,0],[32,6,31,4,"mouseMoveMiddleware"],[32,25,31,23],[32,28,31,26,"exports"],[32,35,31,33],[32,36,31,34,"mouseMoveMiddleware"],[32,55,31,53],[32,58,31,56],[32,59,31,57],[32,60,31,58],[32,62,31,60,"_toolkit"],[32,70,31,68],[32,71,31,69,"createListenerMiddleware"],[32,95,31,93],[32,97,31,95],[32,98,31,96],[34,2,33,0],[35,0,34,0],[36,0,35,0],[37,0,36,0],[38,0,37,0],[39,0,38,0],[40,0,39,0],[41,0,40,0],[42,2,41,0],[42,6,41,4,"rafId"],[42,11,41,9],[42,14,41,12],[42,18,41,16],[43,2,42,0,"mouseMoveMiddleware"],[43,21,42,19],[43,22,42,20,"startListening"],[43,36,42,34],[43,37,42,35],[44,4,43,2,"actionCreator"],[44,17,43,15],[44,19,43,17,"mouseMoveAction"],[44,34,43,32],[45,4,44,2,"effect"],[45,10,44,8],[45,12,44,10],[45,21,44,2,"effect"],[45,27,44,8,"effect"],[45,28,44,11,"action"],[45,34,44,17],[45,36,44,19,"listenerApi"],[45,47,44,30],[45,49,44,35],[46,6,45,4],[46,10,45,8,"mousePointer"],[46,22,45,20],[46,25,45,23,"action"],[46,31,45,29],[46,32,45,30,"payload"],[46,39,45,37],[48,6,47,4],[49,6,48,4],[49,10,48,8,"rafId"],[49,15,48,13],[49,20,48,18],[49,24,48,22],[49,26,48,24],[50,8,49,6,"cancelAnimationFrame"],[50,28,49,26],[50,29,49,27,"rafId"],[50,34,49,32],[50,35,49,33],[51,6,50,4],[52,6,51,4],[52,10,51,8,"chartPointer"],[52,22,51,20],[52,25,51,23],[52,26,51,24],[52,27,51,25],[52,29,51,27,"_getChartPointer"],[52,45,51,43],[52,46,51,44,"getChartPointer"],[52,61,51,59],[52,63,51,61,"mousePointer"],[52,75,51,73],[52,76,51,74],[54,6,53,4],[55,6,54,4,"rafId"],[55,11,54,9],[55,14,54,12,"requestAnimationFrame"],[55,35,54,33],[55,36,54,34],[55,48,54,40],[56,8,55,6],[56,12,55,10,"state"],[56,17,55,15],[56,20,55,18,"listenerApi"],[56,31,55,29],[56,32,55,30,"getState"],[56,40,55,38],[56,41,55,39],[56,42,55,40],[57,8,56,6],[57,12,56,10,"tooltipEventType"],[57,28,56,26],[57,31,56,29],[57,32,56,30],[57,33,56,31],[57,35,56,33,"_selectTooltipEventType"],[57,58,56,56],[57,59,56,57,"selectTooltipEventType"],[57,81,56,79],[57,83,56,81,"state"],[57,88,56,86],[57,90,56,88,"state"],[57,95,56,93],[57,96,56,94,"tooltip"],[57,103,56,101],[57,104,56,102,"settings"],[57,112,56,110],[57,113,56,111,"shared"],[57,119,56,117],[57,120,56,118],[58,8,57,6],[59,8,58,6],[59,12,58,10,"tooltipEventType"],[59,28,58,26],[59,33,58,31],[59,39,58,37],[59,41,58,39],[60,10,59,8],[60,14,59,12,"activeProps"],[60,25,59,23],[60,28,59,26],[60,29,59,27],[60,30,59,28],[60,32,59,30,"_selectActivePropsFromChartPointer"],[60,66,59,64],[60,67,59,65,"selectActivePropsFromChartPointer"],[60,100,59,98],[60,102,59,100,"state"],[60,107,59,105],[60,109,59,107,"chartPointer"],[60,121,59,119],[60,122,59,120],[61,10,60,8],[61,14,60,12],[61,15,60,13,"activeProps"],[61,26,60,24],[61,31,60,29],[61,35,60,33],[61,39,60,37,"activeProps"],[61,50,60,48],[61,55,60,53],[61,60,60,58],[61,61,60,59],[61,64,60,62],[61,69,60,67],[61,70,60,68],[61,73,60,71,"activeProps"],[61,84,60,82],[61,85,60,83,"activeIndex"],[61,96,60,94],[61,101,60,99],[61,105,60,103],[61,107,60,105],[62,12,61,10,"listenerApi"],[62,23,61,21],[62,24,61,22,"dispatch"],[62,32,61,30],[62,33,61,31],[62,34,61,32],[62,35,61,33],[62,37,61,35,"_tooltipSlice"],[62,50,61,48],[62,51,61,49,"setMouseOverAxisIndex"],[62,72,61,70],[62,74,61,72],[63,14,62,12,"activeIndex"],[63,25,62,23],[63,27,62,25,"activeProps"],[63,38,62,36],[63,39,62,37,"activeIndex"],[63,50,62,48],[64,14,63,12,"activeDataKey"],[64,27,63,25],[64,29,63,27,"undefined"],[64,38,63,36],[65,14,64,12,"activeCoordinate"],[65,30,64,28],[65,32,64,30,"activeProps"],[65,43,64,41],[65,44,64,42,"activeCoordinate"],[66,12,65,10],[66,13,65,11],[66,14,65,12],[66,15,65,13],[67,10,66,8],[67,11,66,9],[67,17,66,15],[68,12,67,10],[69,12,68,10,"listenerApi"],[69,23,68,21],[69,24,68,22,"dispatch"],[69,32,68,30],[69,33,68,31],[69,34,68,32],[69,35,68,33],[69,37,68,35,"_tooltipSlice"],[69,50,68,48],[69,51,68,49,"mouseLeaveChart"],[69,66,68,64],[69,68,68,66],[69,69,68,67],[69,70,68,68],[70,10,69,8],[71,8,70,6],[72,8,71,6,"rafId"],[72,13,71,11],[72,16,71,14],[72,20,71,18],[73,6,72,4],[73,7,72,5],[73,8,72,6],[74,4,73,2],[75,2,74,0],[75,3,74,1],[75,4,74,2],[76,0,74,3],[76,3]],"functionMap":{"names":["<global>","mouseClickMiddleware.startListening$argument_0.effect","mouseMoveMiddleware.startListening$argument_0.effect","requestAnimationFrame$argument_0"],"mappings":"AAA;UCiB;GDU;UEgB;kCCU;KDkB;GFC"},"hasCjsExports":true},"type":"js/module"}]}