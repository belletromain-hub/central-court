{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.RequestAnimationFrameTimeoutController = void 0;\n  /**\n   * Callback type for the timeout function.\n   * Receives current time in milliseconds as an argument.\n   */\n\n  /**\n   * A function that, when called, cancels the timeout.\n   */\n\n  class RequestAnimationFrameTimeoutController {\n    setTimeout(callback) {\n      var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var startTime = performance.now();\n      var requestId = null;\n      var executeCallback = now => {\n        if (now - startTime >= delay) {\n          callback(now);\n          // tests fail without the extra if, even when five lines below it's not needed\n          // TODO finish transition to the mocked timeout controller and then remove this condition\n        } else if (typeof requestAnimationFrame === 'function') {\n          requestId = requestAnimationFrame(executeCallback);\n        }\n      };\n      requestId = requestAnimationFrame(executeCallback);\n      return () => {\n        if (requestId != null) {\n          cancelAnimationFrame(requestId);\n        }\n      };\n    }\n  }\n  exports.RequestAnimationFrameTimeoutController = RequestAnimationFrameTimeoutController;\n});","lineCount":40,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"RequestAnimationFrameTimeoutController"],[7,48,6,46],[7,51,6,49],[7,56,6,54],[7,57,6,55],[8,2,7,0],[9,0,8,0],[10,0,9,0],[11,0,10,0],[13,2,12,0],[14,0,13,0],[15,0,14,0],[17,2,16,0],[17,8,16,6,"RequestAnimationFrameTimeoutController"],[17,46,16,44],[17,47,16,45],[18,4,17,2,"setTimeout"],[18,14,17,12,"setTimeout"],[18,15,17,13,"callback"],[18,23,17,21],[18,25,17,23],[19,6,18,4],[19,10,18,8,"delay"],[19,15,18,13],[19,18,18,16,"arguments"],[19,27,18,25],[19,28,18,26,"length"],[19,34,18,32],[19,37,18,35],[19,38,18,36],[19,42,18,40,"arguments"],[19,51,18,49],[19,52,18,50],[19,53,18,51],[19,54,18,52],[19,59,18,57,"undefined"],[19,68,18,66],[19,71,18,69,"arguments"],[19,80,18,78],[19,81,18,79],[19,82,18,80],[19,83,18,81],[19,86,18,84],[19,87,18,85],[20,6,19,4],[20,10,19,8,"startTime"],[20,19,19,17],[20,22,19,20,"performance"],[20,33,19,31],[20,34,19,32,"now"],[20,37,19,35],[20,38,19,36],[20,39,19,37],[21,6,20,4],[21,10,20,8,"requestId"],[21,19,20,17],[21,22,20,20],[21,26,20,24],[22,6,21,4],[22,10,21,8,"executeCallback"],[22,25,21,23],[22,28,21,26,"now"],[22,31,21,29],[22,35,21,33],[23,8,22,6],[23,12,22,10,"now"],[23,15,22,13],[23,18,22,16,"startTime"],[23,27,22,25],[23,31,22,29,"delay"],[23,36,22,34],[23,38,22,36],[24,10,23,8,"callback"],[24,18,23,16],[24,19,23,17,"now"],[24,22,23,20],[24,23,23,21],[25,10,24,8],[26,10,25,8],[27,8,26,6],[27,9,26,7],[27,15,26,13],[27,19,26,17],[27,26,26,24,"requestAnimationFrame"],[27,47,26,45],[27,52,26,50],[27,62,26,60],[27,64,26,62],[28,10,27,8,"requestId"],[28,19,27,17],[28,22,27,20,"requestAnimationFrame"],[28,43,27,41],[28,44,27,42,"executeCallback"],[28,59,27,57],[28,60,27,58],[29,8,28,6],[30,6,29,4],[30,7,29,5],[31,6,30,4,"requestId"],[31,15,30,13],[31,18,30,16,"requestAnimationFrame"],[31,39,30,37],[31,40,30,38,"executeCallback"],[31,55,30,53],[31,56,30,54],[32,6,31,4],[32,13,31,11],[32,19,31,17],[33,8,32,6],[33,12,32,10,"requestId"],[33,21,32,19],[33,25,32,23],[33,29,32,27],[33,31,32,29],[34,10,33,8,"cancelAnimationFrame"],[34,30,33,28],[34,31,33,29,"requestId"],[34,40,33,38],[34,41,33,39],[35,8,34,6],[36,6,35,4],[36,7,35,5],[37,4,36,2],[38,2,37,0],[39,2,38,0,"exports"],[39,9,38,7],[39,10,38,8,"RequestAnimationFrameTimeoutController"],[39,48,38,46],[39,51,38,49,"RequestAnimationFrameTimeoutController"],[39,89,38,87],[40,0,38,88],[40,3]],"functionMap":{"names":["<global>","RequestAnimationFrameTimeoutController","RequestAnimationFrameTimeoutController#setTimeout","executeCallback","<anonymous>"],"mappings":"AAA;ACe;ECC;0BCI;KDQ;WEE;KFI;GDC;CDC"},"hasCjsExports":true},"type":"js/module"}]}