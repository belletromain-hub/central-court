{"dependencies":[{"name":"@reduxjs/toolkit","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":15,"index":184},"end":{"line":7,"column":42,"index":211}}],"key":"+3+hXPU0c7VkDZpFcniYIlEI8Pc=","exportNames":["*"],"imports":1}},{"name":"./tooltipSlice","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":20,"index":233},"end":{"line":8,"column":45,"index":258}}],"key":"DHTlLuVZD4MAbgh+1ZUW03doSOI=","exportNames":["*"],"imports":1}},{"name":"./selectors/tooltipSelectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":24,"index":284},"end":{"line":9,"column":63,"index":323}}],"key":"yllQ/KzwdV2amC5aMNkcuWWg+Ak=","exportNames":["*"],"imports":1}},{"name":"./selectors/selectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":17,"index":342},"end":{"line":10,"column":49,"index":374}}],"key":"5dbSo/zo344SSnNK/CExU4JiQTg=","exportNames":["*"],"imports":1}},{"name":"./selectors/axisSelectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":21,"index":397},"end":{"line":11,"column":57,"index":433}}],"key":"nLgygyOd1dqgOrzCkCwNLmzU658=","exportNames":["*"],"imports":1}},{"name":"./selectors/combiners/combineActiveTooltipIndex","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":33,"index":468},"end":{"line":12,"column":91,"index":526}}],"key":"MPi/L4PS7AjhiWh5QZZ8yrh04Fk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.keyboardEventsMiddleware = exports.keyDownAction = exports.focusAction = void 0;\n  var _toolkit = require(_dependencyMap[0], \"@reduxjs/toolkit\");\n  var _tooltipSlice = require(_dependencyMap[1], \"./tooltipSlice\");\n  var _tooltipSelectors = require(_dependencyMap[2], \"./selectors/tooltipSelectors\");\n  var _selectors = require(_dependencyMap[3], \"./selectors/selectors\");\n  var _axisSelectors = require(_dependencyMap[4], \"./selectors/axisSelectors\");\n  var _combineActiveTooltipIndex = require(_dependencyMap[5], \"./selectors/combiners/combineActiveTooltipIndex\");\n  var keyDownAction = exports.keyDownAction = (0, _toolkit.createAction)('keyDown');\n  var focusAction = exports.focusAction = (0, _toolkit.createAction)('focus');\n  var keyboardEventsMiddleware = exports.keyboardEventsMiddleware = (0, _toolkit.createListenerMiddleware)();\n  keyboardEventsMiddleware.startListening({\n    actionCreator: keyDownAction,\n    effect: (action, listenerApi) => {\n      var state = listenerApi.getState();\n      var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n      if (!accessibilityLayerIsActive) {\n        return;\n      }\n      var {\n        keyboardInteraction\n      } = state.tooltip;\n      var key = action.payload;\n      if (key !== 'ArrowRight' && key !== 'ArrowLeft' && key !== 'Enter') {\n        return;\n      }\n\n      // TODO this is lacking index for charts that do not support numeric indexes\n      var resolvedIndex = (0, _combineActiveTooltipIndex.combineActiveTooltipIndex)(keyboardInteraction, (0, _tooltipSelectors.selectTooltipDisplayedData)(state), (0, _axisSelectors.selectTooltipAxisDataKey)(state), (0, _tooltipSelectors.selectTooltipAxisDomain)(state));\n      var currentIndex = resolvedIndex == null ? -1 : Number(resolvedIndex);\n      if (!Number.isFinite(currentIndex) || currentIndex < 0) {\n        return;\n      }\n      var tooltipTicks = (0, _tooltipSelectors.selectTooltipAxisTicks)(state);\n      if (key === 'Enter') {\n        var _coordinate = (0, _selectors.selectCoordinateForDefaultIndex)(state, 'axis', 'hover', String(keyboardInteraction.index));\n        listenerApi.dispatch((0, _tooltipSlice.setKeyboardInteraction)({\n          active: !keyboardInteraction.active,\n          activeIndex: keyboardInteraction.index,\n          activeCoordinate: _coordinate\n        }));\n        return;\n      }\n      var direction = (0, _axisSelectors.selectChartDirection)(state);\n      var directionMultiplier = direction === 'left-to-right' ? 1 : -1;\n      var movement = key === 'ArrowRight' ? 1 : -1;\n      var nextIndex = currentIndex + movement * directionMultiplier;\n      if (tooltipTicks == null || nextIndex >= tooltipTicks.length || nextIndex < 0) {\n        return;\n      }\n      var coordinate = (0, _selectors.selectCoordinateForDefaultIndex)(state, 'axis', 'hover', String(nextIndex));\n      listenerApi.dispatch((0, _tooltipSlice.setKeyboardInteraction)({\n        active: true,\n        activeIndex: nextIndex.toString(),\n        activeCoordinate: coordinate\n      }));\n    }\n  });\n  keyboardEventsMiddleware.startListening({\n    actionCreator: focusAction,\n    effect: (_action, listenerApi) => {\n      var state = listenerApi.getState();\n      var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n      if (!accessibilityLayerIsActive) {\n        return;\n      }\n      var {\n        keyboardInteraction\n      } = state.tooltip;\n      if (keyboardInteraction.active) {\n        return;\n      }\n      if (keyboardInteraction.index == null) {\n        var nextIndex = '0';\n        var coordinate = (0, _selectors.selectCoordinateForDefaultIndex)(state, 'axis', 'hover', String(nextIndex));\n        listenerApi.dispatch((0, _tooltipSlice.setKeyboardInteraction)({\n          active: true,\n          activeIndex: nextIndex,\n          activeCoordinate: coordinate\n        }));\n      }\n    }\n  });\n});","lineCount":89,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"keyboardEventsMiddleware"],[7,34,6,32],[7,37,6,35,"exports"],[7,44,6,42],[7,45,6,43,"keyDownAction"],[7,58,6,56],[7,61,6,59,"exports"],[7,68,6,66],[7,69,6,67,"focusAction"],[7,80,6,78],[7,83,6,81],[7,88,6,86],[7,89,6,87],[8,2,7,0],[8,6,7,4,"_toolkit"],[8,14,7,12],[8,17,7,15,"require"],[8,24,7,22],[8,25,7,22,"_dependencyMap"],[8,39,7,22],[8,62,7,41],[8,63,7,42],[9,2,8,0],[9,6,8,4,"_tooltipSlice"],[9,19,8,17],[9,22,8,20,"require"],[9,29,8,27],[9,30,8,27,"_dependencyMap"],[9,44,8,27],[9,65,8,44],[9,66,8,45],[10,2,9,0],[10,6,9,4,"_tooltipSelectors"],[10,23,9,21],[10,26,9,24,"require"],[10,33,9,31],[10,34,9,31,"_dependencyMap"],[10,48,9,31],[10,83,9,62],[10,84,9,63],[11,2,10,0],[11,6,10,4,"_selectors"],[11,16,10,14],[11,19,10,17,"require"],[11,26,10,24],[11,27,10,24,"_dependencyMap"],[11,41,10,24],[11,69,10,48],[11,70,10,49],[12,2,11,0],[12,6,11,4,"_axisSelectors"],[12,20,11,18],[12,23,11,21,"require"],[12,30,11,28],[12,31,11,28,"_dependencyMap"],[12,45,11,28],[12,77,11,56],[12,78,11,57],[13,2,12,0],[13,6,12,4,"_combineActiveTooltipIndex"],[13,32,12,30],[13,35,12,33,"require"],[13,42,12,40],[13,43,12,40,"_dependencyMap"],[13,57,12,40],[13,111,12,90],[13,112,12,91],[14,2,13,0],[14,6,13,4,"keyDownAction"],[14,19,13,17],[14,22,13,20,"exports"],[14,29,13,27],[14,30,13,28,"keyDownAction"],[14,43,13,41],[14,46,13,44],[14,47,13,45],[14,48,13,46],[14,50,13,48,"_toolkit"],[14,58,13,56],[14,59,13,57,"createAction"],[14,71,13,69],[14,73,13,71],[14,82,13,80],[14,83,13,81],[15,2,14,0],[15,6,14,4,"focusAction"],[15,17,14,15],[15,20,14,18,"exports"],[15,27,14,25],[15,28,14,26,"focusAction"],[15,39,14,37],[15,42,14,40],[15,43,14,41],[15,44,14,42],[15,46,14,44,"_toolkit"],[15,54,14,52],[15,55,14,53,"createAction"],[15,67,14,65],[15,69,14,67],[15,76,14,74],[15,77,14,75],[16,2,15,0],[16,6,15,4,"keyboardEventsMiddleware"],[16,30,15,28],[16,33,15,31,"exports"],[16,40,15,38],[16,41,15,39,"keyboardEventsMiddleware"],[16,65,15,63],[16,68,15,66],[16,69,15,67],[16,70,15,68],[16,72,15,70,"_toolkit"],[16,80,15,78],[16,81,15,79,"createListenerMiddleware"],[16,105,15,103],[16,107,15,105],[16,108,15,106],[17,2,16,0,"keyboardEventsMiddleware"],[17,26,16,24],[17,27,16,25,"startListening"],[17,41,16,39],[17,42,16,40],[18,4,17,2,"actionCreator"],[18,17,17,15],[18,19,17,17,"keyDownAction"],[18,32,17,30],[19,4,18,2,"effect"],[19,10,18,8],[19,12,18,10,"effect"],[19,13,18,11,"action"],[19,19,18,17],[19,21,18,19,"listenerApi"],[19,32,18,30],[19,37,18,35],[20,6,19,4],[20,10,19,8,"state"],[20,15,19,13],[20,18,19,16,"listenerApi"],[20,29,19,27],[20,30,19,28,"getState"],[20,38,19,36],[20,39,19,37],[20,40,19,38],[21,6,20,4],[21,10,20,8,"accessibilityLayerIsActive"],[21,36,20,34],[21,39,20,37,"state"],[21,44,20,42],[21,45,20,43,"rootProps"],[21,54,20,52],[21,55,20,53,"accessibilityLayer"],[21,73,20,71],[21,78,20,76],[21,83,20,81],[22,6,21,4],[22,10,21,8],[22,11,21,9,"accessibilityLayerIsActive"],[22,37,21,35],[22,39,21,37],[23,8,22,6],[24,6,23,4],[25,6,24,4],[25,10,24,8],[26,8,25,6,"keyboardInteraction"],[27,6,26,4],[27,7,26,5],[27,10,26,8,"state"],[27,15,26,13],[27,16,26,14,"tooltip"],[27,23,26,21],[28,6,27,4],[28,10,27,8,"key"],[28,13,27,11],[28,16,27,14,"action"],[28,22,27,20],[28,23,27,21,"payload"],[28,30,27,28],[29,6,28,4],[29,10,28,8,"key"],[29,13,28,11],[29,18,28,16],[29,30,28,28],[29,34,28,32,"key"],[29,37,28,35],[29,42,28,40],[29,53,28,51],[29,57,28,55,"key"],[29,60,28,58],[29,65,28,63],[29,72,28,70],[29,74,28,72],[30,8,29,6],[31,6,30,4],[33,6,32,4],[34,6,33,4],[34,10,33,8,"resolvedIndex"],[34,23,33,21],[34,26,33,24],[34,27,33,25],[34,28,33,26],[34,30,33,28,"_combineActiveTooltipIndex"],[34,56,33,54],[34,57,33,55,"combineActiveTooltipIndex"],[34,82,33,80],[34,84,33,82,"keyboardInteraction"],[34,103,33,101],[34,105,33,103],[34,106,33,104],[34,107,33,105],[34,109,33,107,"_tooltipSelectors"],[34,126,33,124],[34,127,33,125,"selectTooltipDisplayedData"],[34,153,33,151],[34,155,33,153,"state"],[34,160,33,158],[34,161,33,159],[34,163,33,161],[34,164,33,162],[34,165,33,163],[34,167,33,165,"_axisSelectors"],[34,181,33,179],[34,182,33,180,"selectTooltipAxisDataKey"],[34,206,33,204],[34,208,33,206,"state"],[34,213,33,211],[34,214,33,212],[34,216,33,214],[34,217,33,215],[34,218,33,216],[34,220,33,218,"_tooltipSelectors"],[34,237,33,235],[34,238,33,236,"selectTooltipAxisDomain"],[34,261,33,259],[34,263,33,261,"state"],[34,268,33,266],[34,269,33,267],[34,270,33,268],[35,6,34,4],[35,10,34,8,"currentIndex"],[35,22,34,20],[35,25,34,23,"resolvedIndex"],[35,38,34,36],[35,42,34,40],[35,46,34,44],[35,49,34,47],[35,50,34,48],[35,51,34,49],[35,54,34,52,"Number"],[35,60,34,58],[35,61,34,59,"resolvedIndex"],[35,74,34,72],[35,75,34,73],[36,6,35,4],[36,10,35,8],[36,11,35,9,"Number"],[36,17,35,15],[36,18,35,16,"isFinite"],[36,26,35,24],[36,27,35,25,"currentIndex"],[36,39,35,37],[36,40,35,38],[36,44,35,42,"currentIndex"],[36,56,35,54],[36,59,35,57],[36,60,35,58],[36,62,35,60],[37,8,36,6],[38,6,37,4],[39,6,38,4],[39,10,38,8,"tooltipTicks"],[39,22,38,20],[39,25,38,23],[39,26,38,24],[39,27,38,25],[39,29,38,27,"_tooltipSelectors"],[39,46,38,44],[39,47,38,45,"selectTooltipAxisTicks"],[39,69,38,67],[39,71,38,69,"state"],[39,76,38,74],[39,77,38,75],[40,6,39,4],[40,10,39,8,"key"],[40,13,39,11],[40,18,39,16],[40,25,39,23],[40,27,39,25],[41,8,40,6],[41,12,40,10,"_coordinate"],[41,23,40,21],[41,26,40,24],[41,27,40,25],[41,28,40,26],[41,30,40,28,"_selectors"],[41,40,40,38],[41,41,40,39,"selectCoordinateForDefaultIndex"],[41,72,40,70],[41,74,40,72,"state"],[41,79,40,77],[41,81,40,79],[41,87,40,85],[41,89,40,87],[41,96,40,94],[41,98,40,96,"String"],[41,104,40,102],[41,105,40,103,"keyboardInteraction"],[41,124,40,122],[41,125,40,123,"index"],[41,130,40,128],[41,131,40,129],[41,132,40,130],[42,8,41,6,"listenerApi"],[42,19,41,17],[42,20,41,18,"dispatch"],[42,28,41,26],[42,29,41,27],[42,30,41,28],[42,31,41,29],[42,33,41,31,"_tooltipSlice"],[42,46,41,44],[42,47,41,45,"setKeyboardInteraction"],[42,69,41,67],[42,71,41,69],[43,10,42,8,"active"],[43,16,42,14],[43,18,42,16],[43,19,42,17,"keyboardInteraction"],[43,38,42,36],[43,39,42,37,"active"],[43,45,42,43],[44,10,43,8,"activeIndex"],[44,21,43,19],[44,23,43,21,"keyboardInteraction"],[44,42,43,40],[44,43,43,41,"index"],[44,48,43,46],[45,10,44,8,"activeCoordinate"],[45,26,44,24],[45,28,44,26,"_coordinate"],[46,8,45,6],[46,9,45,7],[46,10,45,8],[46,11,45,9],[47,8,46,6],[48,6,47,4],[49,6,48,4],[49,10,48,8,"direction"],[49,19,48,17],[49,22,48,20],[49,23,48,21],[49,24,48,22],[49,26,48,24,"_axisSelectors"],[49,40,48,38],[49,41,48,39,"selectChartDirection"],[49,61,48,59],[49,63,48,61,"state"],[49,68,48,66],[49,69,48,67],[50,6,49,4],[50,10,49,8,"directionMultiplier"],[50,29,49,27],[50,32,49,30,"direction"],[50,41,49,39],[50,46,49,44],[50,61,49,59],[50,64,49,62],[50,65,49,63],[50,68,49,66],[50,69,49,67],[50,70,49,68],[51,6,50,4],[51,10,50,8,"movement"],[51,18,50,16],[51,21,50,19,"key"],[51,24,50,22],[51,29,50,27],[51,41,50,39],[51,44,50,42],[51,45,50,43],[51,48,50,46],[51,49,50,47],[51,50,50,48],[52,6,51,4],[52,10,51,8,"nextIndex"],[52,19,51,17],[52,22,51,20,"currentIndex"],[52,34,51,32],[52,37,51,35,"movement"],[52,45,51,43],[52,48,51,46,"directionMultiplier"],[52,67,51,65],[53,6,52,4],[53,10,52,8,"tooltipTicks"],[53,22,52,20],[53,26,52,24],[53,30,52,28],[53,34,52,32,"nextIndex"],[53,43,52,41],[53,47,52,45,"tooltipTicks"],[53,59,52,57],[53,60,52,58,"length"],[53,66,52,64],[53,70,52,68,"nextIndex"],[53,79,52,77],[53,82,52,80],[53,83,52,81],[53,85,52,83],[54,8,53,6],[55,6,54,4],[56,6,55,4],[56,10,55,8,"coordinate"],[56,20,55,18],[56,23,55,21],[56,24,55,22],[56,25,55,23],[56,27,55,25,"_selectors"],[56,37,55,35],[56,38,55,36,"selectCoordinateForDefaultIndex"],[56,69,55,67],[56,71,55,69,"state"],[56,76,55,74],[56,78,55,76],[56,84,55,82],[56,86,55,84],[56,93,55,91],[56,95,55,93,"String"],[56,101,55,99],[56,102,55,100,"nextIndex"],[56,111,55,109],[56,112,55,110],[56,113,55,111],[57,6,56,4,"listenerApi"],[57,17,56,15],[57,18,56,16,"dispatch"],[57,26,56,24],[57,27,56,25],[57,28,56,26],[57,29,56,27],[57,31,56,29,"_tooltipSlice"],[57,44,56,42],[57,45,56,43,"setKeyboardInteraction"],[57,67,56,65],[57,69,56,67],[58,8,57,6,"active"],[58,14,57,12],[58,16,57,14],[58,20,57,18],[59,8,58,6,"activeIndex"],[59,19,58,17],[59,21,58,19,"nextIndex"],[59,30,58,28],[59,31,58,29,"toString"],[59,39,58,37],[59,40,58,38],[59,41,58,39],[60,8,59,6,"activeCoordinate"],[60,24,59,22],[60,26,59,24,"coordinate"],[61,6,60,4],[61,7,60,5],[61,8,60,6],[61,9,60,7],[62,4,61,2],[63,2,62,0],[63,3,62,1],[63,4,62,2],[64,2,63,0,"keyboardEventsMiddleware"],[64,26,63,24],[64,27,63,25,"startListening"],[64,41,63,39],[64,42,63,40],[65,4,64,2,"actionCreator"],[65,17,64,15],[65,19,64,17,"focusAction"],[65,30,64,28],[66,4,65,2,"effect"],[66,10,65,8],[66,12,65,10,"effect"],[66,13,65,11,"_action"],[66,20,65,18],[66,22,65,20,"listenerApi"],[66,33,65,31],[66,38,65,36],[67,6,66,4],[67,10,66,8,"state"],[67,15,66,13],[67,18,66,16,"listenerApi"],[67,29,66,27],[67,30,66,28,"getState"],[67,38,66,36],[67,39,66,37],[67,40,66,38],[68,6,67,4],[68,10,67,8,"accessibilityLayerIsActive"],[68,36,67,34],[68,39,67,37,"state"],[68,44,67,42],[68,45,67,43,"rootProps"],[68,54,67,52],[68,55,67,53,"accessibilityLayer"],[68,73,67,71],[68,78,67,76],[68,83,67,81],[69,6,68,4],[69,10,68,8],[69,11,68,9,"accessibilityLayerIsActive"],[69,37,68,35],[69,39,68,37],[70,8,69,6],[71,6,70,4],[72,6,71,4],[72,10,71,8],[73,8,72,6,"keyboardInteraction"],[74,6,73,4],[74,7,73,5],[74,10,73,8,"state"],[74,15,73,13],[74,16,73,14,"tooltip"],[74,23,73,21],[75,6,74,4],[75,10,74,8,"keyboardInteraction"],[75,29,74,27],[75,30,74,28,"active"],[75,36,74,34],[75,38,74,36],[76,8,75,6],[77,6,76,4],[78,6,77,4],[78,10,77,8,"keyboardInteraction"],[78,29,77,27],[78,30,77,28,"index"],[78,35,77,33],[78,39,77,37],[78,43,77,41],[78,45,77,43],[79,8,78,6],[79,12,78,10,"nextIndex"],[79,21,78,19],[79,24,78,22],[79,27,78,25],[80,8,79,6],[80,12,79,10,"coordinate"],[80,22,79,20],[80,25,79,23],[80,26,79,24],[80,27,79,25],[80,29,79,27,"_selectors"],[80,39,79,37],[80,40,79,38,"selectCoordinateForDefaultIndex"],[80,71,79,69],[80,73,79,71,"state"],[80,78,79,76],[80,80,79,78],[80,86,79,84],[80,88,79,86],[80,95,79,93],[80,97,79,95,"String"],[80,103,79,101],[80,104,79,102,"nextIndex"],[80,113,79,111],[80,114,79,112],[80,115,79,113],[81,8,80,6,"listenerApi"],[81,19,80,17],[81,20,80,18,"dispatch"],[81,28,80,26],[81,29,80,27],[81,30,80,28],[81,31,80,29],[81,33,80,31,"_tooltipSlice"],[81,46,80,44],[81,47,80,45,"setKeyboardInteraction"],[81,69,80,67],[81,71,80,69],[82,10,81,8,"active"],[82,16,81,14],[82,18,81,16],[82,22,81,20],[83,10,82,8,"activeIndex"],[83,21,82,19],[83,23,82,21,"nextIndex"],[83,32,82,30],[84,10,83,8,"activeCoordinate"],[84,26,83,24],[84,28,83,26,"coordinate"],[85,8,84,6],[85,9,84,7],[85,10,84,8],[85,11,84,9],[86,6,85,4],[87,4,86,2],[88,2,87,0],[88,3,87,1],[88,4,87,2],[89,0,87,3],[89,3]],"functionMap":{"names":["<global>","startListening$argument_0.effect"],"mappings":"AAA;UCiB;GD2C;UCI;GDqB"},"hasCjsExports":true},"type":"js/module"}]}