{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":13,"index":128},"end":{"line":7,"column":29,"index":144}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"react-dom","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":16,"index":162},"end":{"line":8,"column":36,"index":182}}],"key":"Di6/Y2KLtIOZTxno/rIssrDDou4=","exportNames":["*"],"imports":1}},{"name":"../util/DataUtils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":17,"index":201},"end":{"line":9,"column":45,"index":229}}],"key":"457BQJH/9wuRNPh4j6GqsN0rj1I=","exportNames":["*"],"imports":1}},{"name":"../state/hooks","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":13,"index":244},"end":{"line":10,"column":38,"index":269}}],"key":"YPSAqLXFs6QgXaGWOe4bZUebAeI=","exportNames":["*"],"imports":1}},{"name":"./zIndexSelectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":23,"index":294},"end":{"line":11,"column":51,"index":322}}],"key":"tQSQS0AdAAKl9j297wlkXR6b8no=","exportNames":["*"],"imports":1}},{"name":"../state/zIndexSlice","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":19,"index":343},"end":{"line":12,"column":50,"index":374}}],"key":"dI5IkH4mLk4VFdIhKKFnATuGC54=","exportNames":["*"],"imports":1}},{"name":"../context/chartLayoutContext","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":26,"index":402},"end":{"line":13,"column":66,"index":442}}],"key":"d+bQ2M/AizNmVRitlTD8hVfmg2E=","exportNames":["*"],"imports":1}},{"name":"../context/PanoramaContext","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":23,"index":467},"end":{"line":14,"column":60,"index":504}}],"key":"XMVQD9lEsfOKDjoJLDNm9vvr7Vs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.ZIndexLayer = ZIndexLayer;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactDom = require(_dependencyMap[1], \"react-dom\");\n  var _DataUtils = require(_dependencyMap[2], \"../util/DataUtils\");\n  var _hooks = require(_dependencyMap[3], \"../state/hooks\");\n  var _zIndexSelectors = require(_dependencyMap[4], \"./zIndexSelectors\");\n  var _zIndexSlice = require(_dependencyMap[5], \"../state/zIndexSlice\");\n  var _chartLayoutContext = require(_dependencyMap[6], \"../context/chartLayoutContext\");\n  var _PanoramaContext = require(_dependencyMap[7], \"../context/PanoramaContext\");\n  /**\n   * @since 3.4\n   */\n\n  /**\n   * A layer that renders its children into a portal corresponding to the given zIndex.\n   * We can't use regular CSS `z-index` because SVG does not support it.\n   * So instead, we create separate DOM nodes for each zIndex layer\n   * and render the children into the corresponding DOM node using React portals.\n   *\n   * This component must be used inside a Chart component.\n   *\n   * @param zIndex numeric zIndex value, higher values are rendered on top of lower values\n   * @param children the content to render inside this zIndex layer\n   *\n   * @since 3.4\n   */\n  function ZIndexLayer(_ref) {\n    var zIndex = _ref.zIndex,\n      children = _ref.children;\n    /*\n     * If we are outside of chart, then we can't rely on the zIndex portal state,\n     * so we just render normally.\n     */\n    var isInChartContext = (0, _chartLayoutContext.useIsInChartContext)();\n    /*\n     * If zIndex is undefined then we render normally without portals.\n     * Also, if zIndex is 0, we render normally without portals,\n     * because 0 is the default layer that does not need a portal.\n     */\n    var shouldRenderInPortal = isInChartContext && zIndex !== undefined && zIndex !== 0;\n    var isPanorama = (0, _PanoramaContext.useIsPanorama)();\n    var dispatch = (0, _hooks.useAppDispatch)();\n    (0, _react.useLayoutEffect)(function () {\n      if (!shouldRenderInPortal) {\n        // Nothing to do. We have to call the hook because of the rules of hooks.\n        return _DataUtils.noop;\n      }\n      /*\n       * Because zIndexes are dynamic (meaning, we're not working with a predefined set of layers,\n       * but we allow users to define any zIndex at any time), we need to register\n       * the requested zIndex in the global store. This way, the ZIndexPortals component\n       * can render the corresponding portals and only the requested ones.\n       */\n      dispatch((0, _zIndexSlice.registerZIndexPortal)({\n        zIndex: zIndex\n      }));\n      return function () {\n        dispatch((0, _zIndexSlice.unregisterZIndexPortal)({\n          zIndex: zIndex\n        }));\n      };\n    }, [dispatch, zIndex, shouldRenderInPortal]);\n    var portalElement = (0, _hooks.useAppSelector)(function (state) {\n      return (0, _zIndexSelectors.selectZIndexPortalElement)(state, zIndex, isPanorama);\n    });\n    if (!shouldRenderInPortal) {\n      // If no zIndex is provided or zIndex is 0, render normally without portals\n      return children;\n    }\n    if (!portalElement) {\n      /*\n       * If we don't have a portal element yet, this means that the registration\n       * has not been processed yet by the ZIndexPortals component.\n       * So here we render null and wait for the next render cycle.\n       */\n      return null;\n    }\n    return /*#__PURE__*/(0, _reactDom.createPortal)(children, portalElement);\n  }\n});","lineCount":86,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"ZIndexLayer"],[7,21,6,19],[7,24,6,22,"ZIndexLayer"],[7,35,6,33],[8,2,7,0],[8,6,7,4,"_react"],[8,12,7,10],[8,15,7,13,"require"],[8,22,7,20],[8,23,7,20,"_dependencyMap"],[8,37,7,20],[8,49,7,28],[8,50,7,29],[9,2,8,0],[9,6,8,4,"_reactDom"],[9,15,8,13],[9,18,8,16,"require"],[9,25,8,23],[9,26,8,23,"_dependencyMap"],[9,40,8,23],[9,56,8,35],[9,57,8,36],[10,2,9,0],[10,6,9,4,"_DataUtils"],[10,16,9,14],[10,19,9,17,"require"],[10,26,9,24],[10,27,9,24,"_dependencyMap"],[10,41,9,24],[10,65,9,44],[10,66,9,45],[11,2,10,0],[11,6,10,4,"_hooks"],[11,12,10,10],[11,15,10,13,"require"],[11,22,10,20],[11,23,10,20,"_dependencyMap"],[11,37,10,20],[11,58,10,37],[11,59,10,38],[12,2,11,0],[12,6,11,4,"_zIndexSelectors"],[12,22,11,20],[12,25,11,23,"require"],[12,32,11,30],[12,33,11,30,"_dependencyMap"],[12,47,11,30],[12,71,11,50],[12,72,11,51],[13,2,12,0],[13,6,12,4,"_zIndexSlice"],[13,18,12,16],[13,21,12,19,"require"],[13,28,12,26],[13,29,12,26,"_dependencyMap"],[13,43,12,26],[13,70,12,49],[13,71,12,50],[14,2,13,0],[14,6,13,4,"_chartLayoutContext"],[14,25,13,23],[14,28,13,26,"require"],[14,35,13,33],[14,36,13,33,"_dependencyMap"],[14,50,13,33],[14,86,13,65],[14,87,13,66],[15,2,14,0],[15,6,14,4,"_PanoramaContext"],[15,22,14,20],[15,25,14,23,"require"],[15,32,14,30],[15,33,14,30,"_dependencyMap"],[15,47,14,30],[15,80,14,59],[15,81,14,60],[16,2,15,0],[17,0,16,0],[18,0,17,0],[20,2,19,0],[21,0,20,0],[22,0,21,0],[23,0,22,0],[24,0,23,0],[25,0,24,0],[26,0,25,0],[27,0,26,0],[28,0,27,0],[29,0,28,0],[30,0,29,0],[31,0,30,0],[32,0,31,0],[33,2,32,0],[33,11,32,9,"ZIndexLayer"],[33,22,32,20,"ZIndexLayer"],[33,23,32,21,"_ref"],[33,27,32,25],[33,29,32,27],[34,4,33,2],[34,8,34,4,"zIndex"],[34,14,34,10],[34,17,36,6,"_ref"],[34,21,36,10],[34,22,34,4,"zIndex"],[34,28,34,10],[35,6,35,4,"children"],[35,14,35,12],[35,17,36,6,"_ref"],[35,21,36,10],[35,22,35,4,"children"],[35,30,35,12],[36,4,37,2],[37,0,38,0],[38,0,39,0],[39,0,40,0],[40,4,41,2],[40,8,41,6,"isInChartContext"],[40,24,41,22],[40,27,41,25],[40,28,41,26],[40,29,41,27],[40,31,41,29,"_chartLayoutContext"],[40,50,41,48],[40,51,41,49,"useIsInChartContext"],[40,70,41,68],[40,72,41,70],[40,73,41,71],[41,4,42,2],[42,0,43,0],[43,0,44,0],[44,0,45,0],[45,0,46,0],[46,4,47,2],[46,8,47,6,"shouldRenderInPortal"],[46,28,47,26],[46,31,47,29,"isInChartContext"],[46,47,47,45],[46,51,47,49,"zIndex"],[46,57,47,55],[46,62,47,60,"undefined"],[46,71,47,69],[46,75,47,73,"zIndex"],[46,81,47,79],[46,86,47,84],[46,87,47,85],[47,4,48,2],[47,8,48,6,"isPanorama"],[47,18,48,16],[47,21,48,19],[47,22,48,20],[47,23,48,21],[47,25,48,23,"_PanoramaContext"],[47,41,48,39],[47,42,48,40,"useIsPanorama"],[47,55,48,53],[47,57,48,55],[47,58,48,56],[48,4,49,2],[48,8,49,6,"dispatch"],[48,16,49,14],[48,19,49,17],[48,20,49,18],[48,21,49,19],[48,23,49,21,"_hooks"],[48,29,49,27],[48,30,49,28,"useAppDispatch"],[48,44,49,42],[48,46,49,44],[48,47,49,45],[49,4,50,2],[49,5,50,3],[49,6,50,4],[49,8,50,6,"_react"],[49,14,50,12],[49,15,50,13,"useLayoutEffect"],[49,30,50,28],[49,32,50,30],[49,44,50,36],[50,6,51,4],[50,10,51,8],[50,11,51,9,"shouldRenderInPortal"],[50,31,51,29],[50,33,51,31],[51,8,52,6],[52,8,53,6],[52,15,53,13,"_DataUtils"],[52,25,53,23],[52,26,53,24,"noop"],[52,30,53,28],[53,6,54,4],[54,6,55,4],[55,0,56,0],[56,0,57,0],[57,0,58,0],[58,0,59,0],[59,0,60,0],[60,6,61,4,"dispatch"],[60,14,61,12],[60,15,61,13],[60,16,61,14],[60,17,61,15],[60,19,61,17,"_zIndexSlice"],[60,31,61,29],[60,32,61,30,"registerZIndexPortal"],[60,52,61,50],[60,54,61,52],[61,8,62,6,"zIndex"],[61,14,62,12],[61,16,62,6,"zIndex"],[62,6,63,4],[62,7,63,5],[62,8,63,6],[62,9,63,7],[63,6,64,4],[63,13,64,11],[63,25,64,17],[64,8,65,6,"dispatch"],[64,16,65,14],[64,17,65,15],[64,18,65,16],[64,19,65,17],[64,21,65,19,"_zIndexSlice"],[64,33,65,31],[64,34,65,32,"unregisterZIndexPortal"],[64,56,65,54],[64,58,65,56],[65,10,66,8,"zIndex"],[65,16,66,14],[65,18,66,8,"zIndex"],[66,8,67,6],[66,9,67,7],[66,10,67,8],[66,11,67,9],[67,6,68,4],[67,7,68,5],[68,4,69,2],[68,5,69,3],[68,7,69,5],[68,8,69,6,"dispatch"],[68,16,69,14],[68,18,69,16,"zIndex"],[68,24,69,22],[68,26,69,24,"shouldRenderInPortal"],[68,46,69,44],[68,47,69,45],[68,48,69,46],[69,4,70,2],[69,8,70,6,"portalElement"],[69,21,70,19],[69,24,70,22],[69,25,70,23],[69,26,70,24],[69,28,70,26,"_hooks"],[69,34,70,32],[69,35,70,33,"useAppSelector"],[69,49,70,47],[69,51,70,49],[69,61,70,49,"state"],[69,66,70,54],[70,6,70,54],[70,13,70,58],[70,14,70,59],[70,15,70,60],[70,17,70,62,"_zIndexSelectors"],[70,33,70,78],[70,34,70,79,"selectZIndexPortalElement"],[70,59,70,104],[70,61,70,106,"state"],[70,66,70,111],[70,68,70,113,"zIndex"],[70,74,70,119],[70,76,70,121,"isPanorama"],[70,86,70,131],[70,87,70,132],[71,4,70,132],[71,6,70,133],[72,4,71,2],[72,8,71,6],[72,9,71,7,"shouldRenderInPortal"],[72,29,71,27],[72,31,71,29],[73,6,72,4],[74,6,73,4],[74,13,73,11,"children"],[74,21,73,19],[75,4,74,2],[76,4,75,2],[76,8,75,6],[76,9,75,7,"portalElement"],[76,22,75,20],[76,24,75,22],[77,6,76,4],[78,0,77,0],[79,0,78,0],[80,0,79,0],[81,0,80,0],[82,6,81,4],[82,13,81,11],[82,17,81,15],[83,4,82,2],[84,4,83,2],[84,11,83,9],[84,24,83,22],[84,25,83,23],[84,26,83,24],[84,28,83,26,"_reactDom"],[84,37,83,35],[84,38,83,36,"createPortal"],[84,50,83,48],[84,52,83,50,"children"],[84,60,83,58],[84,62,83,60,"portalElement"],[84,75,83,73],[84,76,83,74],[85,2,84,0],[86,0,84,1],[86,3]],"functionMap":{"names":["<global>","ZIndexLayer","<anonymous>"],"mappings":"AAA;AC+B;8BCkB;GDmB;iDCC,mFD"},"hasCjsExports":true},"type":"js/module"}]}