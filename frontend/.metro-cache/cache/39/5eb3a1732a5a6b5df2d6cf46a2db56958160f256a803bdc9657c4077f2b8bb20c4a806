{"dependencies":[{"name":"../../types/StackedGraphicalItem","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":28,"index":145},"end":{"line":7,"column":71,"index":188}}],"key":"06uaj91iRwGAQWaz+AyEIyqOECM=","exportNames":["*"],"imports":1}},{"name":"../../../util/DataUtils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":17,"index":207},"end":{"line":8,"column":51,"index":241}}],"key":"DZiF419YUXF8+UcflZT0gMpHhnw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.combineBarSizeList = void 0;\n  var _StackedGraphicalItem = require(_dependencyMap[0], \"../../types/StackedGraphicalItem\");\n  var _DataUtils = require(_dependencyMap[1], \"../../../util/DataUtils\");\n  var getBarSize = (globalSize, totalSize, selfSize) => {\n    var barSize = selfSize !== null && selfSize !== void 0 ? selfSize : globalSize;\n    if ((0, _DataUtils.isNullish)(barSize)) {\n      return undefined;\n    }\n    return (0, _DataUtils.getPercentValue)(barSize, totalSize, 0);\n  };\n  var combineBarSizeList = (allBars, globalSize, totalSize) => {\n    var initialValue = {};\n    var stackedBars = allBars.filter(_StackedGraphicalItem.isStacked);\n    var unstackedBars = allBars.filter(b => b.stackId == null);\n    var groupByStack = stackedBars.reduce((acc, bar) => {\n      var s = acc[bar.stackId];\n      if (s == null) {\n        s = [];\n      }\n      s.push(bar);\n      acc[bar.stackId] = s;\n      return acc;\n    }, initialValue);\n    var stackedSizeList = Object.entries(groupByStack).map(_ref => {\n      var _bars$;\n      var [stackId, bars] = _ref;\n      var dataKeys = bars.map(b => b.dataKey);\n      var barSize = getBarSize(globalSize, totalSize, (_bars$ = bars[0]) === null || _bars$ === void 0 ? void 0 : _bars$.barSize);\n      return {\n        stackId,\n        dataKeys,\n        barSize\n      };\n    });\n    var unstackedSizeList = unstackedBars.map(b => {\n      var dataKeys = [b.dataKey].filter(dk => dk != null);\n      var barSize = getBarSize(globalSize, totalSize, b.barSize);\n      return {\n        stackId: undefined,\n        dataKeys,\n        barSize\n      };\n    });\n    return [...stackedSizeList, ...unstackedSizeList];\n  };\n  exports.combineBarSizeList = combineBarSizeList;\n});","lineCount":53,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"combineBarSizeList"],[7,28,6,26],[7,31,6,29],[7,36,6,34],[7,37,6,35],[8,2,7,0],[8,6,7,4,"_StackedGraphicalItem"],[8,27,7,25],[8,30,7,28,"require"],[8,37,7,35],[8,38,7,35,"_dependencyMap"],[8,52,7,35],[8,91,7,70],[8,92,7,71],[9,2,8,0],[9,6,8,4,"_DataUtils"],[9,16,8,14],[9,19,8,17,"require"],[9,26,8,24],[9,27,8,24,"_dependencyMap"],[9,41,8,24],[9,71,8,50],[9,72,8,51],[10,2,9,0],[10,6,9,4,"getBarSize"],[10,16,9,14],[10,19,9,17,"getBarSize"],[10,20,9,18,"globalSize"],[10,30,9,28],[10,32,9,30,"totalSize"],[10,41,9,39],[10,43,9,41,"selfSize"],[10,51,9,49],[10,56,9,54],[11,4,10,2],[11,8,10,6,"barSize"],[11,15,10,13],[11,18,10,16,"selfSize"],[11,26,10,24],[11,31,10,29],[11,35,10,33],[11,39,10,37,"selfSize"],[11,47,10,45],[11,52,10,50],[11,57,10,55],[11,58,10,56],[11,61,10,59,"selfSize"],[11,69,10,67],[11,72,10,70,"globalSize"],[11,82,10,80],[12,4,11,2],[12,8,11,6],[12,9,11,7],[12,10,11,8],[12,12,11,10,"_DataUtils"],[12,22,11,20],[12,23,11,21,"isNullish"],[12,32,11,30],[12,34,11,32,"barSize"],[12,41,11,39],[12,42,11,40],[12,44,11,42],[13,6,12,4],[13,13,12,11,"undefined"],[13,22,12,20],[14,4,13,2],[15,4,14,2],[15,11,14,9],[15,12,14,10],[15,13,14,11],[15,15,14,13,"_DataUtils"],[15,25,14,23],[15,26,14,24,"getPercentValue"],[15,41,14,39],[15,43,14,41,"barSize"],[15,50,14,48],[15,52,14,50,"totalSize"],[15,61,14,59],[15,63,14,61],[15,64,14,62],[15,65,14,63],[16,2,15,0],[16,3,15,1],[17,2,16,0],[17,6,16,4,"combineBarSizeList"],[17,24,16,22],[17,27,16,25,"combineBarSizeList"],[17,28,16,26,"allBars"],[17,35,16,33],[17,37,16,35,"globalSize"],[17,47,16,45],[17,49,16,47,"totalSize"],[17,58,16,56],[17,63,16,61],[18,4,17,2],[18,8,17,6,"initialValue"],[18,20,17,18],[18,23,17,21],[18,24,17,22],[18,25,17,23],[19,4,18,2],[19,8,18,6,"stackedBars"],[19,19,18,17],[19,22,18,20,"allBars"],[19,29,18,27],[19,30,18,28,"filter"],[19,36,18,34],[19,37,18,35,"_StackedGraphicalItem"],[19,58,18,56],[19,59,18,57,"isStacked"],[19,68,18,66],[19,69,18,67],[20,4,19,2],[20,8,19,6,"unstackedBars"],[20,21,19,19],[20,24,19,22,"allBars"],[20,31,19,29],[20,32,19,30,"filter"],[20,38,19,36],[20,39,19,37,"b"],[20,40,19,38],[20,44,19,42,"b"],[20,45,19,43],[20,46,19,44,"stackId"],[20,53,19,51],[20,57,19,55],[20,61,19,59],[20,62,19,60],[21,4,20,2],[21,8,20,6,"groupByStack"],[21,20,20,18],[21,23,20,21,"stackedBars"],[21,34,20,32],[21,35,20,33,"reduce"],[21,41,20,39],[21,42,20,40],[21,43,20,41,"acc"],[21,46,20,44],[21,48,20,46,"bar"],[21,51,20,49],[21,56,20,54],[22,6,21,4],[22,10,21,8,"s"],[22,11,21,9],[22,14,21,12,"acc"],[22,17,21,15],[22,18,21,16,"bar"],[22,21,21,19],[22,22,21,20,"stackId"],[22,29,21,27],[22,30,21,28],[23,6,22,4],[23,10,22,8,"s"],[23,11,22,9],[23,15,22,13],[23,19,22,17],[23,21,22,19],[24,8,23,6,"s"],[24,9,23,7],[24,12,23,10],[24,14,23,12],[25,6,24,4],[26,6,25,4,"s"],[26,7,25,5],[26,8,25,6,"push"],[26,12,25,10],[26,13,25,11,"bar"],[26,16,25,14],[26,17,25,15],[27,6,26,4,"acc"],[27,9,26,7],[27,10,26,8,"bar"],[27,13,26,11],[27,14,26,12,"stackId"],[27,21,26,19],[27,22,26,20],[27,25,26,23,"s"],[27,26,26,24],[28,6,27,4],[28,13,27,11,"acc"],[28,16,27,14],[29,4,28,2],[29,5,28,3],[29,7,28,5,"initialValue"],[29,19,28,17],[29,20,28,18],[30,4,29,2],[30,8,29,6,"stackedSizeList"],[30,23,29,21],[30,26,29,24,"Object"],[30,32,29,30],[30,33,29,31,"entries"],[30,40,29,38],[30,41,29,39,"groupByStack"],[30,53,29,51],[30,54,29,52],[30,55,29,53,"map"],[30,58,29,56],[30,59,29,57,"_ref"],[30,63,29,61],[30,67,29,65],[31,6,30,4],[31,10,30,8,"_bars$"],[31,16,30,14],[32,6,31,4],[32,10,31,8],[32,11,31,9,"stackId"],[32,18,31,16],[32,20,31,18,"bars"],[32,24,31,22],[32,25,31,23],[32,28,31,26,"_ref"],[32,32,31,30],[33,6,32,4],[33,10,32,8,"dataKeys"],[33,18,32,16],[33,21,32,19,"bars"],[33,25,32,23],[33,26,32,24,"map"],[33,29,32,27],[33,30,32,28,"b"],[33,31,32,29],[33,35,32,33,"b"],[33,36,32,34],[33,37,32,35,"dataKey"],[33,44,32,42],[33,45,32,43],[34,6,33,4],[34,10,33,8,"barSize"],[34,17,33,15],[34,20,33,18,"getBarSize"],[34,30,33,28],[34,31,33,29,"globalSize"],[34,41,33,39],[34,43,33,41,"totalSize"],[34,52,33,50],[34,54,33,52],[34,55,33,53,"_bars$"],[34,61,33,59],[34,64,33,62,"bars"],[34,68,33,66],[34,69,33,67],[34,70,33,68],[34,71,33,69],[34,77,33,75],[34,81,33,79],[34,85,33,83,"_bars$"],[34,91,33,89],[34,96,33,94],[34,101,33,99],[34,102,33,100],[34,105,33,103],[34,110,33,108],[34,111,33,109],[34,114,33,112,"_bars$"],[34,120,33,118],[34,121,33,119,"barSize"],[34,128,33,126],[34,129,33,127],[35,6,34,4],[35,13,34,11],[36,8,35,6,"stackId"],[36,15,35,13],[37,8,36,6,"dataKeys"],[37,16,36,14],[38,8,37,6,"barSize"],[39,6,38,4],[39,7,38,5],[40,4,39,2],[40,5,39,3],[40,6,39,4],[41,4,40,2],[41,8,40,6,"unstackedSizeList"],[41,25,40,23],[41,28,40,26,"unstackedBars"],[41,41,40,39],[41,42,40,40,"map"],[41,45,40,43],[41,46,40,44,"b"],[41,47,40,45],[41,51,40,49],[42,6,41,4],[42,10,41,8,"dataKeys"],[42,18,41,16],[42,21,41,19],[42,22,41,20,"b"],[42,23,41,21],[42,24,41,22,"dataKey"],[42,31,41,29],[42,32,41,30],[42,33,41,31,"filter"],[42,39,41,37],[42,40,41,38,"dk"],[42,42,41,40],[42,46,41,44,"dk"],[42,48,41,46],[42,52,41,50],[42,56,41,54],[42,57,41,55],[43,6,42,4],[43,10,42,8,"barSize"],[43,17,42,15],[43,20,42,18,"getBarSize"],[43,30,42,28],[43,31,42,29,"globalSize"],[43,41,42,39],[43,43,42,41,"totalSize"],[43,52,42,50],[43,54,42,52,"b"],[43,55,42,53],[43,56,42,54,"barSize"],[43,63,42,61],[43,64,42,62],[44,6,43,4],[44,13,43,11],[45,8,44,6,"stackId"],[45,15,44,13],[45,17,44,15,"undefined"],[45,26,44,24],[46,8,45,6,"dataKeys"],[46,16,45,14],[47,8,46,6,"barSize"],[48,6,47,4],[48,7,47,5],[49,4,48,2],[49,5,48,3],[49,6,48,4],[50,4,49,2],[50,11,49,9],[50,12,49,10],[50,15,49,13,"stackedSizeList"],[50,30,49,28],[50,32,49,30],[50,35,49,33,"unstackedSizeList"],[50,52,49,50],[50,53,49,51],[51,2,50,0],[51,3,50,1],[52,2,51,0,"exports"],[52,9,51,7],[52,10,51,8,"combineBarSizeList"],[52,28,51,26],[52,31,51,29,"combineBarSizeList"],[52,49,51,47],[53,0,51,48],[53,3]],"functionMap":{"names":["<global>","getBarSize","combineBarSizeList","allBars.filter$argument_0","stackedBars.reduce$argument_0","Object.entries.map$argument_0","bars.map$argument_0","unstackedBars.map$argument_0","filter$argument_0"],"mappings":"AAA;iBCQ;CDM;yBEC;qCCG,sBD;wCEC;GFQ;yDGC;4BCG,cD;GHO;4CKC;sCCC,gBD;GLO;CFE"},"hasCjsExports":true},"type":"js/module"}]}