{"dependencies":[{"name":"@reduxjs/toolkit","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":74,"index":74}}],"key":"54oW2xbJyHE290wIe7uf9enEy7w=","exportNames":["*"],"imports":1}},{"name":"./tooltipSlice","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":75},"end":{"line":2,"column":96,"index":171}}],"key":"8dvbsiJ/N+L27jULTvUHp13ZMXE=","exportNames":["*"],"imports":1}},{"name":"./selectors/selectActivePropsFromChartPointer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":172},"end":{"line":3,"column":98,"index":270}}],"key":"6Fs5oVM39uVJop63FxokxSkAQH8=","exportNames":["*"],"imports":1}},{"name":"./selectors/selectTooltipEventType","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":271},"end":{"line":4,"column":76,"index":347}}],"key":"AdnLogtYATEJOJ9LhEuhnJtJQO0=","exportNames":["*"],"imports":1}},{"name":"../util/getChartPointer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":348},"end":{"line":5,"column":58,"index":406}}],"key":"Vcjux497g5PawtgSs3BXiJe+1Gc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"mouseClickAction\", {\n    enumerable: true,\n    get: function () {\n      return mouseClickAction;\n    }\n  });\n  Object.defineProperty(exports, \"mouseClickMiddleware\", {\n    enumerable: true,\n    get: function () {\n      return mouseClickMiddleware;\n    }\n  });\n  Object.defineProperty(exports, \"mouseMoveAction\", {\n    enumerable: true,\n    get: function () {\n      return mouseMoveAction;\n    }\n  });\n  Object.defineProperty(exports, \"mouseMoveMiddleware\", {\n    enumerable: true,\n    get: function () {\n      return mouseMoveMiddleware;\n    }\n  });\n  var _reduxjsToolkit = require(_dependencyMap[0], \"@reduxjs/toolkit\");\n  var _tooltipSlice = require(_dependencyMap[1], \"./tooltipSlice\");\n  var _selectorsSelectActivePropsFromChartPointer = require(_dependencyMap[2], \"./selectors/selectActivePropsFromChartPointer\");\n  var _selectorsSelectTooltipEventType = require(_dependencyMap[3], \"./selectors/selectTooltipEventType\");\n  var _utilGetChartPointer = require(_dependencyMap[4], \"../util/getChartPointer\");\n  var mouseClickAction = (0, _reduxjsToolkit.createAction)('mouseClick');\n  var mouseClickMiddleware = (0, _reduxjsToolkit.createListenerMiddleware)();\n\n  // TODO: there's a bug here when you click the chart the activeIndex resets to zero\n  mouseClickMiddleware.startListening({\n    actionCreator: mouseClickAction,\n    effect: (action, listenerApi) => {\n      var mousePointer = action.payload;\n      var activeProps = (0, _selectorsSelectActivePropsFromChartPointer.selectActivePropsFromChartPointer)(listenerApi.getState(), (0, _utilGetChartPointer.getChartPointer)(mousePointer));\n      if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n        listenerApi.dispatch((0, _tooltipSlice.setMouseClickAxisIndex)({\n          activeIndex: activeProps.activeIndex,\n          activeDataKey: undefined,\n          activeCoordinate: activeProps.activeCoordinate\n        }));\n      }\n    }\n  });\n  var mouseMoveAction = (0, _reduxjsToolkit.createAction)('mouseMove');\n  var mouseMoveMiddleware = (0, _reduxjsToolkit.createListenerMiddleware)();\n\n  /*\n   * This single rafId is safe because:\n   * 1. Each chart has its own Redux store instance with its own middleware\n   * 2. mouseMoveAction only fires from one DOM element (the chart wrapper)\n   * 3. Rapid mousemove events from the same element SHOULD debounce - we only care about the latest position\n   * This is different from externalEventsMiddleware which handles multiple event types\n   * (click, mouseenter, mouseleave, etc.) that should NOT cancel each other.\n   */\n  var rafId = null;\n  mouseMoveMiddleware.startListening({\n    actionCreator: mouseMoveAction,\n    effect: (action, listenerApi) => {\n      var mousePointer = action.payload;\n\n      // Cancel any pending animation frame\n      if (rafId !== null) {\n        cancelAnimationFrame(rafId);\n      }\n      var chartPointer = (0, _utilGetChartPointer.getChartPointer)(mousePointer);\n\n      // Schedule the dispatch for the next animation frame\n      rafId = requestAnimationFrame(() => {\n        var state = listenerApi.getState();\n        var tooltipEventType = (0, _selectorsSelectTooltipEventType.selectTooltipEventType)(state, state.tooltip.settings.shared);\n        // this functionality only applies to charts that have axes\n        if (tooltipEventType === 'axis') {\n          var activeProps = (0, _selectorsSelectActivePropsFromChartPointer.selectActivePropsFromChartPointer)(state, chartPointer);\n          if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n            listenerApi.dispatch((0, _tooltipSlice.setMouseOverAxisIndex)({\n              activeIndex: activeProps.activeIndex,\n              activeDataKey: undefined,\n              activeCoordinate: activeProps.activeCoordinate\n            }));\n          } else {\n            // this is needed to clear tooltip state when the mouse moves out of the inRange (svg - offset) function, but not yet out of the svg\n            listenerApi.dispatch((0, _tooltipSlice.mouseLeaveChart)());\n          }\n        }\n        rafId = null;\n      });\n    }\n  });\n});","lineCount":99,"map":[[7,2,6,0,"Object"],[7,8,6,0],[7,9,6,0,"defineProperty"],[7,23,6,0],[7,24,6,0,"exports"],[7,31,6,0],[8,4,6,0,"enumerable"],[8,14,6,0],[9,4,6,0,"get"],[9,7,6,0],[9,18,6,0,"get"],[9,19,6,0],[10,6,6,0],[10,13,6,0,"mouseClickAction"],[10,29,6,0],[11,4,6,0],[12,2,6,0],[13,2,7,0,"Object"],[13,8,7,0],[13,9,7,0,"defineProperty"],[13,23,7,0],[13,24,7,0,"exports"],[13,31,7,0],[14,4,7,0,"enumerable"],[14,14,7,0],[15,4,7,0,"get"],[15,7,7,0],[15,18,7,0,"get"],[15,19,7,0],[16,6,7,0],[16,13,7,0,"mouseClickMiddleware"],[16,33,7,0],[17,4,7,0],[18,2,7,0],[19,2,24,0,"Object"],[19,8,24,0],[19,9,24,0,"defineProperty"],[19,23,24,0],[19,24,24,0,"exports"],[19,31,24,0],[20,4,24,0,"enumerable"],[20,14,24,0],[21,4,24,0,"get"],[21,7,24,0],[21,18,24,0,"get"],[21,19,24,0],[22,6,24,0],[22,13,24,0,"mouseMoveAction"],[22,28,24,0],[23,4,24,0],[24,2,24,0],[25,2,25,0,"Object"],[25,8,25,0],[25,9,25,0,"defineProperty"],[25,23,25,0],[25,24,25,0,"exports"],[25,31,25,0],[26,4,25,0,"enumerable"],[26,14,25,0],[27,4,25,0,"get"],[27,7,25,0],[27,18,25,0,"get"],[27,19,25,0],[28,6,25,0],[28,13,25,0,"mouseMoveMiddleware"],[28,32,25,0],[29,4,25,0],[30,2,25,0],[31,2,1,0],[31,6,1,0,"_reduxjsToolkit"],[31,21,1,0],[31,24,1,0,"require"],[31,31,1,0],[31,32,1,0,"_dependencyMap"],[31,46,1,0],[32,2,2,0],[32,6,2,0,"_tooltipSlice"],[32,19,2,0],[32,22,2,0,"require"],[32,29,2,0],[32,30,2,0,"_dependencyMap"],[32,44,2,0],[33,2,3,0],[33,6,3,0,"_selectorsSelectActivePropsFromChartPointer"],[33,49,3,0],[33,52,3,0,"require"],[33,59,3,0],[33,60,3,0,"_dependencyMap"],[33,74,3,0],[34,2,4,0],[34,6,4,0,"_selectorsSelectTooltipEventType"],[34,38,4,0],[34,41,4,0,"require"],[34,48,4,0],[34,49,4,0,"_dependencyMap"],[34,63,4,0],[35,2,5,0],[35,6,5,0,"_utilGetChartPointer"],[35,26,5,0],[35,29,5,0,"require"],[35,36,5,0],[35,37,5,0,"_dependencyMap"],[35,51,5,0],[36,2,6,7],[36,6,6,11,"mouseClickAction"],[36,22,6,27],[36,25,6,30],[36,29,6,30,"createAction"],[36,44,6,42],[36,45,6,42,"createAction"],[36,57,6,42],[36,59,6,43],[36,71,6,55],[36,72,6,56],[37,2,7,7],[37,6,7,11,"mouseClickMiddleware"],[37,26,7,31],[37,29,7,34],[37,33,7,34,"createListenerMiddleware"],[37,48,7,58],[37,49,7,58,"createListenerMiddleware"],[37,73,7,58],[37,75,7,59],[37,76,7,60],[39,2,9,0],[40,2,10,0,"mouseClickMiddleware"],[40,22,10,20],[40,23,10,21,"startListening"],[40,37,10,35],[40,38,10,36],[41,4,11,2,"actionCreator"],[41,17,11,15],[41,19,11,17,"mouseClickAction"],[41,35,11,33],[42,4,12,2,"effect"],[42,10,12,8],[42,12,12,10,"effect"],[42,13,12,11,"action"],[42,19,12,17],[42,21,12,19,"listenerApi"],[42,32,12,30],[42,37,12,35],[43,6,13,4],[43,10,13,8,"mousePointer"],[43,22,13,20],[43,25,13,23,"action"],[43,31,13,29],[43,32,13,30,"payload"],[43,39,13,37],[44,6,14,4],[44,10,14,8,"activeProps"],[44,21,14,19],[44,24,14,22],[44,28,14,22,"selectActivePropsFromChartPointer"],[44,71,14,55],[44,72,14,55,"selectActivePropsFromChartPointer"],[44,105,14,55],[44,107,14,56,"listenerApi"],[44,118,14,67],[44,119,14,68,"getState"],[44,127,14,76],[44,128,14,77],[44,129,14,78],[44,131,14,80],[44,135,14,80,"getChartPointer"],[44,155,14,95],[44,156,14,95,"getChartPointer"],[44,171,14,95],[44,173,14,96,"mousePointer"],[44,185,14,108],[44,186,14,109],[44,187,14,110],[45,6,15,4],[45,10,15,8],[45,11,15,9,"activeProps"],[45,22,15,20],[45,27,15,25],[45,31,15,29],[45,35,15,33,"activeProps"],[45,46,15,44],[45,51,15,49],[45,56,15,54],[45,57,15,55],[45,60,15,58],[45,65,15,63],[45,66,15,64],[45,69,15,67,"activeProps"],[45,80,15,78],[45,81,15,79,"activeIndex"],[45,92,15,90],[45,97,15,95],[45,101,15,99],[45,103,15,101],[46,8,16,6,"listenerApi"],[46,19,16,17],[46,20,16,18,"dispatch"],[46,28,16,26],[46,29,16,27],[46,33,16,27,"setMouseClickAxisIndex"],[46,46,16,49],[46,47,16,49,"setMouseClickAxisIndex"],[46,69,16,49],[46,71,16,50],[47,10,17,8,"activeIndex"],[47,21,17,19],[47,23,17,21,"activeProps"],[47,34,17,32],[47,35,17,33,"activeIndex"],[47,46,17,44],[48,10,18,8,"activeDataKey"],[48,23,18,21],[48,25,18,23,"undefined"],[48,34,18,32],[49,10,19,8,"activeCoordinate"],[49,26,19,24],[49,28,19,26,"activeProps"],[49,39,19,37],[49,40,19,38,"activeCoordinate"],[50,8,20,6],[50,9,20,7],[50,10,20,8],[50,11,20,9],[51,6,21,4],[52,4,22,2],[53,2,23,0],[53,3,23,1],[53,4,23,2],[54,2,24,7],[54,6,24,11,"mouseMoveAction"],[54,21,24,26],[54,24,24,29],[54,28,24,29,"createAction"],[54,43,24,41],[54,44,24,41,"createAction"],[54,56,24,41],[54,58,24,42],[54,69,24,53],[54,70,24,54],[55,2,25,7],[55,6,25,11,"mouseMoveMiddleware"],[55,25,25,30],[55,28,25,33],[55,32,25,33,"createListenerMiddleware"],[55,47,25,57],[55,48,25,57,"createListenerMiddleware"],[55,72,25,57],[55,74,25,58],[55,75,25,59],[57,2,27,0],[58,0,28,0],[59,0,29,0],[60,0,30,0],[61,0,31,0],[62,0,32,0],[63,0,33,0],[64,0,34,0],[65,2,35,0],[65,6,35,4,"rafId"],[65,11,35,9],[65,14,35,12],[65,18,35,16],[66,2,36,0,"mouseMoveMiddleware"],[66,21,36,19],[66,22,36,20,"startListening"],[66,36,36,34],[66,37,36,35],[67,4,37,2,"actionCreator"],[67,17,37,15],[67,19,37,17,"mouseMoveAction"],[67,34,37,32],[68,4,38,2,"effect"],[68,10,38,8],[68,12,38,10,"effect"],[68,13,38,11,"action"],[68,19,38,17],[68,21,38,19,"listenerApi"],[68,32,38,30],[68,37,38,35],[69,6,39,4],[69,10,39,8,"mousePointer"],[69,22,39,20],[69,25,39,23,"action"],[69,31,39,29],[69,32,39,30,"payload"],[69,39,39,37],[71,6,41,4],[72,6,42,4],[72,10,42,8,"rafId"],[72,15,42,13],[72,20,42,18],[72,24,42,22],[72,26,42,24],[73,8,43,6,"cancelAnimationFrame"],[73,28,43,26],[73,29,43,27,"rafId"],[73,34,43,32],[73,35,43,33],[74,6,44,4],[75,6,45,4],[75,10,45,8,"chartPointer"],[75,22,45,20],[75,25,45,23],[75,29,45,23,"getChartPointer"],[75,49,45,38],[75,50,45,38,"getChartPointer"],[75,65,45,38],[75,67,45,39,"mousePointer"],[75,79,45,51],[75,80,45,52],[77,6,47,4],[78,6,48,4,"rafId"],[78,11,48,9],[78,14,48,12,"requestAnimationFrame"],[78,35,48,33],[78,36,48,34],[78,42,48,40],[79,8,49,6],[79,12,49,10,"state"],[79,17,49,15],[79,20,49,18,"listenerApi"],[79,31,49,29],[79,32,49,30,"getState"],[79,40,49,38],[79,41,49,39],[79,42,49,40],[80,8,50,6],[80,12,50,10,"tooltipEventType"],[80,28,50,26],[80,31,50,29],[80,35,50,29,"selectTooltipEventType"],[80,67,50,51],[80,68,50,51,"selectTooltipEventType"],[80,90,50,51],[80,92,50,52,"state"],[80,97,50,57],[80,99,50,59,"state"],[80,104,50,64],[80,105,50,65,"tooltip"],[80,112,50,72],[80,113,50,73,"settings"],[80,121,50,81],[80,122,50,82,"shared"],[80,128,50,88],[80,129,50,89],[81,8,51,6],[82,8,52,6],[82,12,52,10,"tooltipEventType"],[82,28,52,26],[82,33,52,31],[82,39,52,37],[82,41,52,39],[83,10,53,8],[83,14,53,12,"activeProps"],[83,25,53,23],[83,28,53,26],[83,32,53,26,"selectActivePropsFromChartPointer"],[83,75,53,59],[83,76,53,59,"selectActivePropsFromChartPointer"],[83,109,53,59],[83,111,53,60,"state"],[83,116,53,65],[83,118,53,67,"chartPointer"],[83,130,53,79],[83,131,53,80],[84,10,54,8],[84,14,54,12],[84,15,54,13,"activeProps"],[84,26,54,24],[84,31,54,29],[84,35,54,33],[84,39,54,37,"activeProps"],[84,50,54,48],[84,55,54,53],[84,60,54,58],[84,61,54,59],[84,64,54,62],[84,69,54,67],[84,70,54,68],[84,73,54,71,"activeProps"],[84,84,54,82],[84,85,54,83,"activeIndex"],[84,96,54,94],[84,101,54,99],[84,105,54,103],[84,107,54,105],[85,12,55,10,"listenerApi"],[85,23,55,21],[85,24,55,22,"dispatch"],[85,32,55,30],[85,33,55,31],[85,37,55,31,"setMouseOverAxisIndex"],[85,50,55,52],[85,51,55,52,"setMouseOverAxisIndex"],[85,72,55,52],[85,74,55,53],[86,14,56,12,"activeIndex"],[86,25,56,23],[86,27,56,25,"activeProps"],[86,38,56,36],[86,39,56,37,"activeIndex"],[86,50,56,48],[87,14,57,12,"activeDataKey"],[87,27,57,25],[87,29,57,27,"undefined"],[87,38,57,36],[88,14,58,12,"activeCoordinate"],[88,30,58,28],[88,32,58,30,"activeProps"],[88,43,58,41],[88,44,58,42,"activeCoordinate"],[89,12,59,10],[89,13,59,11],[89,14,59,12],[89,15,59,13],[90,10,60,8],[90,11,60,9],[90,17,60,15],[91,12,61,10],[92,12,62,10,"listenerApi"],[92,23,62,21],[92,24,62,22,"dispatch"],[92,32,62,30],[92,33,62,31],[92,37,62,31,"mouseLeaveChart"],[92,50,62,46],[92,51,62,46,"mouseLeaveChart"],[92,66,62,46],[92,68,62,47],[92,69,62,48],[92,70,62,49],[93,10,63,8],[94,8,64,6],[95,8,65,6,"rafId"],[95,13,65,11],[95,16,65,14],[95,20,65,18],[96,6,66,4],[96,7,66,5],[96,8,66,6],[97,4,67,2],[98,2,68,0],[98,3,68,1],[98,4,68,2],[99,0,68,3],[99,3]],"functionMap":{"names":["<global>","mouseClickMiddleware.startListening$argument_0.effect","mouseMoveMiddleware.startListening$argument_0.effect","requestAnimationFrame$argument_0"],"mappings":"AAA;UCW;GDU;UEgB;kCCU;KDkB;GFC"},"hasCjsExports":false},"type":"js/module"}]}