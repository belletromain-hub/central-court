{"dependencies":[{"name":"@reduxjs/toolkit","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":74,"index":74}}],"key":"54oW2xbJyHE290wIe7uf9enEy7w=","exportNames":["*"],"imports":1}},{"name":"./selectors/tooltipSelectors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":75},"end":{"line":2,"column":173,"index":248}}],"key":"LjVnO43kHX5fxp3huwvlUqHSkdc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"externalEventAction\", {\n    enumerable: true,\n    get: function () {\n      return externalEventAction;\n    }\n  });\n  Object.defineProperty(exports, \"externalEventsMiddleware\", {\n    enumerable: true,\n    get: function () {\n      return externalEventsMiddleware;\n    }\n  });\n  var _reduxjsToolkit = require(_dependencyMap[0], \"@reduxjs/toolkit\");\n  var _selectorsTooltipSelectors = require(_dependencyMap[1], \"./selectors/tooltipSelectors\");\n  var externalEventAction = (0, _reduxjsToolkit.createAction)('externalEvent');\n  var externalEventsMiddleware = (0, _reduxjsToolkit.createListenerMiddleware)();\n\n  /*\n   * We need a Map keyed by event type because this middleware handles MULTIPLE different event types\n   * (click, mouseenter, mouseleave, mousedown, mouseup, contextmenu, dblclick, touchstart, touchmove, touchend)\n   * from the same DOM element. Different event types should NOT cancel each other's animation frames.\n   * For example, a click event and a mousemove event can happen in quick succession and both should be processed.\n   * This is different from mouseMoveMiddleware which only handles one event type and uses a single rafId.\n   */\n  var rafIdMap = new Map();\n  externalEventsMiddleware.startListening({\n    actionCreator: externalEventAction,\n    effect: (action, listenerApi) => {\n      var {\n        handler,\n        reactEvent\n      } = action.payload;\n      if (handler == null) {\n        return;\n      }\n      reactEvent.persist();\n      var eventType = reactEvent.type;\n\n      // Cancel any pending animation frame for this event type\n      var existingRafId = rafIdMap.get(eventType);\n      if (existingRafId !== undefined) {\n        cancelAnimationFrame(existingRafId);\n      }\n      var rafId = requestAnimationFrame(() => {\n        try {\n          /*\n           * Here it is important that we get the latest state inside the animation frame callback,\n           * not from the outer scope, because there may have been other actions dispatched\n           * between the time the event was fired and the animation frame callback is executed.\n           * One of those actions is the one that actually sets the active tooltip state!\n           */\n          var state = listenerApi.getState();\n          var nextState = {\n            activeCoordinate: (0, _selectorsTooltipSelectors.selectActiveTooltipCoordinate)(state),\n            activeDataKey: (0, _selectorsTooltipSelectors.selectActiveTooltipDataKey)(state),\n            activeIndex: (0, _selectorsTooltipSelectors.selectActiveTooltipIndex)(state),\n            activeLabel: (0, _selectorsTooltipSelectors.selectActiveLabel)(state),\n            activeTooltipIndex: (0, _selectorsTooltipSelectors.selectActiveTooltipIndex)(state),\n            isTooltipActive: (0, _selectorsTooltipSelectors.selectIsTooltipActive)(state)\n          };\n          handler(nextState, reactEvent);\n        } finally {\n          rafIdMap.delete(eventType);\n        }\n      });\n      rafIdMap.set(eventType, rafId);\n    }\n  });\n});","lineCount":75,"map":[[7,2,3,0,"Object"],[7,8,3,0],[7,9,3,0,"defineProperty"],[7,23,3,0],[7,24,3,0,"exports"],[7,31,3,0],[8,4,3,0,"enumerable"],[8,14,3,0],[9,4,3,0,"get"],[9,7,3,0],[9,18,3,0,"get"],[9,19,3,0],[10,6,3,0],[10,13,3,0,"externalEventAction"],[10,32,3,0],[11,4,3,0],[12,2,3,0],[13,2,4,0,"Object"],[13,8,4,0],[13,9,4,0,"defineProperty"],[13,23,4,0],[13,24,4,0,"exports"],[13,31,4,0],[14,4,4,0,"enumerable"],[14,14,4,0],[15,4,4,0,"get"],[15,7,4,0],[15,18,4,0,"get"],[15,19,4,0],[16,6,4,0],[16,13,4,0,"externalEventsMiddleware"],[16,37,4,0],[17,4,4,0],[18,2,4,0],[19,2,1,0],[19,6,1,0,"_reduxjsToolkit"],[19,21,1,0],[19,24,1,0,"require"],[19,31,1,0],[19,32,1,0,"_dependencyMap"],[19,46,1,0],[20,2,2,0],[20,6,2,0,"_selectorsTooltipSelectors"],[20,32,2,0],[20,35,2,0,"require"],[20,42,2,0],[20,43,2,0,"_dependencyMap"],[20,57,2,0],[21,2,3,7],[21,6,3,11,"externalEventAction"],[21,25,3,30],[21,28,3,33],[21,32,3,33,"createAction"],[21,47,3,45],[21,48,3,45,"createAction"],[21,60,3,45],[21,62,3,46],[21,77,3,61],[21,78,3,62],[22,2,4,7],[22,6,4,11,"externalEventsMiddleware"],[22,30,4,35],[22,33,4,38],[22,37,4,38,"createListenerMiddleware"],[22,52,4,62],[22,53,4,62,"createListenerMiddleware"],[22,77,4,62],[22,79,4,63],[22,80,4,64],[24,2,6,0],[25,0,7,0],[26,0,8,0],[27,0,9,0],[28,0,10,0],[29,0,11,0],[30,0,12,0],[31,2,13,0],[31,6,13,4,"rafIdMap"],[31,14,13,12],[31,17,13,15],[31,21,13,19,"Map"],[31,24,13,22],[31,25,13,23],[31,26,13,24],[32,2,14,0,"externalEventsMiddleware"],[32,26,14,24],[32,27,14,25,"startListening"],[32,41,14,39],[32,42,14,40],[33,4,15,2,"actionCreator"],[33,17,15,15],[33,19,15,17,"externalEventAction"],[33,38,15,36],[34,4,16,2,"effect"],[34,10,16,8],[34,12,16,10,"effect"],[34,13,16,11,"action"],[34,19,16,17],[34,21,16,19,"listenerApi"],[34,32,16,30],[34,37,16,35],[35,6,17,4],[35,10,17,8],[36,8,18,6,"handler"],[36,15,18,13],[37,8,19,6,"reactEvent"],[38,6,20,4],[38,7,20,5],[38,10,20,8,"action"],[38,16,20,14],[38,17,20,15,"payload"],[38,24,20,22],[39,6,21,4],[39,10,21,8,"handler"],[39,17,21,15],[39,21,21,19],[39,25,21,23],[39,27,21,25],[40,8,22,6],[41,6,23,4],[42,6,24,4,"reactEvent"],[42,16,24,14],[42,17,24,15,"persist"],[42,24,24,22],[42,25,24,23],[42,26,24,24],[43,6,25,4],[43,10,25,8,"eventType"],[43,19,25,17],[43,22,25,20,"reactEvent"],[43,32,25,30],[43,33,25,31,"type"],[43,37,25,35],[45,6,27,4],[46,6,28,4],[46,10,28,8,"existingRafId"],[46,23,28,21],[46,26,28,24,"rafIdMap"],[46,34,28,32],[46,35,28,33,"get"],[46,38,28,36],[46,39,28,37,"eventType"],[46,48,28,46],[46,49,28,47],[47,6,29,4],[47,10,29,8,"existingRafId"],[47,23,29,21],[47,28,29,26,"undefined"],[47,37,29,35],[47,39,29,37],[48,8,30,6,"cancelAnimationFrame"],[48,28,30,26],[48,29,30,27,"existingRafId"],[48,42,30,40],[48,43,30,41],[49,6,31,4],[50,6,32,4],[50,10,32,8,"rafId"],[50,15,32,13],[50,18,32,16,"requestAnimationFrame"],[50,39,32,37],[50,40,32,38],[50,46,32,44],[51,8,33,6],[51,12,33,10],[52,10,34,8],[53,0,35,0],[54,0,36,0],[55,0,37,0],[56,0,38,0],[57,0,39,0],[58,10,40,8],[58,14,40,12,"state"],[58,19,40,17],[58,22,40,20,"listenerApi"],[58,33,40,31],[58,34,40,32,"getState"],[58,42,40,40],[58,43,40,41],[58,44,40,42],[59,10,41,8],[59,14,41,12,"nextState"],[59,23,41,21],[59,26,41,24],[60,12,42,10,"activeCoordinate"],[60,28,42,26],[60,30,42,28],[60,34,42,28,"selectActiveTooltipCoordinate"],[60,60,42,57],[60,61,42,57,"selectActiveTooltipCoordinate"],[60,90,42,57],[60,92,42,58,"state"],[60,97,42,63],[60,98,42,64],[61,12,43,10,"activeDataKey"],[61,25,43,23],[61,27,43,25],[61,31,43,25,"selectActiveTooltipDataKey"],[61,57,43,51],[61,58,43,51,"selectActiveTooltipDataKey"],[61,84,43,51],[61,86,43,52,"state"],[61,91,43,57],[61,92,43,58],[62,12,44,10,"activeIndex"],[62,23,44,21],[62,25,44,23],[62,29,44,23,"selectActiveTooltipIndex"],[62,55,44,47],[62,56,44,47,"selectActiveTooltipIndex"],[62,80,44,47],[62,82,44,48,"state"],[62,87,44,53],[62,88,44,54],[63,12,45,10,"activeLabel"],[63,23,45,21],[63,25,45,23],[63,29,45,23,"selectActiveLabel"],[63,55,45,40],[63,56,45,40,"selectActiveLabel"],[63,73,45,40],[63,75,45,41,"state"],[63,80,45,46],[63,81,45,47],[64,12,46,10,"activeTooltipIndex"],[64,30,46,28],[64,32,46,30],[64,36,46,30,"selectActiveTooltipIndex"],[64,62,46,54],[64,63,46,54,"selectActiveTooltipIndex"],[64,87,46,54],[64,89,46,55,"state"],[64,94,46,60],[64,95,46,61],[65,12,47,10,"isTooltipActive"],[65,27,47,25],[65,29,47,27],[65,33,47,27,"selectIsTooltipActive"],[65,59,47,48],[65,60,47,48,"selectIsTooltipActive"],[65,81,47,48],[65,83,47,49,"state"],[65,88,47,54],[66,10,48,8],[66,11,48,9],[67,10,49,8,"handler"],[67,17,49,15],[67,18,49,16,"nextState"],[67,27,49,25],[67,29,49,27,"reactEvent"],[67,39,49,37],[67,40,49,38],[68,8,50,6],[68,9,50,7],[68,18,50,16],[69,10,51,8,"rafIdMap"],[69,18,51,16],[69,19,51,17,"delete"],[69,25,51,23],[69,26,51,24,"eventType"],[69,35,51,33],[69,36,51,34],[70,8,52,6],[71,6,53,4],[71,7,53,5],[71,8,53,6],[72,6,54,4,"rafIdMap"],[72,14,54,12],[72,15,54,13,"set"],[72,18,54,16],[72,19,54,17,"eventType"],[72,28,54,26],[72,30,54,28,"rafId"],[72,35,54,33],[72,36,54,34],[73,4,55,2],[74,2,56,0],[74,3,56,1],[74,4,56,2],[75,0,56,3],[75,3]],"functionMap":{"names":["<global>","startListening$argument_0.effect","requestAnimationFrame$argument_0"],"mappings":"AAA;UCe;sCCgB;KDqB;GDE"},"hasCjsExports":false},"type":"js/module"}]}