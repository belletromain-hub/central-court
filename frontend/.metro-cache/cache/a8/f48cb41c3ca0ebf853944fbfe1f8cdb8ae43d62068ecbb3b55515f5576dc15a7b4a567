{"dependencies":[{"name":"@reduxjs/toolkit","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":15,"index":168},"end":{"line":7,"column":42,"index":195}}],"key":"+3+hXPU0c7VkDZpFcniYIlEI8Pc=","exportNames":["*"],"imports":1}},{"name":"./selectors/tooltipSelectors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":24,"index":221},"end":{"line":8,"column":63,"index":260}}],"key":"yllQ/KzwdV2amC5aMNkcuWWg+Ak=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.externalEventsMiddleware = exports.externalEventAction = void 0;\n  var _toolkit = require(_dependencyMap[0], \"@reduxjs/toolkit\");\n  var _tooltipSelectors = require(_dependencyMap[1], \"./selectors/tooltipSelectors\");\n  var externalEventAction = exports.externalEventAction = (0, _toolkit.createAction)('externalEvent');\n  var externalEventsMiddleware = exports.externalEventsMiddleware = (0, _toolkit.createListenerMiddleware)();\n\n  /*\n   * We need a Map keyed by event type because this middleware handles MULTIPLE different event types\n   * (click, mouseenter, mouseleave, mousedown, mouseup, contextmenu, dblclick, touchstart, touchmove, touchend)\n   * from the same DOM element. Different event types should NOT cancel each other's animation frames.\n   * For example, a click event and a mousemove event can happen in quick succession and both should be processed.\n   * This is different from mouseMoveMiddleware which only handles one event type and uses a single rafId.\n   */\n  var rafIdMap = new Map();\n  externalEventsMiddleware.startListening({\n    actionCreator: externalEventAction,\n    effect: (action, listenerApi) => {\n      var {\n        handler,\n        reactEvent\n      } = action.payload;\n      if (handler == null) {\n        return;\n      }\n      reactEvent.persist();\n      var eventType = reactEvent.type;\n\n      // Cancel any pending animation frame for this event type\n      var existingRafId = rafIdMap.get(eventType);\n      if (existingRafId !== undefined) {\n        cancelAnimationFrame(existingRafId);\n      }\n      var rafId = requestAnimationFrame(() => {\n        try {\n          /*\n           * Here it is important that we get the latest state inside the animation frame callback,\n           * not from the outer scope, because there may have been other actions dispatched\n           * between the time the event was fired and the animation frame callback is executed.\n           * One of those actions is the one that actually sets the active tooltip state!\n           */\n          var state = listenerApi.getState();\n          var nextState = {\n            activeCoordinate: (0, _tooltipSelectors.selectActiveTooltipCoordinate)(state),\n            activeDataKey: (0, _tooltipSelectors.selectActiveTooltipDataKey)(state),\n            activeIndex: (0, _tooltipSelectors.selectActiveTooltipIndex)(state),\n            activeLabel: (0, _tooltipSelectors.selectActiveLabel)(state),\n            activeTooltipIndex: (0, _tooltipSelectors.selectActiveTooltipIndex)(state),\n            isTooltipActive: (0, _tooltipSelectors.selectIsTooltipActive)(state)\n          };\n          handler(nextState, reactEvent);\n        } finally {\n          rafIdMap.delete(eventType);\n        }\n      });\n      rafIdMap.set(eventType, rafId);\n    }\n  });\n});","lineCount":64,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"externalEventsMiddleware"],[7,34,6,32],[7,37,6,35,"exports"],[7,44,6,42],[7,45,6,43,"externalEventAction"],[7,64,6,62],[7,67,6,65],[7,72,6,70],[7,73,6,71],[8,2,7,0],[8,6,7,4,"_toolkit"],[8,14,7,12],[8,17,7,15,"require"],[8,24,7,22],[8,25,7,22,"_dependencyMap"],[8,39,7,22],[8,62,7,41],[8,63,7,42],[9,2,8,0],[9,6,8,4,"_tooltipSelectors"],[9,23,8,21],[9,26,8,24,"require"],[9,33,8,31],[9,34,8,31,"_dependencyMap"],[9,48,8,31],[9,83,8,62],[9,84,8,63],[10,2,9,0],[10,6,9,4,"externalEventAction"],[10,25,9,23],[10,28,9,26,"exports"],[10,35,9,33],[10,36,9,34,"externalEventAction"],[10,55,9,53],[10,58,9,56],[10,59,9,57],[10,60,9,58],[10,62,9,60,"_toolkit"],[10,70,9,68],[10,71,9,69,"createAction"],[10,83,9,81],[10,85,9,83],[10,100,9,98],[10,101,9,99],[11,2,10,0],[11,6,10,4,"externalEventsMiddleware"],[11,30,10,28],[11,33,10,31,"exports"],[11,40,10,38],[11,41,10,39,"externalEventsMiddleware"],[11,65,10,63],[11,68,10,66],[11,69,10,67],[11,70,10,68],[11,72,10,70,"_toolkit"],[11,80,10,78],[11,81,10,79,"createListenerMiddleware"],[11,105,10,103],[11,107,10,105],[11,108,10,106],[13,2,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[17,0,16,0],[18,0,17,0],[19,0,18,0],[20,2,19,0],[20,6,19,4,"rafIdMap"],[20,14,19,12],[20,17,19,15],[20,21,19,19,"Map"],[20,24,19,22],[20,25,19,23],[20,26,19,24],[21,2,20,0,"externalEventsMiddleware"],[21,26,20,24],[21,27,20,25,"startListening"],[21,41,20,39],[21,42,20,40],[22,4,21,2,"actionCreator"],[22,17,21,15],[22,19,21,17,"externalEventAction"],[22,38,21,36],[23,4,22,2,"effect"],[23,10,22,8],[23,12,22,10,"effect"],[23,13,22,11,"action"],[23,19,22,17],[23,21,22,19,"listenerApi"],[23,32,22,30],[23,37,22,35],[24,6,23,4],[24,10,23,8],[25,8,24,6,"handler"],[25,15,24,13],[26,8,25,6,"reactEvent"],[27,6,26,4],[27,7,26,5],[27,10,26,8,"action"],[27,16,26,14],[27,17,26,15,"payload"],[27,24,26,22],[28,6,27,4],[28,10,27,8,"handler"],[28,17,27,15],[28,21,27,19],[28,25,27,23],[28,27,27,25],[29,8,28,6],[30,6,29,4],[31,6,30,4,"reactEvent"],[31,16,30,14],[31,17,30,15,"persist"],[31,24,30,22],[31,25,30,23],[31,26,30,24],[32,6,31,4],[32,10,31,8,"eventType"],[32,19,31,17],[32,22,31,20,"reactEvent"],[32,32,31,30],[32,33,31,31,"type"],[32,37,31,35],[34,6,33,4],[35,6,34,4],[35,10,34,8,"existingRafId"],[35,23,34,21],[35,26,34,24,"rafIdMap"],[35,34,34,32],[35,35,34,33,"get"],[35,38,34,36],[35,39,34,37,"eventType"],[35,48,34,46],[35,49,34,47],[36,6,35,4],[36,10,35,8,"existingRafId"],[36,23,35,21],[36,28,35,26,"undefined"],[36,37,35,35],[36,39,35,37],[37,8,36,6,"cancelAnimationFrame"],[37,28,36,26],[37,29,36,27,"existingRafId"],[37,42,36,40],[37,43,36,41],[38,6,37,4],[39,6,38,4],[39,10,38,8,"rafId"],[39,15,38,13],[39,18,38,16,"requestAnimationFrame"],[39,39,38,37],[39,40,38,38],[39,46,38,44],[40,8,39,6],[40,12,39,10],[41,10,40,8],[42,0,41,0],[43,0,42,0],[44,0,43,0],[45,0,44,0],[46,0,45,0],[47,10,46,8],[47,14,46,12,"state"],[47,19,46,17],[47,22,46,20,"listenerApi"],[47,33,46,31],[47,34,46,32,"getState"],[47,42,46,40],[47,43,46,41],[47,44,46,42],[48,10,47,8],[48,14,47,12,"nextState"],[48,23,47,21],[48,26,47,24],[49,12,48,10,"activeCoordinate"],[49,28,48,26],[49,30,48,28],[49,31,48,29],[49,32,48,30],[49,34,48,32,"_tooltipSelectors"],[49,51,48,49],[49,52,48,50,"selectActiveTooltipCoordinate"],[49,81,48,79],[49,83,48,81,"state"],[49,88,48,86],[49,89,48,87],[50,12,49,10,"activeDataKey"],[50,25,49,23],[50,27,49,25],[50,28,49,26],[50,29,49,27],[50,31,49,29,"_tooltipSelectors"],[50,48,49,46],[50,49,49,47,"selectActiveTooltipDataKey"],[50,75,49,73],[50,77,49,75,"state"],[50,82,49,80],[50,83,49,81],[51,12,50,10,"activeIndex"],[51,23,50,21],[51,25,50,23],[51,26,50,24],[51,27,50,25],[51,29,50,27,"_tooltipSelectors"],[51,46,50,44],[51,47,50,45,"selectActiveTooltipIndex"],[51,71,50,69],[51,73,50,71,"state"],[51,78,50,76],[51,79,50,77],[52,12,51,10,"activeLabel"],[52,23,51,21],[52,25,51,23],[52,26,51,24],[52,27,51,25],[52,29,51,27,"_tooltipSelectors"],[52,46,51,44],[52,47,51,45,"selectActiveLabel"],[52,64,51,62],[52,66,51,64,"state"],[52,71,51,69],[52,72,51,70],[53,12,52,10,"activeTooltipIndex"],[53,30,52,28],[53,32,52,30],[53,33,52,31],[53,34,52,32],[53,36,52,34,"_tooltipSelectors"],[53,53,52,51],[53,54,52,52,"selectActiveTooltipIndex"],[53,78,52,76],[53,80,52,78,"state"],[53,85,52,83],[53,86,52,84],[54,12,53,10,"isTooltipActive"],[54,27,53,25],[54,29,53,27],[54,30,53,28],[54,31,53,29],[54,33,53,31,"_tooltipSelectors"],[54,50,53,48],[54,51,53,49,"selectIsTooltipActive"],[54,72,53,70],[54,74,53,72,"state"],[54,79,53,77],[55,10,54,8],[55,11,54,9],[56,10,55,8,"handler"],[56,17,55,15],[56,18,55,16,"nextState"],[56,27,55,25],[56,29,55,27,"reactEvent"],[56,39,55,37],[56,40,55,38],[57,8,56,6],[57,9,56,7],[57,18,56,16],[58,10,57,8,"rafIdMap"],[58,18,57,16],[58,19,57,17,"delete"],[58,25,57,23],[58,26,57,24,"eventType"],[58,35,57,33],[58,36,57,34],[59,8,58,6],[60,6,59,4],[60,7,59,5],[60,8,59,6],[61,6,60,4,"rafIdMap"],[61,14,60,12],[61,15,60,13,"set"],[61,18,60,16],[61,19,60,17,"eventType"],[61,28,60,26],[61,30,60,28,"rafId"],[61,35,60,33],[61,36,60,34],[62,4,61,2],[63,2,62,0],[63,3,62,1],[63,4,62,2],[64,0,62,3],[64,3]],"functionMap":{"names":["<global>","startListening$argument_0.effect","requestAnimationFrame$argument_0"],"mappings":"AAA;UCqB;sCCgB;KDqB;GDE"},"hasCjsExports":true},"type":"js/module"}]}