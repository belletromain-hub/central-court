{"dependencies":[{"name":"../../types/StackedGraphicalItem","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":61,"index":61}}],"key":"Zu6QO6l886tx9DBE4dyvwYqNLbA=","exportNames":["*"],"imports":1}},{"name":"../../../util/DataUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":62},"end":{"line":2,"column":69,"index":131}}],"key":"yw11XBPI7Q804rWfcXzsaDwUyi4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"combineBarSizeList\", {\n    enumerable: true,\n    get: function () {\n      return combineBarSizeList;\n    }\n  });\n  var _typesStackedGraphicalItem = require(_dependencyMap[0], \"../../types/StackedGraphicalItem\");\n  var _utilDataUtils = require(_dependencyMap[1], \"../../../util/DataUtils\");\n  var getBarSize = (globalSize, totalSize, selfSize) => {\n    var barSize = selfSize !== null && selfSize !== void 0 ? selfSize : globalSize;\n    if ((0, _utilDataUtils.isNullish)(barSize)) {\n      return undefined;\n    }\n    return (0, _utilDataUtils.getPercentValue)(barSize, totalSize, 0);\n  };\n  var combineBarSizeList = (allBars, globalSize, totalSize) => {\n    var initialValue = {};\n    var stackedBars = allBars.filter(_typesStackedGraphicalItem.isStacked);\n    var unstackedBars = allBars.filter(b => b.stackId == null);\n    var groupByStack = stackedBars.reduce((acc, bar) => {\n      var s = acc[bar.stackId];\n      if (s == null) {\n        s = [];\n      }\n      s.push(bar);\n      acc[bar.stackId] = s;\n      return acc;\n    }, initialValue);\n    var stackedSizeList = Object.entries(groupByStack).map(_ref => {\n      var _bars$;\n      var [stackId, bars] = _ref;\n      var dataKeys = bars.map(b => b.dataKey);\n      var barSize = getBarSize(globalSize, totalSize, (_bars$ = bars[0]) === null || _bars$ === void 0 ? void 0 : _bars$.barSize);\n      return {\n        stackId,\n        dataKeys,\n        barSize\n      };\n    });\n    var unstackedSizeList = unstackedBars.map(b => {\n      var dataKeys = [b.dataKey].filter(dk => dk != null);\n      var barSize = getBarSize(globalSize, totalSize, b.barSize);\n      return {\n        stackId: undefined,\n        dataKeys,\n        barSize\n      };\n    });\n    return [...stackedSizeList, ...unstackedSizeList];\n  };\n});","lineCount":57,"map":[[7,2,10,0,"Object"],[7,8,10,0],[7,9,10,0,"defineProperty"],[7,23,10,0],[7,24,10,0,"exports"],[7,31,10,0],[8,4,10,0,"enumerable"],[8,14,10,0],[9,4,10,0,"get"],[9,7,10,0],[9,18,10,0,"get"],[9,19,10,0],[10,6,10,0],[10,13,10,0,"combineBarSizeList"],[10,31,10,0],[11,4,10,0],[12,2,10,0],[13,2,1,0],[13,6,1,0,"_typesStackedGraphicalItem"],[13,32,1,0],[13,35,1,0,"require"],[13,42,1,0],[13,43,1,0,"_dependencyMap"],[13,57,1,0],[14,2,2,0],[14,6,2,0,"_utilDataUtils"],[14,20,2,0],[14,23,2,0,"require"],[14,30,2,0],[14,31,2,0,"_dependencyMap"],[14,45,2,0],[15,2,3,0],[15,6,3,4,"getBarSize"],[15,16,3,14],[15,19,3,17,"getBarSize"],[15,20,3,18,"globalSize"],[15,30,3,28],[15,32,3,30,"totalSize"],[15,41,3,39],[15,43,3,41,"selfSize"],[15,51,3,49],[15,56,3,54],[16,4,4,2],[16,8,4,6,"barSize"],[16,15,4,13],[16,18,4,16,"selfSize"],[16,26,4,24],[16,31,4,29],[16,35,4,33],[16,39,4,37,"selfSize"],[16,47,4,45],[16,52,4,50],[16,57,4,55],[16,58,4,56],[16,61,4,59,"selfSize"],[16,69,4,67],[16,72,4,70,"globalSize"],[16,82,4,80],[17,4,5,2],[17,8,5,6],[17,12,5,6,"isNullish"],[17,26,5,15],[17,27,5,15,"isNullish"],[17,36,5,15],[17,38,5,16,"barSize"],[17,45,5,23],[17,46,5,24],[17,48,5,26],[18,6,6,4],[18,13,6,11,"undefined"],[18,22,6,20],[19,4,7,2],[20,4,8,2],[20,11,8,9],[20,15,8,9,"getPercentValue"],[20,29,8,24],[20,30,8,24,"getPercentValue"],[20,45,8,24],[20,47,8,25,"barSize"],[20,54,8,32],[20,56,8,34,"totalSize"],[20,65,8,43],[20,67,8,45],[20,68,8,46],[20,69,8,47],[21,2,9,0],[21,3,9,1],[22,2,10,7],[22,6,10,11,"combineBarSizeList"],[22,24,10,29],[22,27,10,32,"combineBarSizeList"],[22,28,10,33,"allBars"],[22,35,10,40],[22,37,10,42,"globalSize"],[22,47,10,52],[22,49,10,54,"totalSize"],[22,58,10,63],[22,63,10,68],[23,4,11,2],[23,8,11,6,"initialValue"],[23,20,11,18],[23,23,11,21],[23,24,11,22],[23,25,11,23],[24,4,12,2],[24,8,12,6,"stackedBars"],[24,19,12,17],[24,22,12,20,"allBars"],[24,29,12,27],[24,30,12,28,"filter"],[24,36,12,34],[24,37,12,35,"isStacked"],[24,63,12,44],[24,64,12,44,"isStacked"],[24,73,12,44],[24,74,12,45],[25,4,13,2],[25,8,13,6,"unstackedBars"],[25,21,13,19],[25,24,13,22,"allBars"],[25,31,13,29],[25,32,13,30,"filter"],[25,38,13,36],[25,39,13,37,"b"],[25,40,13,38],[25,44,13,42,"b"],[25,45,13,43],[25,46,13,44,"stackId"],[25,53,13,51],[25,57,13,55],[25,61,13,59],[25,62,13,60],[26,4,14,2],[26,8,14,6,"groupByStack"],[26,20,14,18],[26,23,14,21,"stackedBars"],[26,34,14,32],[26,35,14,33,"reduce"],[26,41,14,39],[26,42,14,40],[26,43,14,41,"acc"],[26,46,14,44],[26,48,14,46,"bar"],[26,51,14,49],[26,56,14,54],[27,6,15,4],[27,10,15,8,"s"],[27,11,15,9],[27,14,15,12,"acc"],[27,17,15,15],[27,18,15,16,"bar"],[27,21,15,19],[27,22,15,20,"stackId"],[27,29,15,27],[27,30,15,28],[28,6,16,4],[28,10,16,8,"s"],[28,11,16,9],[28,15,16,13],[28,19,16,17],[28,21,16,19],[29,8,17,6,"s"],[29,9,17,7],[29,12,17,10],[29,14,17,12],[30,6,18,4],[31,6,19,4,"s"],[31,7,19,5],[31,8,19,6,"push"],[31,12,19,10],[31,13,19,11,"bar"],[31,16,19,14],[31,17,19,15],[32,6,20,4,"acc"],[32,9,20,7],[32,10,20,8,"bar"],[32,13,20,11],[32,14,20,12,"stackId"],[32,21,20,19],[32,22,20,20],[32,25,20,23,"s"],[32,26,20,24],[33,6,21,4],[33,13,21,11,"acc"],[33,16,21,14],[34,4,22,2],[34,5,22,3],[34,7,22,5,"initialValue"],[34,19,22,17],[34,20,22,18],[35,4,23,2],[35,8,23,6,"stackedSizeList"],[35,23,23,21],[35,26,23,24,"Object"],[35,32,23,30],[35,33,23,31,"entries"],[35,40,23,38],[35,41,23,39,"groupByStack"],[35,53,23,51],[35,54,23,52],[35,55,23,53,"map"],[35,58,23,56],[35,59,23,57,"_ref"],[35,63,23,61],[35,67,23,65],[36,6,24,4],[36,10,24,8,"_bars$"],[36,16,24,14],[37,6,25,4],[37,10,25,8],[37,11,25,9,"stackId"],[37,18,25,16],[37,20,25,18,"bars"],[37,24,25,22],[37,25,25,23],[37,28,25,26,"_ref"],[37,32,25,30],[38,6,26,4],[38,10,26,8,"dataKeys"],[38,18,26,16],[38,21,26,19,"bars"],[38,25,26,23],[38,26,26,24,"map"],[38,29,26,27],[38,30,26,28,"b"],[38,31,26,29],[38,35,26,33,"b"],[38,36,26,34],[38,37,26,35,"dataKey"],[38,44,26,42],[38,45,26,43],[39,6,27,4],[39,10,27,8,"barSize"],[39,17,27,15],[39,20,27,18,"getBarSize"],[39,30,27,28],[39,31,27,29,"globalSize"],[39,41,27,39],[39,43,27,41,"totalSize"],[39,52,27,50],[39,54,27,52],[39,55,27,53,"_bars$"],[39,61,27,59],[39,64,27,62,"bars"],[39,68,27,66],[39,69,27,67],[39,70,27,68],[39,71,27,69],[39,77,27,75],[39,81,27,79],[39,85,27,83,"_bars$"],[39,91,27,89],[39,96,27,94],[39,101,27,99],[39,102,27,100],[39,105,27,103],[39,110,27,108],[39,111,27,109],[39,114,27,112,"_bars$"],[39,120,27,118],[39,121,27,119,"barSize"],[39,128,27,126],[39,129,27,127],[40,6,28,4],[40,13,28,11],[41,8,29,6,"stackId"],[41,15,29,13],[42,8,30,6,"dataKeys"],[42,16,30,14],[43,8,31,6,"barSize"],[44,6,32,4],[44,7,32,5],[45,4,33,2],[45,5,33,3],[45,6,33,4],[46,4,34,2],[46,8,34,6,"unstackedSizeList"],[46,25,34,23],[46,28,34,26,"unstackedBars"],[46,41,34,39],[46,42,34,40,"map"],[46,45,34,43],[46,46,34,44,"b"],[46,47,34,45],[46,51,34,49],[47,6,35,4],[47,10,35,8,"dataKeys"],[47,18,35,16],[47,21,35,19],[47,22,35,20,"b"],[47,23,35,21],[47,24,35,22,"dataKey"],[47,31,35,29],[47,32,35,30],[47,33,35,31,"filter"],[47,39,35,37],[47,40,35,38,"dk"],[47,42,35,40],[47,46,35,44,"dk"],[47,48,35,46],[47,52,35,50],[47,56,35,54],[47,57,35,55],[48,6,36,4],[48,10,36,8,"barSize"],[48,17,36,15],[48,20,36,18,"getBarSize"],[48,30,36,28],[48,31,36,29,"globalSize"],[48,41,36,39],[48,43,36,41,"totalSize"],[48,52,36,50],[48,54,36,52,"b"],[48,55,36,53],[48,56,36,54,"barSize"],[48,63,36,61],[48,64,36,62],[49,6,37,4],[49,13,37,11],[50,8,38,6,"stackId"],[50,15,38,13],[50,17,38,15,"undefined"],[50,26,38,24],[51,8,39,6,"dataKeys"],[51,16,39,14],[52,8,40,6,"barSize"],[53,6,41,4],[53,7,41,5],[54,4,42,2],[54,5,42,3],[54,6,42,4],[55,4,43,2],[55,11,43,9],[55,12,43,10],[55,15,43,13,"stackedSizeList"],[55,30,43,28],[55,32,43,30],[55,35,43,33,"unstackedSizeList"],[55,52,43,50],[55,53,43,51],[56,2,44,0],[56,3,44,1],[57,0,44,2],[57,3]],"functionMap":{"names":["<global>","getBarSize","combineBarSizeList","allBars.filter$argument_0","stackedBars.reduce$argument_0","Object.entries.map$argument_0","bars.map$argument_0","unstackedBars.map$argument_0","filter$argument_0"],"mappings":"AAA;iBCE;CDM;gCEC;qCCG,sBD;wCEC;GFQ;yDGC;4BCG,cD;GHO;4CKC;sCCC,gBD;GLO;CFE"},"hasCjsExports":false},"type":"js/module"}]}