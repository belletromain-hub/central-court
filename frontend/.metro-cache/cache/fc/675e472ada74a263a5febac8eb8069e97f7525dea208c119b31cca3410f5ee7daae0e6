{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _classCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.RequestAnimationFrameTimeoutController = void 0;\n  /**\n   * Callback type for the timeout function.\n   * Receives current time in milliseconds as an argument.\n   */\n\n  /**\n   * A function that, when called, cancels the timeout.\n   */\n  var RequestAnimationFrameTimeoutController = /*#__PURE__*/function () {\n    function RequestAnimationFrameTimeoutController() {\n      _classCallCheck(this, RequestAnimationFrameTimeoutController);\n    }\n    return _createClass(RequestAnimationFrameTimeoutController, [{\n      key: \"setTimeout\",\n      value: function setTimeout(callback) {\n        var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var startTime = performance.now();\n        var requestId = null;\n        var _executeCallback = function executeCallback(now) {\n          if (now - startTime >= delay) {\n            callback(now);\n            // tests fail without the extra if, even when five lines below it's not needed\n            // TODO finish transition to the mocked timeout controller and then remove this condition\n          } else if (typeof requestAnimationFrame === 'function') {\n            requestId = requestAnimationFrame(_executeCallback);\n          }\n        };\n        requestId = requestAnimationFrame(_executeCallback);\n        return function () {\n          if (requestId != null) {\n            cancelAnimationFrame(requestId);\n          }\n        };\n      }\n    }]);\n  }();\n  exports.RequestAnimationFrameTimeoutController = RequestAnimationFrameTimeoutController;\n});","lineCount":47,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_classCallCheck"],[4,21,1,13],[4,24,1,13,"require"],[4,31,1,13],[4,32,1,13,"_dependencyMap"],[4,46,1,13],[4,92,1,13,"default"],[4,99,1,13],[5,2,1,13],[5,6,1,13,"_createClass"],[5,18,1,13],[5,21,1,13,"require"],[5,28,1,13],[5,29,1,13,"_dependencyMap"],[5,43,1,13],[5,86,1,13,"default"],[5,93,1,13],[6,2,3,0,"Object"],[6,8,3,6],[6,9,3,7,"defineProperty"],[6,23,3,21],[6,24,3,22,"exports"],[6,31,3,29],[6,33,3,31],[6,45,3,43],[6,47,3,45],[7,4,4,2,"value"],[7,9,4,7],[7,11,4,9],[8,2,5,0],[8,3,5,1],[8,4,5,2],[9,2,6,0,"exports"],[9,9,6,7],[9,10,6,8,"RequestAnimationFrameTimeoutController"],[9,48,6,46],[9,51,6,49],[9,56,6,54],[9,57,6,55],[10,2,7,0],[11,0,8,0],[12,0,9,0],[13,0,10,0],[15,2,12,0],[16,0,13,0],[17,0,14,0],[18,2,12,0],[18,6,16,6,"RequestAnimationFrameTimeoutController"],[18,44,16,44],[19,4,16,44],[19,13,16,44,"RequestAnimationFrameTimeoutController"],[19,52,16,44],[20,6,16,44,"_classCallCheck"],[20,21,16,44],[20,28,16,44,"RequestAnimationFrameTimeoutController"],[20,66,16,44],[21,4,16,44],[22,4,16,44],[22,11,16,44,"_createClass"],[22,23,16,44],[22,24,16,44,"RequestAnimationFrameTimeoutController"],[22,62,16,44],[23,6,16,44,"key"],[23,9,16,44],[24,6,16,44,"value"],[24,11,16,44],[24,13,17,2],[24,22,17,2,"setTimeout"],[24,32,17,12,"setTimeout"],[24,33,17,13,"callback"],[24,41,17,21],[24,43,17,23],[25,8,18,4],[25,12,18,8,"delay"],[25,17,18,13],[25,20,18,16,"arguments"],[25,29,18,25],[25,30,18,26,"length"],[25,36,18,32],[25,39,18,35],[25,40,18,36],[25,44,18,40,"arguments"],[25,53,18,49],[25,54,18,50],[25,55,18,51],[25,56,18,52],[25,61,18,57,"undefined"],[25,70,18,66],[25,73,18,69,"arguments"],[25,82,18,78],[25,83,18,79],[25,84,18,80],[25,85,18,81],[25,88,18,84],[25,89,18,85],[26,8,19,4],[26,12,19,8,"startTime"],[26,21,19,17],[26,24,19,20,"performance"],[26,35,19,31],[26,36,19,32,"now"],[26,39,19,35],[26,40,19,36],[26,41,19,37],[27,8,20,4],[27,12,20,8,"requestId"],[27,21,20,17],[27,24,20,20],[27,28,20,24],[28,8,21,4],[28,12,21,8,"executeCallback"],[28,28,21,23],[28,31,21,26],[28,40,21,8,"executeCallback"],[28,55,21,23,"executeCallback"],[28,56,21,26,"now"],[28,59,21,29],[28,61,21,33],[29,10,22,6],[29,14,22,10,"now"],[29,17,22,13],[29,20,22,16,"startTime"],[29,29,22,25],[29,33,22,29,"delay"],[29,38,22,34],[29,40,22,36],[30,12,23,8,"callback"],[30,20,23,16],[30,21,23,17,"now"],[30,24,23,20],[30,25,23,21],[31,12,24,8],[32,12,25,8],[33,10,26,6],[33,11,26,7],[33,17,26,13],[33,21,26,17],[33,28,26,24,"requestAnimationFrame"],[33,49,26,45],[33,54,26,50],[33,64,26,60],[33,66,26,62],[34,12,27,8,"requestId"],[34,21,27,17],[34,24,27,20,"requestAnimationFrame"],[34,45,27,41],[34,46,27,42,"executeCallback"],[34,62,27,57],[34,63,27,58],[35,10,28,6],[36,8,29,4],[36,9,29,5],[37,8,30,4,"requestId"],[37,17,30,13],[37,20,30,16,"requestAnimationFrame"],[37,41,30,37],[37,42,30,38,"executeCallback"],[37,58,30,53],[37,59,30,54],[38,8,31,4],[38,15,31,11],[38,27,31,17],[39,10,32,6],[39,14,32,10,"requestId"],[39,23,32,19],[39,27,32,23],[39,31,32,27],[39,33,32,29],[40,12,33,8,"cancelAnimationFrame"],[40,32,33,28],[40,33,33,29,"requestId"],[40,42,33,38],[40,43,33,39],[41,10,34,6],[42,8,35,4],[42,9,35,5],[43,6,36,2],[44,4,36,3],[45,2,36,3],[46,2,38,0,"exports"],[46,9,38,7],[46,10,38,8,"RequestAnimationFrameTimeoutController"],[46,48,38,46],[46,51,38,49,"RequestAnimationFrameTimeoutController"],[46,89,38,87],[47,0,38,88],[47,3]],"functionMap":{"names":["<global>","RequestAnimationFrameTimeoutController","RequestAnimationFrameTimeoutController#setTimeout","executeCallback","<anonymous>"],"mappings":"AAA;ACe;ECC;0BCI;KDQ;WEE;KFI;GDC;CDC"},"hasCjsExports":true},"type":"js/module"}]}